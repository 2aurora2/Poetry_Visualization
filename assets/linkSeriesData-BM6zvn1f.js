import{ax as t,ah as e,c9 as a,aT as i,j as o,aa as r,b2 as n,V as s,ci as l,ay as c,cj as u,ck as h,ar as d,ag as y,aD as g,U as p,a2 as f,b9 as m,X as v,ap as b,cl as x,aF as S,cm as L,aP as M,cn as A,e as _,co as I,cb as T,ab as w,a4 as C,ac as z,cp as P,az as O,_ as k,l as D,a6 as G,c as E,an as R,w as V,aw as X,H as Y,W as B,bk as N,bl as U,ad as q,aS as H,bo as W,cq as F,a7 as j,aR as Z,cc as K,af as Q,cr as J,bn as $,G as tt,bp as et,ba as at,am as it,b8 as ot,P as rt}from"./vintage-BuqR8grH.js";var nt=2*Math.PI,st=d.CMD,lt=["top","right","bottom","left"];function ct(t,e,a,i,o){var r=a.width,n=a.height;switch(t){case"top":i.set(a.x+r/2,a.y-e),o.set(0,-1);break;case"bottom":i.set(a.x+r/2,a.y+n+e),o.set(0,1);break;case"left":i.set(a.x-e,a.y+n/2),o.set(-1,0);break;case"right":i.set(a.x+r+e,a.y+n/2),o.set(1,0)}}function ut(t,e,a,i,o,r,n,s,l){n-=t,s-=e;var c=Math.sqrt(n*n+s*s),u=(n/=c)*a+t,h=(s/=c)*a+e;if(Math.abs(i-o)%nt<1e-4)return l[0]=u,l[1]=h,c-a;if(r){var d=i;i=y(o),o=y(d)}else i=y(i),o=y(o);i>o&&(o+=nt);var g=Math.atan2(s,n);if(g<0&&(g+=nt),g>=i&&g<=o||g+nt>=i&&g+nt<=o)return l[0]=u,l[1]=h,c-a;var p=a*Math.cos(i)+t,f=a*Math.sin(i)+e,m=a*Math.cos(o)+t,v=a*Math.sin(o)+e,b=(p-n)*(p-n)+(f-s)*(f-s),x=(m-n)*(m-n)+(v-s)*(v-s);return b<x?(l[0]=p,l[1]=f,Math.sqrt(b)):(l[0]=m,l[1]=v,Math.sqrt(x))}function ht(t,e,a,i,o,r,n,s){var l=o-t,c=r-e,u=a-t,h=i-e,d=Math.sqrt(u*u+h*h),y=(l*(u/=d)+c*(h/=d))/d;s&&(y=Math.min(Math.max(y,0),1)),y*=d;var g=n[0]=t+y*u,p=n[1]=e+y*h;return Math.sqrt((g-o)*(g-o)+(p-r)*(p-r))}function dt(t,e,a,i,o,r,n){a<0&&(t+=a,a=-a),i<0&&(e+=i,i=-i);var s=t+a,l=e+i,c=n[0]=Math.min(Math.max(o,t),s),u=n[1]=Math.min(Math.max(r,e),l);return Math.sqrt((c-o)*(c-o)+(u-r)*(u-r))}var yt=[];function gt(t,e,a){var i=dt(e.x,e.y,e.width,e.height,t.x,t.y,yt);return a.set(yt[0],yt[1]),i}function pt(t,e,a){for(var i,o,r=0,n=0,s=0,l=0,c=1/0,d=e.data,y=t.x,g=t.y,p=0;p<d.length;){var f=d[p++];1===p&&(s=r=d[p],l=n=d[p+1]);var m=c;switch(f){case st.M:r=s=d[p++],n=l=d[p++];break;case st.L:m=ht(r,n,d[p],d[p+1],y,g,yt,!0),r=d[p++],n=d[p++];break;case st.C:m=h(r,n,d[p++],d[p++],d[p++],d[p++],d[p],d[p+1],y,g,yt),r=d[p++],n=d[p++];break;case st.Q:m=u(r,n,d[p++],d[p++],d[p],d[p+1],y,g,yt),r=d[p++],n=d[p++];break;case st.A:var v=d[p++],b=d[p++],x=d[p++],S=d[p++],L=d[p++],M=d[p++];p+=1;var A=!!(1-d[p++]);i=Math.cos(L)*x+v,o=Math.sin(L)*S+b,p<=1&&(s=i,l=o),m=ut(v,b,S,L,L+M,A,(y-v)*S/x+v,g,yt),r=Math.cos(L+M)*x+v,n=Math.sin(L+M)*S+b;break;case st.R:m=dt(s=r=d[p++],l=n=d[p++],d[p++],d[p++],y,g,yt);break;case st.Z:m=ht(r,n,s,l,y,g,yt,!0),r=s,n=l}m<c&&(c=m,a.set(yt[0],yt[1]))}return c}var ft=new t,mt=new t,vt=new t,bt=new t,xt=new t;function St(e,a){if(e){var i=e.getTextGuideLine(),o=e.getTextContent();if(o&&i){var r=e.textGuideLineConfig||{},l=[[0,0],[0,0],[0,0]],c=r.candidates||lt,u=o.getBoundingRect().clone();u.applyTransform(o.getComputedTransform());var h=1/0,d=r.anchor,y=e.getComputedTransform(),g=y&&n([],y),p=a.get("length2")||0;d&&vt.copy(d);for(var f=0;f<c.length;f++){ct(c[f],0,u,ft,bt),t.scaleAndAdd(mt,ft,bt,p),mt.transform(g);var m=e.getBoundingRect(),v=d?d.distance(mt):e instanceof s?pt(mt,e.path,vt):gt(mt,m,vt);v<h&&(h=v,mt.transform(y),vt.transform(y),vt.toArray(l[0]),mt.toArray(l[1]),ft.toArray(l[2]))}At(l,a.get("minTurnAngle")),i.setShape({points:l})}}}var Lt=[],Mt=new t;function At(e,a){if(a<=180&&a>0){a=a/180*Math.PI,ft.fromArray(e[0]),mt.fromArray(e[1]),vt.fromArray(e[2]),t.sub(bt,ft,mt),t.sub(xt,vt,mt);var i=bt.len(),o=xt.len();if(!(i<.001||o<.001)){bt.scale(1/i),xt.scale(1/o);var r=bt.dot(xt);if(Math.cos(a)<r){var n=ht(mt.x,mt.y,vt.x,vt.y,ft.x,ft.y,Lt,!1);Mt.fromArray(Lt),Mt.scaleAndAdd(xt,n/Math.tan(Math.PI-a));var s=vt.x!==mt.x?(Mt.x-mt.x)/(vt.x-mt.x):(Mt.y-mt.y)/(vt.y-mt.y);if(isNaN(s))return;s<0?t.copy(Mt,mt):s>1&&t.copy(Mt,vt),Mt.toArray(e[1])}}}}function _t(e,a,i){if(i<=180&&i>0){i=i/180*Math.PI,ft.fromArray(e[0]),mt.fromArray(e[1]),vt.fromArray(e[2]),t.sub(bt,mt,ft),t.sub(xt,vt,mt);var o=bt.len(),r=xt.len();if(!(o<.001||r<.001))if(bt.scale(1/o),xt.scale(1/r),bt.dot(a)<Math.cos(i)){var n=ht(mt.x,mt.y,vt.x,vt.y,ft.x,ft.y,Lt,!1);Mt.fromArray(Lt);var s=Math.PI/2,l=s+Math.acos(xt.dot(a))-i;if(l>=s)t.copy(Mt,vt);else{Mt.scaleAndAdd(xt,n/Math.tan(Math.PI/2-l));var c=vt.x!==mt.x?(Mt.x-mt.x)/(vt.x-mt.x):(Mt.y-mt.y)/(vt.y-mt.y);if(isNaN(c))return;c<0?t.copy(Mt,mt):c>1&&t.copy(Mt,vt)}Mt.toArray(e[1])}}}function It(t,e,a,i){var o="normal"===a,r=o?t:t.ensureState(a);r.ignore=e;var n=i.get("smooth");n&&!0===n&&(n=.3),r.shape=r.shape||{},n>0&&(r.shape.smooth=n);var s=i.getModel("lineStyle").getLineStyle();o?t.useStyle(s):r.style=s}function Tt(t,e){var a=e.smooth,i=e.points;if(i)if(t.moveTo(i[0][0],i[0][1]),a>0&&i.length>=3){var o=l(i[0],i[1]),r=l(i[1],i[2]);if(!o||!r)return t.lineTo(i[1][0],i[1][1]),void t.lineTo(i[2][0],i[2][1]);var n=Math.min(o,r)*a,s=c([],i[1],i[0],n/o),u=c([],i[1],i[2],n/r),h=c([],s,u,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],h[0],h[1]),t.bezierCurveTo(u[0],u[1],u[0],u[1],i[2][0],i[2][1])}else for(var d=1;d<i.length;d++)t.lineTo(i[d][0],i[d][1])}function wt(t,r,n){var s=t.getTextGuideLine(),l=t.getTextContent();if(l){for(var c=r.normal,u=c.get("show"),h=l.ignore,d=0;d<e.length;d++){var y=e[d],g=r[y],p="normal"===y;if(g){var f=g.get("show");if((p?h:a(l.states[y]&&l.states[y].ignore,h))||!a(f,u)){var m=p?s:s&&s.states[y];m&&(m.ignore=!0),s&&It(s,!0,y,g);continue}s||(s=new i,t.setTextGuideLine(s),p||!h&&u||It(s,!0,"normal",r.normal),t.stateProxy&&(s.stateProxy=t.stateProxy)),It(s,!1,y,g)}}if(s){o(s.style,n),s.style.fill=null;var v=c.get("showAbove");(t.textGuideLineConfig=t.textGuideLineConfig||{}).showAbove=v||!1,s.buildPath=Tt}}else s&&t.removeTextGuideLine()}function Ct(t,e){e=e||"labelLine";for(var a={normal:t.getModel(e)},i=0;i<r.length;i++){var o=r[i];a[o]=t.getModel([o,e])}return a}function zt(t){if(t){for(var e=[],a=0;a<t.length;a++)e.push(t[a].slice());return e}}function Pt(t,e){var a=t.label,i=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:a.style.align,verticalAlign:a.style.verticalAlign,labelLinePoints:zt(i&&i.shape.points)}}var Ot=["align","verticalAlign","width","height","fontSize"],kt=new O,Dt=g(),Gt=g();function Et(t,e,a){for(var i=0;i<a.length;i++){var o=a[i];null!=e[o]&&(t[o]=e[o])}}var Rt=["x","y","rotation"],Vt=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,e,a,i,o){var r=i.style,n=i.__hostTarget.textConfig||{},s=i.getComputedTransform(),l=i.getBoundingRect().plain();p.applyTransform(l,l,s),s?kt.setLocalTransform(s):(kt.x=kt.y=kt.rotation=kt.originX=kt.originY=0,kt.scaleX=kt.scaleY=1),kt.rotation=y(kt.rotation);var c,u=i.__hostTarget;if(u){c=u.getBoundingRect().plain();var h=u.getComputedTransform();p.applyTransform(c,c,h)}var d=c&&u.getTextGuideLine();this._labelList.push({label:i,labelLine:d,seriesModel:a,dataIndex:t,dataType:e,layoutOption:o,computedLayoutOption:null,rect:l,hostRect:c,priority:c?c.width*c.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:d&&d.ignore,x:kt.x,y:kt.y,scaleX:kt.scaleX,scaleY:kt.scaleY,rotation:kt.rotation,style:{x:r.x,y:r.y,align:r.align,verticalAlign:r.verticalAlign,width:r.width,height:r.height,fontSize:r.fontSize},cursor:i.cursor,attachedPos:n.position,attachedRot:n.rotation}})},t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var a=t.__model,i=a.get("labelLayout");(f(i)||m(i).length)&&t.group.traverse((function(t){if(t.ignore)return!0;var o=t.getTextContent(),r=v(t);o&&!o.disableLabelLayout&&e._addLabel(r.dataIndex,r.dataType,a,o,i)}))},t.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),a=t.getHeight();function i(t,e){return function(){St(t,e)}}for(var o=0;o<this._labelList.length;o++){var r=this._labelList[o],n=r.label,s=n.__hostTarget,l=r.defaultAttr,c=void 0;c=(c=f(r.layoutOption)?r.layoutOption(Pt(r,s)):r.layoutOption)||{},r.computedLayoutOption=c;var u=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=c.x||null!=c.y?null:l.attachedPos,rotation:null!=c.rotate?c.rotate*u:l.attachedRot,offset:[c.dx||0,c.dy||0]});var h=!1;if(null!=c.x?(n.x=b(c.x,e),n.setStyle("x",0),h=!0):(n.x=l.x,n.setStyle("x",l.style.x)),null!=c.y?(n.y=b(c.y,a),n.setStyle("y",0),h=!0):(n.y=l.y,n.setStyle("y",l.style.y)),c.labelLinePoints){var d=s.getTextGuideLine();d&&(d.setShape({points:c.labelLinePoints}),h=!1)}Dt(n).needsUpdateLabelLine=h,n.rotation=null!=c.rotate?c.rotate*u:l.rotation,n.scaleX=l.scaleX,n.scaleY=l.scaleY;for(var y=0;y<Ot.length;y++){var g=Ot[y];n.setStyle(g,null!=c[g]?c[g]:l.style[g])}if(c.draggable){if(n.draggable=!0,n.cursor="move",s){var p=r.seriesModel;if(null!=r.dataIndex)p=r.seriesModel.getData(r.dataType).getItemModel(r.dataIndex);n.on("drag",i(s,p.getModel("labelLine")))}}else n.off("drag"),n.cursor=l.cursor}},t.prototype.layout=function(t){var e=t.getWidth(),a=t.getHeight(),i=x(this._labelList),o=S(i,(function(t){return"shiftX"===t.layoutOption.moveOverlap})),r=S(i,(function(t){return"shiftY"===t.layoutOption.moveOverlap}));L(o,0,e),M(r,0,a);var n=S(i,(function(t){return t.layoutOption.hideOverlap}));A(n)},t.prototype.processLabelsOverall=function(){var t=this;_(this._chartViewList,(function(e){var a=e.__model,i=e.ignoreLabelLineUpdate,o=a.isAnimationEnabled();e.group.traverse((function(e){if(e.ignore&&!e.forceLabelAnimation)return!0;var r=!i,n=e.getTextContent();!r&&n&&(r=Dt(n).needsUpdateLabelLine),r&&t._updateLabelLine(e,a),o&&t._animateLabels(e,a)}))}))},t.prototype._updateLabelLine=function(t,e){var a=t.getTextContent(),i=v(t),o=i.dataIndex;if(a&&null!=o){var r=e.getData(i.dataType),n=r.getItemModel(o),s={},l=r.getItemVisual(o,"style");if(l){var c=r.getVisual("drawType");s.stroke=l[c]}var u=n.getModel("labelLine");wt(t,Ct(n),s),St(t,u)}},t.prototype._animateLabels=function(t,e){var i=t.getTextContent(),o=t.getTextGuideLine();if(i&&(t.forceLabelAnimation||!i.ignore&&!i.invisible&&!t.disableLabelAnimation&&!I(t))){var r=(g=Dt(i)).oldLayout,n=v(t),s=n.dataIndex,l={x:i.x,y:i.y,rotation:i.rotation},c=e.getData(n.dataType);if(r){i.attr(r);var u=t.prevStates;u&&(C(u,"select")>=0&&i.attr(g.oldLayoutSelect),C(u,"emphasis")>=0&&i.attr(g.oldLayoutEmphasis)),z(i,l,e,s)}else if(i.attr(l),!T(i).valueAnimation){var h=a(i.style.opacity,1);i.style.opacity=0,w(i,{style:{opacity:h}},e,s)}if(g.oldLayout=l,i.states.select){var d=g.oldLayoutSelect={};Et(d,l,Rt),Et(d,i.states.select,Rt)}if(i.states.emphasis){var y=g.oldLayoutEmphasis={};Et(y,l,Rt),Et(y,i.states.emphasis,Rt)}P(i,s,c,e,e)}if(o&&!o.ignore&&!o.invisible){r=(g=Gt(o)).oldLayout;var g,p={points:o.shape.points};r?(o.attr({shape:r}),z(o,{shape:p},e)):(o.setShape(p),o.style.strokePercent=0,w(o,{style:{strokePercent:1}},e)),g.oldLayout=p}},t}(),Xt=g();function Yt(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,a){var i=Xt(e).labelManager;i||(i=Xt(e).labelManager=new Vt),i.clearLabels()})),t.registerUpdateLifecycle("series:layoutlabels",(function(t,e,a){var i=Xt(e).labelManager;a.updatedSeries.forEach((function(t){i.addLabelsOfSeries(e.getViewOfSeriesModel(t))})),i.updateLayoutConfig(e),i.layout(e),i.processLabelsOverall()}))}var Bt=function(t){function e(){var a=null!==t&&t.apply(this,arguments)||this;return a.type=e.type,a.layoutMode={type:"box",ignoreSize:!0},a}return k(e,t),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(D),Nt=function(t){function e(){var a=null!==t&&t.apply(this,arguments)||this;return a.type=e.type,a}return k(e,t),e.prototype.render=function(t,e,i){if(this.group.removeAll(),t.get("show")){var o=this.group,r=t.getModel("textStyle"),n=t.getModel("subtextStyle"),s=t.get("textAlign"),l=a(t.get("textBaseline"),t.get("textVerticalAlign")),c=new G({style:E(r,{text:t.get("text"),fill:r.getTextColor()},{disableBox:!0}),z2:10}),u=c.getBoundingRect(),h=t.get("subtext"),d=new G({style:E(n,{text:h,fill:n.getTextColor(),y:u.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),y=t.get("link"),g=t.get("sublink"),p=t.get("triggerEvent",!0);c.silent=!y&&!p,d.silent=!g&&!p,y&&c.on("click",(function(){R(y,"_"+t.get("target"))})),g&&d.on("click",(function(){R(g,"_"+t.get("subtarget"))})),v(c).eventData=v(d).eventData=p?{componentType:"title",componentIndex:t.componentIndex}:null,o.add(c),h&&o.add(d);var f=o.getBoundingRect(),m=t.getBoxLayoutParams();m.width=f.width,m.height=f.height;var b=V(m,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));s||("middle"===(s=t.get("left")||t.get("right"))&&(s="center"),"right"===s?b.x+=b.width:"center"===s&&(b.x+=b.width/2)),l||("center"===(l=t.get("top")||t.get("bottom"))&&(l="middle"),"bottom"===l?b.y+=b.height:"middle"===l&&(b.y+=b.height/2),l=l||"top"),o.x=b.x,o.y=b.y,o.markRedraw();var x={align:s,verticalAlign:l};c.setStyle(x),d.setStyle(x),f=o.getBoundingRect();var S=b.margin,L=t.getItemStyle(["color","opacity"]);L.fill=t.get("backgroundColor");var M=new X({shape:{x:f.x-S[3],y:f.y-S[0],width:f.width+S[1]+S[3],height:f.height+S[0]+S[2],r:t.get("borderRadius")},style:L,subPixelOptimize:!0,silent:!0});o.add(M)}},e.type="title",e}(Y);function Ut(t){t.registerComponentModel(Bt),t.registerComponentView(Nt)}var qt=function(t){function e(e,a,i,o){var r=t.call(this)||this;return r.updateData(e,a,i,o),r}return k(e,t),e.prototype._createSymbol=function(t,e,a,i,o){this.removeAll();var r=B(t,-1,-1,2,2,null,o);r.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),r.drift=Ht,this._symbolType=t,this.add(r)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){N(this.childAt(0))},e.prototype.downplay=function(){U(this.childAt(0))},e.prototype.setZ=function(t,e){var a=this.childAt(0);a.zlevel=t,a.z=e},e.prototype.setDraggable=function(t,e){var a=this.childAt(0);a.draggable=t,a.cursor=!e&&t?"move":a.cursor},e.prototype.updateData=function(t,a,i,o){this.silent=!1;var r=t.getItemVisual(a,"symbol")||"circle",n=t.hostModel,s=e.getSymbolSize(t,a),l=r!==this._symbolType,c=o&&o.disableAnimation;if(l){var u=t.getItemVisual(a,"symbolKeepAspect");this._createSymbol(r,t,a,s,u)}else{(d=this.childAt(0)).silent=!1;var h={scaleX:s[0]/2,scaleY:s[1]/2};c?d.attr(h):z(d,h,n,a),q(d)}if(this._updateCommon(t,a,s,i,o),l){var d=this.childAt(0);if(!c){h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,w(d,h,n,a)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,e,a,i,o){var r,n,s,l,c,u,h,d,y,g=this.childAt(0),p=t.hostModel;if(i&&(r=i.emphasisItemStyle,n=i.blurItemStyle,s=i.selectItemStyle,l=i.focus,c=i.blurScope,h=i.labelStatesModels,d=i.hoverScale,y=i.cursorStyle,u=i.emphasisDisabled),!i||t.hasItemOption){var f=i&&i.itemModel?i.itemModel:t.getItemModel(e),m=f.getModel("emphasis");r=m.getModel("itemStyle").getItemStyle(),s=f.getModel(["select","itemStyle"]).getItemStyle(),n=f.getModel(["blur","itemStyle"]).getItemStyle(),l=m.get("focus"),c=m.get("blurScope"),u=m.get("disabled"),h=H(f),d=m.getShallow("scale"),y=f.getShallow("cursor")}var v=t.getItemVisual(e,"symbolRotate");g.attr("rotation",(v||0)*Math.PI/180||0);var b=W(t.getItemVisual(e,"symbolOffset"),a);b&&(g.x=b[0],g.y=b[1]),y&&g.attr("cursor",y);var x=t.getItemVisual(e,"style"),S=x.fill;if(g instanceof F){var L=g.style;g.useStyle(j({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},x))}else g.__isEmptyBrush?g.useStyle(j({},x)):g.useStyle(x),g.style.decal=null,g.setColor(S,o&&o.symbolInnerColor),g.style.strokeNoScale=!0;var M=t.getItemVisual(e,"liftZ"),A=this._z2;null!=M?null==A&&(this._z2=g.z2,g.z2+=M):null!=A&&(g.z2=A,this._z2=null);var _=o&&o.useNameLabel;Z(g,h,{labelFetcher:p,labelDataIndex:e,defaultText:function(e){return _?t.getName(e):K(t,e)},inheritColor:S,defaultOpacity:x.opacity}),this._sizeX=a[0]/2,this._sizeY=a[1]/2;var I=g.ensureState("emphasis");I.style=r,g.ensureState("select").style=s,g.ensureState("blur").style=n;var T=null==d||!0===d?Math.max(1.1,3/this._sizeY):isFinite(d)&&d>0?+d:1;I.scaleX=this._sizeX*T,I.scaleY=this._sizeY*T,this.setSymbolScale(1),Q(this,l,c,u)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e,a){var i=this.childAt(0),o=v(this).dataIndex,r=a&&a.animation;if(this.silent=i.silent=!0,a&&a.fadeLabel){var n=i.getTextContent();n&&J(n,{style:{opacity:0}},e,{dataIndex:o,removeOpt:r,cb:function(){i.removeTextContent()}})}else i.removeTextContent();J(i,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:o,cb:t,removeOpt:r})},e.getSymbolSize=function(t,e){return $(t.getItemVisual(e,"symbolSize"))},e}(tt);function Ht(t,e){this.parent.drift(t,e)}function Wt(t,e,a,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(a))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(a,"symbol")}function Ft(t){return null==t||at(t)||(t={isIgnore:t}),t||{}}function jt(t){var e=t.hostModel,a=e.getModel("emphasis");return{emphasisItemStyle:a.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:a.get("focus"),blurScope:a.get("blurScope"),emphasisDisabled:a.get("disabled"),hoverScale:a.get("scale"),labelStatesModels:H(e),cursorStyle:e.get("cursor")}}var Zt=function(){function t(t){this.group=new tt,this._SymbolCtor=t||qt}return t.prototype.updateData=function(t,e){this._progressiveEls=null,e=Ft(e);var a=this.group,i=t.hostModel,o=this._data,r=this._SymbolCtor,n=e.disableAnimation,s=jt(t),l={disableAnimation:n},c=e.getSymbolPoint||function(e){return t.getItemLayout(e)};o||a.removeAll(),t.diff(o).add((function(i){var o=c(i);if(Wt(t,o,i,e)){var n=new r(t,i,s,l);n.setPosition(o),t.setItemGraphicEl(i,n),a.add(n)}})).update((function(u,h){var d=o.getItemGraphicEl(h),y=c(u);if(Wt(t,y,u,e)){var g=t.getItemVisual(u,"symbol")||"circle",p=d&&d.getSymbolType&&d.getSymbolType();if(!d||p&&p!==g)a.remove(d),(d=new r(t,u,s,l)).setPosition(y);else{d.updateData(t,u,s,l);var f={x:y[0],y:y[1]};n?d.attr(f):z(d,f,i)}a.add(d),t.setItemGraphicEl(u,d)}else a.remove(d)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&e.fadeOut((function(){a.remove(e)}),i)})).execute(),this._getSymbolPoint=c,this._data=t},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl((function(e,a){var i=t._getSymbolPoint(a);e.setPosition(i),e.markRedraw()}))},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=jt(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,a){function i(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],a=Ft(a);for(var o=t.start;o<t.end;o++){var r=e.getItemLayout(o);if(Wt(e,r,o,a)){var n=new this._SymbolCtor(e,o,this._seriesScope);n.traverse(i),n.setPosition(r),this.group.add(n),e.setItemGraphicEl(o,n),this._progressiveEls.push(n)}}},t.prototype.eachRendered=function(t){et(this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var e=this.group,a=this._data;a&&t?a.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}),a.hostModel)})):e.removeAll()},t}(),Kt=g();function Qt(t){var e=t.mainData,a=t.datas;a||(a={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,ie(e,a,t),_(a,(function(a){_(e.TRANSFERABLE_METHODS,(function(e){a.wrapMethod(e,it(Jt,t))}))})),e.wrapMethod("cloneShallow",it(te,t)),_(e.CHANGABLE_METHODS,(function(a){e.wrapMethod(a,it($t,t))})),ot(a[e.dataType]===e)}function Jt(t,e){if(Kt(i=this).mainData===i){var a=j({},Kt(this).datas);a[this.dataType]=e,ie(e,a,t)}else oe(e,this.dataType,Kt(this).mainData,t);var i;return e}function $t(t,e){return t.struct&&t.struct.update(),e}function te(t,e){return _(Kt(e).datas,(function(a,i){a!==e&&oe(a.cloneShallow(),i,e,t)})),e}function ee(t){var e=Kt(this).mainData;return null==t||null==e?e:Kt(e).datas[t]}function ae(){var t=Kt(this).mainData;return null==t?[{data:t}]:rt(m(Kt(t).datas),(function(e){return{type:e,data:Kt(t).datas[e]}}))}function ie(t,e,a){Kt(t).datas={},_(e,(function(e,i){oe(e,i,t,a)}))}function oe(t,e,a,i){Kt(a).datas[e]=t,Kt(t).mainData=a,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=ee,t.getLinkedDataAll=ae}export{Zt as S,Ut as a,At as b,_t as c,Ct as g,Yt as i,Qt as l,wt as s};
