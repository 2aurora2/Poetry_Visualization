import{L as e,c4 as t,_ as a,c5 as o,aI as r,aN as n,e as i,X as s,a3 as l,aX as u,a2 as d,c6 as c,ae as g,a6 as h,b2 as p,b3 as v,c7 as y,G as f,b4 as m,b5 as x,ap as _,c8 as S,aj as b,c9 as I,V as w,x as L,ca as M,cb as D,a_ as E,af as A,cc as N,as as V,cd as T,ce as C,cf as k,K as z,ai as R,cg as P,ch as B,ci as Z,J as G,bN as O,am as F,an as j,R as H,ah as X,au as Y,aw as W,at as U,Q as q,h as K,aq as J,bE as $,P as Q,l as ee,aB as te,y as ae,D as oe,f as re,k as ne,aF as ie,b$ as se,cj as le,ck as ue,cl as de,cm as ce,cn as ge,co as he,cp as pe,bB as ve,cq as ye,cr as fe,cs as me,aL as xe,a4 as _e,a0 as Se,aR as be,A as Ie,H as we,ct as Le,aC as Me,cu as De,c3 as Ee,bM as Ae,M as Ne,O as Ve,b0 as Te,cv as Ce,aD as ke,cw as ze,aO as Re,o as Pe,g as Be,cx as Ze,b9 as Ge,b7 as Oe,b8 as Fe,bR as je,bb as He}from"./installCanvasRenderer-B0UAo2nS.js";import{R as Xe,V as Ye,u as We,a as Ue,b as qe,c as Ke,g as Je,j as $e}from"./install-rkyIBmIs.js";import{L as Qe,v as et}from"./vintage-Fu1xNemR.js";import{d as tt,s as at,w as ot,o as rt,m as nt,a as it,c as st}from"./index-5VF5cRbG.js";var lt=e.prototype,ut=t.prototype,dt=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}}();function ct(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}a(t,e)}(dt);var gt=function(e){function t(t){var a=e.call(this,t)||this;return a.type="ec-line",a}return a(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new dt},t.prototype.buildPath=function(e,t){ct(t)?lt.buildPath.call(this,e,t):ut.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return ct(this.shape)?lt.pointAt.call(this,e):ut.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,a=ct(t)?[t.x2-t.x1,t.y2-t.y1]:ut.tangentAt.call(this,e);return o(a,a)},t}(r),ht=["fromSymbol","toSymbol"];function pt(e){return"_"+e+"Type"}function vt(e,t,a){var o=t.getItemVisual(a,e);if(!o||"none"===o)return o;var r=t.getItemVisual(a,e+"Size"),n=t.getItemVisual(a,e+"Rotate"),i=t.getItemVisual(a,e+"Offset"),s=t.getItemVisual(a,e+"KeepAspect"),l=m(r);return o+l+x(i||0,l)+(n||"")+(s||"")}function yt(e,t,a){var o=t.getItemVisual(a,e);if(o&&"none"!==o){var r=t.getItemVisual(a,e+"Size"),n=t.getItemVisual(a,e+"Rotate"),i=t.getItemVisual(a,e+"Offset"),s=t.getItemVisual(a,e+"KeepAspect"),l=m(r),u=x(i||0,l),d=_(o,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return d.__specifiedRotation=null==n||isNaN(n)?void 0:+n*Math.PI/180||0,d.name=e,d}}function ft(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var a=t[2];a?(e.cpx1=a[0],e.cpy1=a[1]):(e.cpx1=NaN,e.cpy1=NaN)}var mt=function(e){function t(t,a,o){var r=e.call(this)||this;return r._createLine(t,a,o),r}return a(t,e),t.prototype._createLine=function(e,t,a){var o=e.hostModel,r=function(e){var t=new gt({name:"line",subPixelOptimize:!0});return ft(t.shape,e),t}(e.getItemLayout(t));r.shape.percent=0,n(r,{shape:{percent:1}},o,t),this.add(r),i(ht,(function(a){var o=yt(a,e,t);this.add(o),this[pt(a)]=vt(a,e,t)}),this),this._updateCommonStl(e,t,a)},t.prototype.updateData=function(e,t,a){var o=e.hostModel,r=this.childOfName("line"),n=e.getItemLayout(t),l={shape:{}};ft(l.shape,n),s(r,l,o,t),i(ht,(function(a){var o=vt(a,e,t),r=pt(a);if(this[r]!==o){this.remove(this.childOfName(a));var n=yt(a,e,t);this.add(n)}this[r]=o}),this),this._updateCommonStl(e,t,a)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,a){var o=e.hostModel,r=this.childOfName("line"),n=a&&a.emphasisLineStyle,s=a&&a.blurLineStyle,p=a&&a.selectLineStyle,v=a&&a.labelStatesModels,y=a&&a.emphasisDisabled,f=a&&a.focus,m=a&&a.blurScope;if(!a||e.hasItemOption){var x=e.getItemModel(t),_=x.getModel("emphasis");n=_.getModel("lineStyle").getLineStyle(),s=x.getModel(["blur","lineStyle"]).getLineStyle(),p=x.getModel(["select","lineStyle"]).getLineStyle(),y=_.get("disabled"),f=_.get("focus"),m=_.get("blurScope"),v=l(x)}var S=e.getItemVisual(t,"style"),b=S.stroke;r.useStyle(S),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=n,r.ensureState("blur").style=s,r.ensureState("select").style=p,i(ht,(function(e){var t=this.childOfName(e);if(t){t.setColor(b),t.style.opacity=S.opacity;for(var a=0;a<u.length;a++){var o=u[a],n=r.getState(o);if(n){var i=n.style||{},s=t.ensureState(o),l=s.style||(s.style={});null!=i.stroke&&(l[t.__isEmptyBrush?"stroke":"fill"]=i.stroke),null!=i.opacity&&(l.opacity=i.opacity)}}t.markRedraw()}}),this);var I=o.getRawValue(t);d(this,v,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,a){return o.getFormattedLabel(t,a,e.dataType)}},inheritColor:b||"#000",defaultOpacity:S.opacity,defaultText:(null==I?e.getName(t):isFinite(I)?c(I):I)+""});var w=this.getTextContent();if(w){var L=v.normal;w.__align=w.style.align,w.__verticalAlign=w.style.verticalAlign,w.__position=L.get("position")||"middle";var M=L.get("distance");g(M)||(M=[M,M]),w.__labelDistance=M}this.setTextConfig({position:null,local:!0,inside:!1}),h(this,f,m,y)},t.prototype.highlight=function(){p(this)},t.prototype.downplay=function(){v(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName("line");ft(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),a=e.childOfName("toSymbol"),r=e.getTextContent();if(t||a||r&&!r.ignore){for(var n=1,i=this.parent;i;)i.scaleX&&(n/=i.scaleX),i=i.parent;var s=e.childOfName("line");if(this.__dirty||s.__dirty){var l=s.shape.percent,u=s.pointAt(0),d=s.pointAt(l),c=y([],d,u);if(o(c,c),t&&(t.setPosition(u),L(t,0),t.scaleX=t.scaleY=n*l,t.markRedraw()),a&&(a.setPosition(d),L(a,1),a.scaleX=a.scaleY=n*l,a.markRedraw()),r&&!r.ignore){r.x=r.y=0,r.originX=r.originY=0;var g=void 0,h=void 0,p=r.__labelDistance,v=p[0]*n,f=p[1]*n,m=l/2,x=s.tangentAt(m),_=[x[1],-x[0]],S=s.pointAt(m);_[1]>0&&(_[0]=-_[0],_[1]=-_[1]);var b=x[0]<0?-1:1;if("start"!==r.__position&&"end"!==r.__position){var I=-Math.atan2(x[1],x[0]);d[0]<u[0]&&(I=Math.PI+I),r.rotation=I}var w=void 0;switch(r.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":w=-f,h="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":w=f,h="top";break;default:w=0,h="middle"}switch(r.__position){case"end":r.x=c[0]*v+d[0],r.y=c[1]*f+d[1],g=c[0]>.8?"left":c[0]<-.8?"right":"center",h=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";break;case"start":r.x=-c[0]*v+u[0],r.y=-c[1]*f+u[1],g=c[0]>.8?"right":c[0]<-.8?"left":"center",h=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":r.x=v*b+u[0],r.y=u[1]+w,g=x[0]<0?"right":"left",r.originX=-v*b,r.originY=-w;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":r.x=S[0],r.y=S[1]+w,g="center",r.originY=-w;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":r.x=-v*b+d[0],r.y=d[1]+w,g=x[0]>=0?"right":"left",r.originX=v*b,r.originY=-w}r.scaleX=r.scaleY=n,r.setStyle({verticalAlign:r.__verticalAlign||h,align:r.__align||g})}}}function L(e,t){var a=e.__specifiedRotation;if(null==a){var o=s.tangentAt(t);e.attr("rotation",(1===t?-1:1)*Math.PI/2-Math.atan2(o[1],o[0]))}else e.attr("rotation",a)}},t}(f),xt=function(){function e(e){this.group=new f,this._LineCtor=e||mt}return e.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var a=this,o=a.group,r=a._lineData;a._lineData=e,r||o.removeAll();var n=_t(e);e.diff(r).add((function(a){t._doAdd(e,a,n)})).update((function(a,o){t._doUpdate(r,e,o,a,n)})).remove((function(e){o.remove(r.getItemGraphicEl(e))})).execute()},e.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl((function(t,a){t.updateLayout(e,a)}),this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=_t(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function a(e){e.isGroup||function(e){return e.animators&&e.animators.length>0}(e)||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var o=e.start;o<e.end;o++){if(bt(t.getItemLayout(o))){var r=new this._LineCtor(t,o,this._seriesScope);r.traverse(a),this.group.add(r),t.setItemGraphicEl(o,r),this._progressiveEls.push(r)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(e){S(this._progressiveEls||this.group,e)},e.prototype._doAdd=function(e,t,a){if(bt(e.getItemLayout(t))){var o=new this._LineCtor(e,t,a);e.setItemGraphicEl(t,o),this.group.add(o)}},e.prototype._doUpdate=function(e,t,a,o,r){var n=e.getItemGraphicEl(a);bt(t.getItemLayout(o))?(n?n.updateData(t,o,r):n=new this._LineCtor(t,o,r),t.setItemGraphicEl(o,n),this.group.add(n)):this.group.remove(n)},e}();function _t(e){var t=e.hostModel,a=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:a.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:a.get("disabled"),blurScope:a.get("blurScope"),focus:a.get("focus"),labelStatesModels:l(t)}}function St(e){return isNaN(e[0])||isNaN(e[1])}function bt(e){return e&&!St(e[0])&&!St(e[1])}var It=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return a(t,e),t.type="dataZoom.inside",t.defaultOption=b(I.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(I),wt=w();function Lt(e,t){if(t){e.removeKey(t.model.uid);var a=t.controller;a&&a.dispose()}}function Mt(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function Dt(e,t,a,o){return e.coordinateSystem.containPoint([a,o])}function Et(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,(function(e,t){var a=wt(t),o=a.coordSysRecordMap||(a.coordSysRecordMap=L());o.each((function(e){e.dataZoomInfoMap=null})),e.eachComponent({mainType:"dataZoom",subType:"inside"},(function(e){var a=M(e);i(a.infoList,(function(a){var r=a.model.uid,n=o.get(r)||o.set(r,function(e,t){var a={model:t,containsPoint:E(Dt,t),dispatchAction:E(Mt,e),dataZoomInfoMap:null,controller:null},o=a.controller=new Xe(e.getZr());return i(["pan","zoom","scrollMove"],(function(e){o.on(e,(function(t){var o=[];a.dataZoomInfoMap.each((function(r){if(t.isAvailableBehavior(r.model.option)){var n=(r.getRange||{})[e],i=n&&n(r.dzReferCoordSysInfo,a.model.mainType,a.controller,t);!r.model.get("disabled",!0)&&i&&o.push({dataZoomId:r.model.id,start:i[0],end:i[1]})}})),o.length&&a.dispatchAction(o)}))})),a}(t,a.model));(n.dataZoomInfoMap||(n.dataZoomInfoMap=L())).set(e.uid,{dzReferCoordSysInfo:a,model:e,getRange:null})}))})),o.each((function(e){var t,a=e.controller,r=e.dataZoomInfoMap;if(r){var n=r.keys()[0];null!=n&&(t=r.get(n))}if(t){var i=function(e){var t,a="type_",o={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return e.each((function(e){var n=e.model,i=!n.get("disabled",!0)&&(!n.get("zoomLock",!0)||"move");o[a+i]>o[a+t]&&(t=i),r=r&&n.get("preventDefaultMouseMove",!0)})),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}(r);a.enable(i.controlType,i.opt),a.setPointerChecker(e.containsPoint),D(e,"dispatchAction",t.model.get("throttle",!0),"fixRate")}else Lt(o,e)}))}))}var At=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return a(t,e),t.prototype.render=function(t,a,o){e.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),function(e,t,a){wt(e).coordSysRecordMap.each((function(e){var o=e.dataZoomInfoMap.get(t.uid);o&&(o.getRange=a)}))}(o,t,{pan:A(Nt.pan,this),zoom:A(Nt.zoom,this),scrollMove:A(Nt.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){!function(e,t){for(var a=wt(e).coordSysRecordMap,o=a.keys(),r=0;r<o.length;r++){var n=o[r],i=a.get(n),s=i.dataZoomInfoMap;if(s){var l=t.uid;s.get(l)&&(s.removeKey(l),s.keys().length||Lt(a,i))}}}(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(N),Nt={zoom:function(e,t,a,o){var r=this.range,n=r.slice(),i=e.axisModels[0];if(i){var s=Tt[t](null,[o.originX,o.originY],i,a,e),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(n[1]-n[0])+n[0],u=Math.max(1/o.scale,0);n[0]=(n[0]-l)*u+l,n[1]=(n[1]-l)*u+l;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return V(0,n,[0,100],0,d.minSpan,d.maxSpan),this.range=n,r[0]!==n[0]||r[1]!==n[1]?n:void 0}},pan:Vt((function(e,t,a,o,r,n){var i=Tt[o]([n.oldX,n.oldY],[n.newX,n.newY],t,r,a);return i.signal*(e[1]-e[0])*i.pixel/i.pixelLength})),scrollMove:Vt((function(e,t,a,o,r,n){return Tt[o]([0,0],[n.scrollDelta,n.scrollDelta],t,r,a).signal*(e[1]-e[0])*n.scrollDelta}))};function Vt(e){return function(t,a,o,r){var n=this.range,i=n.slice(),s=t.axisModels[0];if(s){var l=e(i,s,t,a,o,r);return V(l,i,[0,100],"all"),this.range=i,n[0]!==i[0]||n[1]!==i[1]?i:void 0}}}var Tt={grid:function(e,t,a,o,r){var n=a.axis,i={},s=r.model.coordinateSystem.getRect();return e=e||[0,0],"x"===n.dim?(i.pixel=t[0]-e[0],i.pixelLength=s.width,i.pixelStart=s.x,i.signal=n.inverse?1:-1):(i.pixel=t[1]-e[1],i.pixelLength=s.height,i.pixelStart=s.y,i.signal=n.inverse?-1:1),i},polar:function(e,t,a,o,r){var n=a.axis,i={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),"radiusAxis"===a.mainType?(i.pixel=t[0]-e[0],i.pixelLength=l[1]-l[0],i.pixelStart=l[0],i.signal=n.inverse?1:-1):(i.pixel=t[1]-e[1],i.pixelLength=u[1]-u[0],i.pixelStart=u[0],i.signal=n.inverse?-1:1),i},singleAxis:function(e,t,a,o,r){var n=a.axis,i=r.model.coordinateSystem.getRect(),s={};return e=e||[0,0],"horizontal"===n.orient?(s.pixel=t[0]-e[0],s.pixelLength=i.width,s.pixelStart=i.x,s.signal=n.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=i.height,s.pixelStart=i.y,s.signal=n.inverse?-1:1),s}};function Ct(e){T(e),e.registerComponentModel(It),e.registerComponentView(At),Et(e)}var kt=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return a(t,e),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=b(I.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(I),zt=H,Rt="horizontal",Pt="vertical",Bt=["line","bar","candlestick","scatter"],Zt={easing:"cubicOut",duration:100,delay:0},Gt=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._displayables={},a}return a(t,e),t.prototype.init=function(e,t){this.api=t,this._onBrush=A(this._onBrush,this),this._onBrushEnd=A(this._onBrushEnd,this)},t.prototype.render=function(t,a,o,r){if(e.prototype.render.apply(this,arguments),D(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show")){if(t.noTarget())return this._clear(),void this.group.removeAll();r&&"dataZoom"===r.type&&r.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){C(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var t=this._displayables.sliderGroup=new f;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,t=this.api,a=e.get("brushSelect")?7:0,o=this._findCoordRect(),r={width:t.getWidth(),height:t.getHeight()},n=this._orient===Rt?{right:r.width-o.x-o.width,top:r.height-30-7-a,width:o.width,height:30}:{right:7,top:o.y,width:30,height:o.height},s=k(e.option);i(["right","top","width","height"],(function(e){"ph"===s[e]&&(s[e]=n[e])}));var l=z(s,r);this._location={x:l.x,y:l.y},this._size=[l.width,l.height],this._orient===Pt&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,t=this._location,a=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),r=o&&o.get("inverse"),n=this._displayables.sliderGroup,i=(this._dataShadowInfo||{}).otherAxisInverse;n.attr(a!==Rt||r?a===Rt&&r?{scaleY:i?1:-1,scaleX:-1}:a!==Pt||r?{scaleY:i?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:i?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:i?1:-1,scaleX:1});var s=e.getBoundingRect([n]);e.x=t.x-s.x,e.y=t.y-s.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,t=this._size,a=this._displayables.sliderGroup,o=e.get("brushSelect");a.add(new zt({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var r=new zt({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:A(this._onClickPanel,this)}),n=this.api.getZr();o?(r.on("mousedown",this._onBrushStart,this),r.cursor="crosshair",n.on("mousemove",this._onBrush),n.on("mouseup",this._onBrushEnd)):(n.off("mousemove",this._onBrush),n.off("mouseup",this._onBrushEnd)),a.add(r)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var t=this._size,a=this._shadowSize||[],o=e.series,r=o.getRawData(),n=o.getShadowDim&&o.getShadowDim(),i=n&&r.getDimensionInfo(n)?o.getShadowDim():e.otherDim;if(null!=i){var s=this._shadowPolygonPts,l=this._shadowPolylinePts;if(r!==this._shadowData||i!==this._shadowDim||t[0]!==a[0]||t[1]!==a[1]){var u=r.getDataExtent(i),d=.3*(u[1]-u[0]);u=[u[0]-d,u[1]+d];var c,g=[0,t[1]],h=[0,t[0]],p=[[t[0],0],[0,0]],v=[],y=h[1]/(r.count()-1),m=0,x=Math.round(r.count()/t[0]);r.each([i],(function(e,t){if(x>0&&t%x)m+=y;else{var a=null==e||isNaN(e)||""===e,o=a?0:R(e,u,g,!0);a&&!c&&t?(p.push([p[p.length-1][0],0]),v.push([v[v.length-1][0],0])):!a&&c&&(p.push([m,0]),v.push([m,0])),p.push([m,o]),v.push([m,o]),m+=y,c=a}})),s=this._shadowPolygonPts=p,l=this._shadowPolylinePts=v}this._shadowData=r,this._shadowDim=i,this._shadowSize=[t[0],t[1]];for(var _,S,b,I,w,L=this.dataZoomModel,M=0;M<3;M++){var D=(_=1===M,S=void 0,b=void 0,I=void 0,w=void 0,S=L.getModel(_?"selectedDataBackground":"dataBackground"),b=new f,I=new Q({shape:{points:s},segmentIgnoreThreshold:1,style:S.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),w=new ee({shape:{points:l},segmentIgnoreThreshold:1,style:S.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),b.add(I),b.add(w),b);this._displayables.sliderGroup.add(D),this._displayables.dataShadowSegs.push(D)}}}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var a,o=this.ecModel;return e.eachTargetAxis((function(r,n){var s=e.getAxisProxy(r,n).getTargetSeriesModels();i(s,(function(e){if(!(a||!0!==t&&P(Bt,e.get("type"))<0)){var i,s=o.getComponent(B(r),n).axis,l={x:"y",y:"x",radius:"angle",angle:"radius"}[r],u=e.coordinateSystem;null!=l&&u.getOtherAxis&&(i=u.getOtherAxis(s).inverse),l=e.getData().mapDimension(l),a={thisAxis:s,series:e,thisDim:r,otherDim:l,otherAxisInverse:i}}}),this)}),this),a}},t.prototype._renderHandle=function(){var e=this.group,t=this._displayables,a=t.handles=[null,null],o=t.handleLabels=[null,null],r=this._displayables.sliderGroup,n=this._size,s=this.dataZoomModel,l=this.api,u=s.get("borderRadius")||0,d=s.get("brushSelect"),c=t.filler=new zt({silent:d,style:{fill:s.get("fillerColor")},textConfig:{position:"inside"}});r.add(c),r.add(new zt({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:n[0],height:n[1],r:u},style:{stroke:s.get("dataBackgroundColor")||s.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),i([0,1],(function(t){var n=s.get("handleIcon");!Z[n]&&n.indexOf("path://")<0&&n.indexOf("image://")<0&&(n="path://"+n);var i=_(n,-1,0,2,2,null,!0);i.attr({cursor:Ot(this._orient),draggable:!0,drift:A(this._onDragMove,this,t),ondragend:A(this._onDragEnd,this),onmouseover:A(this._showDataInfo,this,!0),onmouseout:A(this._showDataInfo,this,!1),z2:5});var l=i.getBoundingRect(),u=s.get("handleSize");this._handleHeight=G(u,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,i.setStyle(s.getModel("handleStyle").getItemStyle()),i.style.strokeNoScale=!0,i.rectHover=!0,i.ensureState("emphasis").style=s.getModel(["emphasis","handleStyle"]).getItemStyle(),O(i);var d=s.get("handleColor");null!=d&&(i.style.fill=d),r.add(a[t]=i);var c=s.getModel("textStyle"),g=(s.get("handleLabel")||{}).show||!1;e.add(o[t]=new F({silent:!0,invisible:!g,style:j(c,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:c.getTextColor(),font:c.getFont()}),z2:10}))}),this);var g=c;if(d){var h=G(s.get("moveHandleSize"),n[1]),p=t.moveHandle=new H({style:s.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:n[1]-.5,height:h}}),v=.8*h,y=t.moveHandleIcon=_(s.get("moveHandleIcon"),-v/2,-v/2,v,v,"#fff",!0);y.silent=!0,y.y=n[1]+h/2-.5,p.ensureState("emphasis").style=s.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var f=Math.min(n[1]/2,Math.max(h,10));(g=t.moveZone=new H({invisible:!0,shape:{y:n[1]-f,height:h+f}})).on("mouseover",(function(){l.enterEmphasis(p)})).on("mouseout",(function(){l.leaveEmphasis(p)})),r.add(p),r.add(y),r.add(g)}g.attr({draggable:!0,cursor:Ot(this._orient),drift:A(this._onDragMove,this,"all"),ondragstart:A(this._showDataInfo,this,!0),ondragend:A(this._onDragEnd,this),onmouseover:A(this._showDataInfo,this,!0),onmouseout:A(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[R(e[0],[0,100],t,!0),R(e[1],[0,100],t,!0)]},t.prototype._updateInterval=function(e,t){var a=this.dataZoomModel,o=this._handleEnds,r=this._getViewExtent(),n=a.findRepresentativeAxisProxy().getMinMaxSpan(),i=[0,100];V(t,o,r,a.get("zoomLock")?"all":e,null!=n.minSpan?R(n.minSpan,i,r,!0):null,null!=n.maxSpan?R(n.maxSpan,i,r,!0):null);var s=this._range,l=this._range=X([R(o[0],r,i,!0),R(o[1],r,i,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},t.prototype._updateView=function(e){var t=this._displayables,a=this._handleEnds,o=X(a.slice()),r=this._size;i([0,1],(function(e){var o=t.handles[e],n=this._handleHeight;o.attr({scaleX:n/2,scaleY:n/2,x:a[e]+(e?-1:1),y:r[1]/2-n/2})}),this),t.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:r[1]});var n={x:o[0],width:o[1]-o[0]};t.moveHandle&&(t.moveHandle.setShape(n),t.moveZone.setShape(n),t.moveZone.getBoundingRect(),t.moveHandleIcon&&t.moveHandleIcon.attr("x",n.x+n.width/2));for(var s=t.dataShadowSegs,l=[0,o[0],o[1],r[0]],u=0;u<s.length;u++){var d=s[u],c=d.getClipPath();c||(c=new H,d.setClipPath(c)),c.setShape({x:l[u],y:0,width:l[u+1]-l[u],height:r[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var t=this.dataZoomModel,a=this._displayables,o=a.handleLabels,r=this._orient,n=["",""];if(t.get("showDetail")){var i=t.findRepresentativeAxisProxy();if(i){var s=i.getAxisModel().axis,l=this._range,u=e?i.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:i.getDataValueWindow();n=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var d=X(this._handleEnds.slice());function c(e){var t=Y(a.handles[e].parent,this.group),i=W(0===e?"right":"left",t),s=this._handleWidth/2+5,l=U([d[e]+(0===e?-s:s),this._size[1]/2],t);o[e].setStyle({x:l[0],y:l[1],verticalAlign:r===Rt?"middle":i,align:r===Rt?i:"center",text:n[e]})}c.call(this,0),c.call(this,1)},t.prototype._formatLabel=function(e,t){var a=this.dataZoomModel,o=a.get("labelFormatter"),r=a.get("labelPrecision");null!=r&&"auto"!==r||(r=t.getPixelPrecision());var n=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(r,20));return q(o)?o(e,n):K(o)?o.replace("{value}",n):n},t.prototype._showDataInfo=function(e){var t=(this.dataZoomModel.get("handleLabel")||{}).show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]).get("show")||!1,o=e||this._dragging?a:t,r=this._displayables,n=r.handleLabels;n[0].attr("invisible",!o),n[1].attr("invisible",!o),r.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},t.prototype._onDragMove=function(e,t,a,o){this._dragging=!0,J(o.event);var r=this._displayables.sliderGroup.getLocalTransform(),n=U([t,a],r,!0),i=this._updateInterval(e,n[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),i&&s&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var t=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(a[0]<0||a[0]>t[0]||a[1]<0||a[1]>t[1])){var o=this._handleEnds,r=(o[0]+o[1])/2,n=this._updateInterval("all",a[0]-r);this._updateView(),n&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var t=e.offsetX,a=e.offsetY;this._brushStart=new $(t,a),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var t=this._displayables.brushRect;if(this._brushing=!1,t){t.attr("ignore",!0);var a=t.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(a.width)<5)){var o=this._getViewExtent(),r=[0,100];this._range=X([R(a.x,o,r,!0),R(a.x+a.width,o,r,!0)]),this._handleEnds=[a.x,a.x+a.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(J(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,t){var a=this._displayables,o=this.dataZoomModel,r=a.brushRect;r||(r=a.brushRect=new zt({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(r)),r.attr("ignore",!1);var n=this._brushStart,i=this._displayables.sliderGroup,s=i.transformCoordToLocal(e,t),l=i.transformCoordToLocal(n.x,n.y),u=this._size;s[0]=Math.max(Math.min(u[0],s[0]),0),r.setShape({x:l[0],y:0,width:s[0]-l[0],height:u[1]})},t.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?Zt:null,start:t[0],end:t[1]})},t.prototype._findCoordRect=function(){var e,t=M(this.dataZoomModel).infoList;if(!e&&t.length){var a=t[0].model.coordinateSystem;e=a.getRect&&a.getRect()}if(!e){var o=this.api.getWidth(),r=this.api.getHeight();e={x:.2*o,y:.2*r,width:.6*o,height:.6*r}}return e},t.type="dataZoom.slider",t}(N);function Ot(e){return"vertical"===e?"ns-resize":"ew-resize"}function Ft(e){e.registerComponentModel(kt),e.registerComponentView(Gt),T(e)}function jt(e){te(Ct),te(Ft)}var Ht=w();function Xt(e,t){if(Ht(o=this).mainData===o){var a=oe({},Ht(this).datas);a[this.dataType]=t,Kt(t,a,e)}else Jt(t,this.dataType,Ht(this).mainData,e);var o;return t}function Yt(e,t){return e.struct&&e.struct.update(),t}function Wt(e,t){return i(Ht(t).datas,(function(a,o){a!==t&&Jt(a.cloneShallow(),o,t,e)})),t}function Ut(e){var t=Ht(this).mainData;return null==e||null==t?t:Ht(t).datas[e]}function qt(){var e=Ht(this).mainData;return null==e?[{data:e}]:re(ne(Ht(e).datas),(function(t){return{type:t,data:Ht(e).datas[t]}}))}function Kt(e,t,a){Ht(e).datas={},i(t,(function(t,o){Jt(t,o,e,a)}))}function Jt(e,t,a,o){Ht(a).datas[t]=e,Ht(e).mainData=a,e.dataType=t,o.struct&&(e[o.structAttr]=o.struct,o.struct[o.datasAttr[t]]=e),e.getLinkedData=Ut,e.getLinkedDataAll=qt}function $t(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",(function(e){var a=e.getCategoriesData(),o=e.getGraph().data,r=a.mapArray(a.getName);o.filterSelf((function(e){var a=o.getItemModel(e).getShallow("category");if(null!=a){ie(a)&&(a=r[a]);for(var n=0;n<t.length;n++)if(!t[n].isSelected(a))return!1}return!0}))}))}function Qt(e){var t={};e.eachSeriesByType("graph",(function(e){var a=e.getCategoriesData(),o=e.getData(),r={};a.each((function(o){var n=a.getName(o);r["ec-"+n]=o;var i=a.getItemModel(o),s=i.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e.getColorFromPalette(n,t)),a.setItemVisual(o,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var d=i.getShallow(l[u],!0);null!=d&&a.setItemVisual(o,l[u],d)}})),a.count()&&o.each((function(e){var t=o.getItemModel(e).getShallow("category");if(null!=t){K(t)&&(t=r["ec-"+t]);var n=a.getItemVisual(t,"style"),i=o.ensureUniqueItemVisual(e,"style");oe(i,n);for(var s=["symbol","symbolSize","symbolKeepAspect"],l=0;l<s.length;l++)o.setItemVisual(e,s[l],a.getItemVisual(t,s[l]))}}))}))}function ea(e){return e instanceof Array||(e=[e,e]),e}function ta(e){e.eachSeriesByType("graph",(function(e){var t=e.getGraph(),a=e.getEdgeData(),o=ea(e.get("edgeSymbol")),r=ea(e.get("edgeSymbolSize"));a.setVisual("fromSymbol",o&&o[0]),a.setVisual("toSymbol",o&&o[1]),a.setVisual("fromSymbolSize",r&&r[0]),a.setVisual("toSymbolSize",r&&r[1]),a.setVisual("style",e.getModel("lineStyle").getLineStyle()),a.each((function(e){var o=a.getItemModel(e),r=t.getEdgeByIndex(e),n=ea(o.getShallow("symbol",!0)),i=ea(o.getShallow("symbolSize",!0)),s=o.getModel("lineStyle").getLineStyle(),l=a.ensureUniqueItemVisual(e,"style");switch(oe(l,s),l.stroke){case"source":var u=r.node1.getVisual("style");l.stroke=u&&u.fill;break;case"target":u=r.node2.getVisual("style");l.stroke=u&&u.fill}n[0]&&r.setVisual("fromSymbol",n[0]),n[1]&&r.setVisual("toSymbol",n[1]),i[0]&&r.setVisual("fromSymbolSize",i[0]),i[1]&&r.setVisual("toSymbolSize",i[1])}))}))}var aa="--\x3e",oa=function(e){return e.get("autoCurveness")||null},ra=function(e,t){var a=oa(e),o=20,r=[];if(ie(a))o=a;else if(g(a))return void(e.__curvenessList=a);t>o&&(o=t);var n=o%2?o+2:o+3;r=[];for(var i=0;i<n;i++)r.push((i%2?i+1:i)/10*(i%2?-1:1));e.__curvenessList=r},na=function(e,t,a){var o=[e.id,e.dataIndex].join("."),r=[t.id,t.dataIndex].join(".");return[a.uid,o,r].join(aa)},ia=function(e){var t=e.split(aa);return[t[0],t[2],t[1]].join(aa)},sa=function(e,t){var a=t.__edgeMap;return a[e]?a[e].length:0};function la(e,t,a,o){var r=oa(t),n=g(r);if(!r)return null;var i=function(e,t){var a=na(e.node1,e.node2,t);return t.__edgeMap[a]}(e,t);if(!i)return null;for(var s=-1,l=0;l<i.length;l++)if(i[l]===a){s=l;break}var u=function(e,t){return sa(na(e.node1,e.node2,t),t)+sa(na(e.node2,e.node1,t),t)}(e,t);ra(t,u),e.lineStyle=e.lineStyle||{};var d=na(e.node1,e.node2,t),c=t.__curvenessList,h=n||u%2?0:1;if(i.isForward)return c[h+s];var p=ia(d),v=sa(p,t),y=c[s+v+h];return o?n?r&&0===r[0]?(v+h)%2?y:-y:((v%2?0:1)+h)%2?y:-y:(v+h)%2?y:-y:c[s+v+h]}function ua(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var a=e.getGraph();a.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])})),da(a,e)}}function da(e,t){e.eachEdge((function(e,a){var o=se(e.getModel().get(["lineStyle","curveness"]),-la(e,t,a,!0),0),r=le(e.node1.getLayout()),n=le(e.node2.getLayout()),i=[r,n];+o&&i.push([(r[0]+n[0])/2-(r[1]-n[1])*o,(r[1]+n[1])/2-(n[0]-r[0])*o]),e.setLayout(i)}))}function ca(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout"),a=e.coordinateSystem;if(a&&"view"!==a.type){var o=e.getData(),r=[];i(a.dimensions,(function(e){r=r.concat(o.mapDimensionsAll(e))}));for(var n=0;n<o.count();n++){for(var s=[],l=!1,u=0;u<r.length;u++){var d=o.get(r[u],n);isNaN(d)||(l=!0),s.push(d)}l?o.setItemLayout(n,a.dataToPoint(s)):o.setItemLayout(n,[NaN,NaN])}da(o.graph,e)}else t&&"none"!==t||ua(e)}))}function ga(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var a=e.option.nodeScaleRatio,o=t.scaleX;return((t.getZoom()-1)*a+1)/o}function ha(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var pa=Math.PI,va=[];function ya(e,t,a,r){var n=e.coordinateSystem;if(!n||"view"===n.type){var i=n.getBoundingRect(),s=e.getData(),l=s.graph,u=i.width/2+i.x,d=i.height/2+i.y,c=Math.min(i.width,i.height)/2,g=s.count();if(s.setLayout({cx:u,cy:d}),g){if(a){var h=n.pointToData(r),p=h[0],v=h[1],y=[p-u,v-d];o(y,y),ue(y,y,c),a.setLayout([u+y[0],d+y[1]],!0),ma(a,e.get(["circular","rotateLabel"]),u,d)}fa[t](e,l,s,c,u,d,g),l.eachEdge((function(t,a){var o,r=se(t.getModel().get(["lineStyle","curveness"]),la(t,e,a),0),n=le(t.node1.getLayout()),i=le(t.node2.getLayout()),s=(n[0]+i[0])/2,l=(n[1]+i[1])/2;+r&&(o=[u*(r*=3)+s*(1-r),d*r+l*(1-r)]),t.setLayout([n,i,o])}))}}}var fa={value:function(e,t,a,o,r,n,i){var s=0,l=a.getSum("value"),u=2*Math.PI/(l||i);t.eachNode((function(e){var t=e.getValue("value"),a=u*(l?t:1)/2;s+=a,e.setLayout([o*Math.cos(s)+r,o*Math.sin(s)+n]),s+=a}))},symbolSize:function(e,t,a,o,r,n,i){var s=0;va.length=i;var l=ga(e);t.eachNode((function(e){var t=ha(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=l;var a=Math.asin(t/2/o);isNaN(a)&&(a=pa/2),va[e.dataIndex]=a,s+=2*a}));var u=(2*pa-s)/i/2,d=0;t.eachNode((function(e){var t=u+va[e.dataIndex];d+=t,(!e.getLayout()||!e.getLayout().fixed)&&e.setLayout([o*Math.cos(d)+r,o*Math.sin(d)+n]),d+=t}))}};function ma(e,t,a,o){var r=e.getGraphicEl();if(r){var n=e.getModel().get(["label","rotate"])||0,i=r.getSymbolPath();if(t){var s=e.getLayout(),l=Math.atan2(s[1]-o,s[0]-a);l<0&&(l=2*Math.PI+l);var u=s[0]<a;u&&(l-=Math.PI);var d=u?"left":"right";i.setTextConfig({rotation:-l,position:d,origin:"center"});var c=i.ensureState("emphasis");oe(c.textConfig||(c.textConfig={}),{position:d})}else i.setTextConfig({rotation:n*=Math.PI/180})}}function xa(e){e.eachSeriesByType("graph",(function(e){"circular"===e.get("layout")&&ya(e,"symbolSize")}))}var _a=pe;function Sa(e){e.eachSeriesByType("graph",(function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var a=e.preservedPoints||{},r=e.getGraph(),n=r.data,i=r.edgeData,s=e.getModel("force"),l=s.get("initLayout");e.preservedPoints?n.each((function(e){var t=n.getId(e);n.setItemLayout(e,a[t]||[NaN,NaN])})):l&&"none"!==l?"circular"===l&&ya(e,"value"):ua(e);var u=n.getDataExtent("value"),d=i.getDataExtent("value"),c=s.get("repulsion"),h=s.get("edgeLength"),p=g(c)?c:[c,c],v=g(h)?h:[h,h];v=[v[1],v[0]];var f=n.mapArray("value",(function(e,t){var a=n.getItemLayout(t),o=R(e,u,p);return isNaN(o)&&(o=(p[0]+p[1])/2),{w:o,rep:o,fixed:n.getItemModel(t).get("fixed"),p:!a||isNaN(a[0])||isNaN(a[1])?null:a}})),m=i.mapArray("value",(function(t,a){var o=r.getEdgeByIndex(a),n=R(t,d,v);isNaN(n)&&(n=(v[0]+v[1])/2);var i=o.getModel(),s=se(o.getModel().get(["lineStyle","curveness"]),-la(o,e,a,!0),0);return{n1:f[o.node1.dataIndex],n2:f[o.node2.dataIndex],d:n,curveness:s,ignoreForceLayout:i.get("ignoreForceLayout")}})),x=t.getBoundingRect(),_=function(e,t,a){for(var r=e,n=t,i=a.rect,s=i.width,l=i.height,u=[i.x+s/2,i.y+l/2],d=null==a.gravity?.1:a.gravity,c=0;c<r.length;c++){var g=r[c];g.p||(g.p=de(s*(Math.random()-.5)+u[0],l*(Math.random()-.5)+u[1])),g.pp=le(g.p),g.edges=null}var h,p,v=null==a.friction?.6:a.friction,f=v;return{warmUp:function(){f=.8*v},setFixed:function(e){r[e].fixed=!0},setUnfixed:function(e){r[e].fixed=!1},beforeStep:function(e){h=e},afterStep:function(e){p=e},step:function(e){h&&h(r,n);for(var t=[],a=r.length,i=0;i<n.length;i++){var s=n[i];if(!s.ignoreForceLayout){var l=s.n1,c=s.n2;y(t,c.p,l.p);var g=ce(t)-s.d,v=c.w/(l.w+c.w);isNaN(v)&&(v=0),o(t,t),!l.fixed&&_a(l.p,l.p,t,v*g*f),!c.fixed&&_a(c.p,c.p,t,-(1-v)*g*f)}}for(i=0;i<a;i++)(S=r[i]).fixed||(y(t,u,S.p),_a(S.p,S.p,t,d*f));for(i=0;i<a;i++){l=r[i];for(var m=i+1;m<a;m++){c=r[m],y(t,c.p,l.p),0===(g=ce(t))&&(ge(t,Math.random()-.5,Math.random()-.5),g=1);var x=(l.rep+c.rep)/g/g;!l.fixed&&_a(l.pp,l.pp,t,x),!c.fixed&&_a(c.pp,c.pp,t,-x)}}var _=[];for(i=0;i<a;i++){var S;(S=r[i]).fixed||(y(_,S.p,S.pp),_a(S.p,S.p,_,f),he(S.pp,S.p))}var b=(f*=.992)<.01;p&&p(r,n,b),e&&e(b)}}}(f,m,{rect:x,gravity:s.get("gravity"),friction:s.get("friction")});_.beforeStep((function(e,t){for(var a=0,o=e.length;a<o;a++)e[a].fixed&&he(e[a].p,r.getNodeByIndex(a).getLayout())})),_.afterStep((function(e,t,o){for(var i=0,s=e.length;i<s;i++)e[i].fixed||r.getNodeByIndex(i).setLayout(e[i].p),a[n.getId(i)]=e[i].p;for(i=0,s=t.length;i<s;i++){var l=t[i],u=r.getEdgeByIndex(i),d=l.n1.p,c=l.n2.p,g=u.getLayout();(g=g?g.slice():[])[0]=g[0]||[],g[1]=g[1]||[],he(g[0],d),he(g[1],c),+l.curveness&&(g[2]=[(d[0]+c[0])/2-(d[1]-c[1])*l.curveness,(d[1]+c[1])/2-(c[0]-d[0])*l.curveness]),u.setLayout(g)}})),e.forceLayout=_,e.preservedPoints=a,_.step()}else e.forceLayout=null}))}function ba(e,t){var a=[];return e.eachSeriesByType("graph",(function(e){var o=e.get("coordinateSystem");if(!o||"view"===o){var r=e.getData(),n=r.mapArray((function(e){var t=r.getItemModel(e);return[+t.get("x"),+t.get("y")]})),i=[],s=[];ve(n,i,s),s[0]-i[0]==0&&(s[0]+=1,i[0]-=1),s[1]-i[1]==0&&(s[1]+=1,i[1]-=1);var l=(s[0]-i[0])/(s[1]-i[1]),u=function(e,t,a){var o=oe(e.getBoxLayoutParams(),{aspect:a});return z(o,{width:t.getWidth(),height:t.getHeight()})}(e,t,l);isNaN(l)&&(i=[u.x,u.y],s=[u.x+u.width,u.y+u.height]);var d=s[0]-i[0],c=s[1]-i[1],g=u.width,h=u.height,p=e.coordinateSystem=new Ye;p.zoomLimit=e.get("scaleLimit"),p.setBoundingRect(i[0],i[1],d,c),p.setViewRect(u.x,u.y,g,h),p.setCenter(e.get("center"),t),p.setZoom(e.get("zoom")),a.push(p)}})),a}var Ia=[],wa=[],La=[],Ma=fe,Da=me,Ea=Math.abs;function Aa(e,t,a){for(var o,r=e[0],n=e[1],i=e[2],s=1/0,l=a*a,u=.1,d=.1;d<=.9;d+=.1){Ia[0]=Ma(r[0],n[0],i[0],d),Ia[1]=Ma(r[1],n[1],i[1],d),(h=Ea(Da(Ia,t)-l))<s&&(s=h,o=d)}for(var c=0;c<32;c++){var g=o+u;wa[0]=Ma(r[0],n[0],i[0],o),wa[1]=Ma(r[1],n[1],i[1],o),La[0]=Ma(r[0],n[0],i[0],g),La[1]=Ma(r[1],n[1],i[1],g);var h=Da(wa,t)-l;if(Ea(h)<.01)break;var p=Da(La,t)-l;u/=2,h<0?p>=0?o+=u:o-=u:p>=0?o-=u:o+=u}return o}function Na(e,t){var a=[],r=ye,n=[[],[],[]],i=[[],[]],s=[];t/=2,e.eachEdge((function(e,l){var u=e.getLayout(),d=e.getVisual("fromSymbol"),c=e.getVisual("toSymbol");u.__original||(u.__original=[le(u[0]),le(u[1])],u[2]&&u.__original.push(le(u[2])));var g=u.__original;if(null!=u[2]){if(he(n[0],g[0]),he(n[1],g[2]),he(n[2],g[1]),d&&"none"!==d){var h=ha(e.node1),p=Aa(n,g[0],h*t);r(n[0][0],n[1][0],n[2][0],p,a),n[0][0]=a[3],n[1][0]=a[4],r(n[0][1],n[1][1],n[2][1],p,a),n[0][1]=a[3],n[1][1]=a[4]}if(c&&"none"!==c){h=ha(e.node2),p=Aa(n,g[1],h*t);r(n[0][0],n[1][0],n[2][0],p,a),n[1][0]=a[1],n[2][0]=a[2],r(n[0][1],n[1][1],n[2][1],p,a),n[1][1]=a[1],n[2][1]=a[2]}he(u[0],n[0]),he(u[1],n[2]),he(u[2],n[1])}else{if(he(i[0],g[0]),he(i[1],g[1]),y(s,i[1],i[0]),o(s,s),d&&"none"!==d){h=ha(e.node1);pe(i[0],i[0],s,h*t)}if(c&&"none"!==c){h=ha(e.node2);pe(i[1],i[1],s,-h*t)}he(u[0],i[0]),he(u[1],i[1])}}))}function Va(e){return"view"===e.type}var Ta=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return a(t,e),t.prototype.init=function(e,t){var a=new xe,o=new xt,r=this.group;this._controller=new Xe(t.getZr()),this._controllerHost={target:r},r.add(a.group),r.add(o.group),this._symbolDraw=a,this._lineDraw=o,this._firstRender=!0},t.prototype.render=function(e,t,a){var o=this,r=e.coordinateSystem;this._model=e;var n=this._symbolDraw,i=this._lineDraw,l=this.group;if(Va(r)){var u={x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY};this._firstRender?l.attr(u):s(l,u,e)}Na(e.getGraph(),ga(e));var d=e.getData();n.updateData(d);var c=e.getEdgeData();i.updateData(c),this._updateNodeAndLinkScale(),this._updateController(e,t,a),clearTimeout(this._layoutTimeout);var g=e.forceLayout,h=e.get(["force","layoutAnimation"]);g&&this._startForceLayoutIteration(g,h);var p=e.get("layout");d.graph.eachNode((function(t){var a=t.dataIndex,r=t.getGraphicEl(),n=t.getModel();if(r){r.off("drag").off("dragend");var i=n.get("draggable");i&&r.on("drag",(function(n){switch(p){case"force":g.warmUp(),!o._layouting&&o._startForceLayoutIteration(g,h),g.setFixed(a),d.setItemLayout(a,[r.x,r.y]);break;case"circular":d.setItemLayout(a,[r.x,r.y]),t.setLayout({fixed:!0},!0),ya(e,"symbolSize",t,[n.offsetX,n.offsetY]),o.updateLayout(e);break;default:d.setItemLayout(a,[r.x,r.y]),da(e.getGraph(),e),o.updateLayout(e)}})).on("dragend",(function(){g&&g.setUnfixed(a)})),r.setDraggable(i,!!n.get("cursor")),"adjacency"===n.get(["emphasis","focus"])&&(_e(r).focus=t.getAdjacentDataIndices())}})),d.graph.eachEdge((function(e){var t=e.getGraphicEl(),a=e.getModel().get(["emphasis","focus"]);t&&"adjacency"===a&&(_e(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})}));var v="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),y=d.getLayout("cx"),f=d.getLayout("cy");d.graph.eachNode((function(e){ma(e,v,y,f)})),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t){var a=this;!function o(){e.step((function(e){a.updateLayout(a._model),(a._layouting=!e)&&(t?a._layoutTimeout=setTimeout(o,16):o())}))}()},t.prototype._updateController=function(e,t,a){var o=this,r=this._controller,n=this._controllerHost,i=this.group;r.setPointerChecker((function(t,o,r){var n=i.getBoundingRect();return n.applyTransform(i.transform),n.contain(o,r)&&!Se(t,a,e)})),Va(e.coordinateSystem)?(r.enable(e.get("roam")),n.zoomLimit=e.get("scaleLimit"),n.zoom=e.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",(function(t){We(n,t.dx,t.dy),a.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){Ue(n,t.scale,t.originX,t.originY),a.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),o._updateNodeAndLinkScale(),Na(e.getGraph(),ga(e)),o._lineDraw.updateLayout(),a.updateLabelLayout()}))):r.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),a=ga(e);t.eachItemGraphicEl((function(e,t){e&&e.setSymbolScale(a)}))},t.prototype.updateLayout=function(e){Na(e.getGraph(),ga(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(be);function Ca(e){return"_EC_"+e}var ka=function(){function e(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(e,t){e=null==e?""+t:""+e;var a=this._nodesMap;if(!a[Ca(e)]){var o=new za(e,t);return o.hostGraph=this,this.nodes.push(o),a[Ca(e)]=o,o}},e.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},e.prototype.getNodeById=function(e){return this._nodesMap[Ca(e)]},e.prototype.addEdge=function(e,t,a){var o=this._nodesMap,r=this._edgesMap;if(ie(e)&&(e=this.nodes[e]),ie(t)&&(t=this.nodes[t]),e instanceof za||(e=o[Ca(e)]),t instanceof za||(t=o[Ca(t)]),e&&t){var n=e.id+"-"+t.id,i=new Ra(e,t,a);return i.hostGraph=this,this._directed&&(e.outEdges.push(i),t.inEdges.push(i)),e.edges.push(i),e!==t&&t.edges.push(i),this.edges.push(i),r[n]=i,i}},e.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},e.prototype.getEdge=function(e,t){e instanceof za&&(e=e.id),t instanceof za&&(t=t.id);var a=this._edgesMap;return this._directed?a[e+"-"+t]:a[e+"-"+t]||a[t+"-"+e]},e.prototype.eachNode=function(e,t){for(var a=this.nodes,o=a.length,r=0;r<o;r++)a[r].dataIndex>=0&&e.call(t,a[r],r)},e.prototype.eachEdge=function(e,t){for(var a=this.edges,o=a.length,r=0;r<o;r++)a[r].dataIndex>=0&&a[r].node1.dataIndex>=0&&a[r].node2.dataIndex>=0&&e.call(t,a[r],r)},e.prototype.breadthFirstTraverse=function(e,t,a,o){if(t instanceof za||(t=this._nodesMap[Ca(t)]),t){for(var r="out"===a?"outEdges":"in"===a?"inEdges":"edges",n=0;n<this.nodes.length;n++)this.nodes[n].__visited=!1;if(!e.call(o,t,null))for(var i=[t];i.length;){var s=i.shift(),l=s[r];for(n=0;n<l.length;n++){var u=l[n],d=u.node1===s?u.node2:u.node1;if(!d.__visited){if(e.call(o,d,s))return;i.push(d),d.__visited=!0}}}}},e.prototype.update=function(){for(var e=this.data,t=this.edgeData,a=this.nodes,o=this.edges,r=0,n=a.length;r<n;r++)a[r].dataIndex=-1;for(r=0,n=e.count();r<n;r++)a[e.getRawIndex(r)].dataIndex=r;t.filterSelf((function(e){var a=o[t.getRawIndex(e)];return a.node1.dataIndex>=0&&a.node2.dataIndex>=0}));for(r=0,n=o.length;r<n;r++)o[r].dataIndex=-1;for(r=0,n=t.count();r<n;r++)o[t.getRawIndex(r)].dataIndex=r},e.prototype.clone=function(){for(var t=new e(this._directed),a=this.nodes,o=this.edges,r=0;r<a.length;r++)t.addNode(a[r].id,a[r].dataIndex);for(r=0;r<o.length;r++){var n=o[r];t.addEdge(n.node1.id,n.node2.id,n.dataIndex)}return t},e}(),za=function(){function e(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?"":e,this.dataIndex=null==t?-1:t}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var a=this.edges[t];a.dataIndex<0||(e.edge.push(a.dataIndex),e.node.push(a.node1.dataIndex,a.node2.dataIndex))}return e},e.prototype.getTrajectoryDataIndices=function(){for(var e=L(),t=L(),a=0;a<this.edges.length;a++){var o=this.edges[a];if(!(o.dataIndex<0)){e.set(o.dataIndex,!0);for(var r=[o.node1],n=[o.node2],i=0;i<r.length;){var s=r[i];i++,t.set(s.dataIndex,!0);for(var l=0;l<s.inEdges.length;l++)e.set(s.inEdges[l].dataIndex,!0),r.push(s.inEdges[l].node1)}for(i=0;i<n.length;){var u=n[i];i++,t.set(u.dataIndex,!0);for(l=0;l<u.outEdges.length;l++)e.set(u.outEdges[l].dataIndex,!0),n.push(u.outEdges[l].node2)}}}return{edge:e.keys(),node:t.keys()}},e}(),Ra=function(){function e(e,t,a){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==a?-1:a}return e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var e=L(),t=L();e.set(this.dataIndex,!0);for(var a=[this.node1],o=[this.node2],r=0;r<a.length;){var n=a[r];r++,t.set(n.dataIndex,!0);for(var i=0;i<n.inEdges.length;i++)e.set(n.inEdges[i].dataIndex,!0),a.push(n.inEdges[i].node1)}for(r=0;r<o.length;){var s=o[r];r++,t.set(s.dataIndex,!0);for(i=0;i<s.outEdges.length;i++)e.set(s.outEdges[i].dataIndex,!0),o.push(s.outEdges[i].node2)}return{edge:e.keys(),node:t.keys()}},e}();function Pa(e,t){return{getValue:function(a){var o=this[e][t];return o.getStore().get(o.getDimensionIndex(a||"value"),this.dataIndex)},setVisual:function(a,o){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,a,o)},getVisual:function(a){return this[e][t].getItemVisual(this.dataIndex,a)},setLayout:function(a,o){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,a,o)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}function Ba(e,t,a,o,r){for(var n=new ka(o),s=0;s<e.length;s++)n.addNode(we(e[s].id,e[s].name,s),s);var l=[],u=[],d=0;for(s=0;s<t.length;s++){var c=t[s],g=c.source,h=c.target;n.addEdge(g,h,d)&&(u.push(c),l.push(we(Le(c.id,null),g+" > "+h)),d++)}var p,v=a.get("coordinateSystem");if("cartesian2d"===v||"polar"===v)p=Me(e,a);else{var y=De.get(v),f=y&&y.dimensions||[];P(f,"value")<0&&f.concat(["value"]);var m=Ee(e,{coordDimensions:f,encodeDefine:a.getEncode()}).dimensions;(p=new Ae(m,a)).initData(e)}var x,_,S,b=new Ae(["value"],a);return b.initData(u,l),r&&r(p,b),_=(x={mainData:p,struct:n,structAttr:"graph",datas:{node:p,edge:b},datasAttr:{node:"data",edge:"edgeData"}}).mainData,(S=x.datas)||(S={main:_},x.datasAttr={main:"data"}),x.datas=x.mainData=null,Kt(_,S,x),i(S,(function(e){i(_.TRANSFERABLE_METHODS,(function(t){e.wrapMethod(t,E(Xt,x))}))})),_.wrapMethod("cloneShallow",E(Wt,x)),i(_.CHANGABLE_METHODS,(function(e){_.wrapMethod(e,E(Yt,x))})),ae(S[_.dataType]===_),n.update(),n}Ie(za,Pa("hostGraph","data")),Ie(Ra,Pa("hostGraph","edgeData"));var Za=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.hasSymbolVisual=!0,a}return a(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var a=this;function o(){return a._categoriesData}this.legendVisualProvider=new Qe(o,o),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),Ne(t,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,t){var a=e.edges||e.links||[],o=e.data||e.nodes||[],r=this;oa(n=this)&&(n.__curvenessList=[],n.__edgeMap={},ra(n));var n,s=Ba(o,a,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e){var t=r._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e}));var a=Ve.prototype.getModel;function o(e,t){var o=a.call(this,e,t);return o.resolveParentPath=n,o}function n(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",(function(e){return e.resolveParentPath=n,e.getModel=o,e}))}));return i(s.edges,(function(e){!function(e,t,a,o){if(oa(a)){var r=na(e,t,a),n=a.__edgeMap,i=n[ia(r)];n[r]&&!i?n[r].isForward=!0:i&&n[r]&&(i.isForward=!0,n[r].isForward=!1),n[r]=n[r]||[],n[r].push(o)}}(e.node1,e.node2,this,e.dataIndex)}),this),s.data},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,a){if("edge"===a){var o=this.getData(),r=this.getDataParams(e,a),n=o.graph.getEdgeByIndex(e),i=o.getName(n.node1.dataIndex),s=o.getName(n.node2.dataIndex),l=[];return null!=i&&l.push(i),null!=s&&l.push(s),Te("nameValue",{name:l.join(" > "),value:r.value,noValue:null==r.value})}return Ce({series:this,dataIndex:e,multipleSeries:t})},t.prototype._updateCategoriesData=function(){var e=re(this.option.categories||[],(function(e){return null!=e.value?e:oe({value:0},e)})),t=new Ae(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e)}))},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(ke),Ga={type:"graphRoam",event:"graphRoam",update:"none"};function Oa(e){e.registerChartView(Ta),e.registerSeriesModel(Za),e.registerProcessor($t),e.registerVisual(Qt),e.registerVisual(ta),e.registerLayout(ca),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,xa),e.registerLayout(Sa),e.registerCoordinateSystem("graphView",{dimensions:Ye.dimensions,create:ba}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},ze),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},ze),e.registerAction(Ga,(function(e,t,a){t.eachComponent({mainType:"series",query:e},(function(t){var o=t.coordinateSystem,r=qe(o,e,void 0,a);t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom)}))}))}var Fa=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}}(),ja=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.getDefaultShape=function(){return new Fa},t.prototype.buildPath=function(e,t){var a=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+a,t.y2),e.bezierCurveTo(t.cpx2+a,t.cpy2,t.cpx1+a,t.cpy1,t.x1+a,t.y1)):(e.lineTo(t.x2,t.y2+a),e.bezierCurveTo(t.cpx2,t.cpy2+a,t.cpx1,t.cpy1+a,t.x1,t.y1+a)),e.closePath()},t.prototype.highlight=function(){p(this)},t.prototype.downplay=function(){v(this)},t}(r),Ha=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._focusAdjacencyDisabled=!1,a}return a(t,e),t.prototype.render=function(e,t,a){var o=this,r=e.getGraph(),i=this.group,s=e.layoutInfo,u=s.width,c=s.height,g=e.getData(),p=e.getData("edge"),v=e.get("orient");this._model=e,i.removeAll(),i.x=s.x,i.y=s.y,r.eachEdge((function(t){var a=new ja,o=_e(a);o.dataIndex=t.dataIndex,o.seriesIndex=e.seriesIndex,o.dataType="edge";var r,n,s,g,y,f,m,x,_=t.getModel(),S=_.getModel("lineStyle"),b=S.get("curveness"),I=t.node1.getLayout(),w=t.node1.getModel(),L=w.get("localX"),M=w.get("localY"),D=t.node2.getLayout(),E=t.node2.getModel(),A=E.get("localX"),N=E.get("localY"),V=t.getLayout();a.shape.extent=Math.max(1,V.dy),a.shape.orient=v,"vertical"===v?(r=(null!=L?L*u:I.x)+V.sy,n=(null!=M?M*c:I.y)+I.dy,s=(null!=A?A*u:D.x)+V.ty,y=r,f=n*(1-b)+(g=null!=N?N*c:D.y)*b,m=s,x=n*b+g*(1-b)):(r=(null!=L?L*u:I.x)+I.dx,n=(null!=M?M*c:I.y)+V.sy,y=r*(1-b)+(s=null!=A?A*u:D.x)*b,f=n,m=r*b+s*(1-b),x=g=(null!=N?N*c:D.y)+V.ty),a.setShape({x1:r,y1:n,x2:s,y2:g,cpx1:y,cpy1:f,cpx2:m,cpy2:x}),a.useStyle(S.getItemStyle()),Xa(a.style,v,t);var T=""+_.get("value"),C=l(_,"edgeLabel");d(a,C,{labelFetcher:{getFormattedLabel:function(t,a,o,r,n,i){return e.getFormattedLabel(t,a,"edge",r,se(n,C.normal&&C.normal.get("formatter"),T),i)}},labelDataIndex:t.dataIndex,defaultText:T}),a.setTextConfig({position:"inside"});var k=_.getModel("emphasis");Re(a,_,"lineStyle",(function(e){var a=e.getItemStyle();return Xa(a,v,t),a})),i.add(a),p.setItemGraphicEl(t.dataIndex,a);var z=k.get("focus");h(a,"adjacency"===z?t.getAdjacentDataIndices():"trajectory"===z?t.getTrajectoryDataIndices():z,k.get("blurScope"),k.get("disabled"))})),r.eachNode((function(t){var a=t.getLayout(),o=t.getModel(),r=o.get("localX"),n=o.get("localY"),s=o.getModel("emphasis"),p=o.get(["itemStyle","borderRadius"])||0,v=new H({shape:{x:null!=r?r*u:a.x,y:null!=n?n*c:a.y,width:a.dx,height:a.dy,r:p},style:o.getModel("itemStyle").getItemStyle(),z2:10});d(v,l(o),{labelFetcher:{getFormattedLabel:function(t,a){return e.getFormattedLabel(t,a,"node")}},labelDataIndex:t.dataIndex,defaultText:t.id}),v.disableLabelAnimation=!0,v.setStyle("fill",t.getVisual("color")),v.setStyle("decal",t.getVisual("style").decal),Re(v,o),i.add(v),g.setItemGraphicEl(t.dataIndex,v),_e(v).dataType="node";var y=s.get("focus");h(v,"adjacency"===y?t.getAdjacentDataIndices():"trajectory"===y?t.getTrajectoryDataIndices():y,s.get("blurScope"),s.get("disabled"))})),g.eachItemGraphicEl((function(t,r){g.getItemModel(r).get("draggable")&&(t.drift=function(t,n){o._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=n,this.dirty(),a.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:g.getRawIndex(r),localX:this.shape.x/u,localY:this.shape.y/c})},t.ondragend=function(){o._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")})),!this._data&&e.isAnimationEnabled()&&i.setClipPath(function(e,t,a){var o=new H({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return n(o,{shape:{width:e.width+20}},t,a),o}(i.getBoundingRect(),e,(function(){i.removeClipPath()}))),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(be);function Xa(e,t,a){switch(e.fill){case"source":e.fill=a.node1.getVisual("color"),e.decal=a.node1.getVisual("style").decal;break;case"target":e.fill=a.node2.getVisual("color"),e.decal=a.node2.getVisual("style").decal;break;case"gradient":var o=a.node1.getVisual("color"),r=a.node2.getVisual("color");K(o)&&K(r)&&(e.fill=new Pe(0,0,+("horizontal"===t),+("vertical"===t),[{color:o,offset:0},{color:r,offset:1}]))}}var Ya=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return a(t,e),t.prototype.getInitialData=function(e,t){var a=e.edges||e.links||[],o=e.data||e.nodes||[],r=e.levels||[];this.levelModels=[];for(var n=this.levelModels,i=0;i<r.length;i++)null!=r[i].depth&&r[i].depth>=0&&(n[r[i].depth]=new Ve(r[i],this,t));return Ba(o,a,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e,t){var a=e.parentModel,o=a.getData().getItemLayout(t);if(o){var r=o.depth,n=a.levelModels[r];n&&(e.parentModel=n)}return e})),t.wrapMethod("getItemModel",(function(e,t){var a=e.parentModel,o=a.getGraph().getEdgeByIndex(t).node1.getLayout();if(o){var r=o.depth,n=a.levelModels[r];n&&(e.parentModel=n)}return e}))})).data},t.prototype.setNodePosition=function(e,t){var a=(this.option.data||this.option.nodes)[e];a.localX=t[0],a.localY=t[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,a){function o(e){return isNaN(e)||null==e}if("edge"===a){var r=this.getDataParams(e,a),n=r.data,i=r.value,s=n.source+" -- "+n.target;return Te("nameValue",{name:s,value:i,noValue:o(i)})}var l=this.getGraph().getNodeByIndex(e).getLayout().value,u=this.getDataParams(e,a).data.name;return Te("nameValue",{name:null!=u?u+"":null,value:l,noValue:o(l)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(t,a){var o=e.prototype.getDataParams.call(this,t,a);if(null==o.value&&"node"===a){var r=this.getGraph().getNodeByIndex(t).getLayout().value;o.value=r}return o},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(ke);function Wa(e,t){e.eachSeriesByType("sankey",(function(e){var a=e.get("nodeWidth"),o=e.get("nodeGap"),r=function(e,t){return z(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=r;var n=r.width,s=r.height,l=e.getGraph(),u=l.nodes,d=l.edges;!function(e){i(e,(function(e){var t=oo(e.outEdges,ao),a=oo(e.inEdges,ao),o=e.getValue()||0,r=Math.max(t,a,o);e.setLayout({value:r},!0)}))}(u),function(e,t,a,o,r,n,s,l,u){(function(e,t,a,o,r,n,s){for(var l=[],u=[],d=[],c=[],g=0,h=0;h<t.length;h++)l[h]=1;for(h=0;h<e.length;h++)u[h]=e[h].inEdges.length,0===u[h]&&d.push(e[h]);var p=-1;for(;d.length;){for(var v=0;v<d.length;v++){var y=d[v],f=y.hostGraph.data.getRawDataItem(y.dataIndex),m=null!=f.depth&&f.depth>=0;m&&f.depth>p&&(p=f.depth),y.setLayout({depth:m?f.depth:g},!0),"vertical"===n?y.setLayout({dy:a},!0):y.setLayout({dx:a},!0);for(var x=0;x<y.outEdges.length;x++){var _=y.outEdges[x];l[t.indexOf(_)]=0;var S=_.node2;0==--u[e.indexOf(S)]&&c.indexOf(S)<0&&c.push(S)}}++g,d=c,c=[]}for(h=0;h<l.length;h++)if(1===l[h])throw new Error("Sankey is a DAG, the original data has cycle!");var b=p>g-1?p:g-1;s&&"left"!==s&&function(e,t,a,o){if("right"===t){for(var r=[],n=e,s=0;n.length;){for(var l=0;l<n.length;l++){var u=n[l];u.setLayout({skNodeHeight:s},!0);for(var d=0;d<u.inEdges.length;d++){var c=u.inEdges[d];r.indexOf(c.node1)<0&&r.push(c.node1)}}n=r,r=[],++s}i(e,(function(e){Ua(e)||e.setLayout({depth:Math.max(0,o-e.getLayout().skNodeHeight)},!0)}))}else"justify"===t&&function(e,t){i(e,(function(e){Ua(e)||e.outEdges.length||e.setLayout({depth:t},!0)}))}(e,o)}(e,s,0,b);var I="vertical"===n?(r-a)/b:(o-a)/b;!function(e,t,a){i(e,(function(e){var o=e.getLayout().depth*t;"vertical"===a?e.setLayout({y:o},!0):e.setLayout({x:o},!0)}))}(e,I,n)})(e,t,a,r,n,l,u),function(e,t,a,o,r,n,s){var l=function(e,t){var a=[],o="vertical"===t?"y":"x",r=Ze(e,(function(e){return e.getLayout()[o]}));return r.keys.sort((function(e,t){return e-t})),i(r.keys,(function(e){a.push(r.buckets.get(e))})),a}(e,s);(function(e,t,a,o,r,n){var s=1/0;i(e,(function(e){var t=e.length,l=0;i(e,(function(e){l+=e.getLayout().value}));var u="vertical"===n?(o-(t-1)*r)/l:(a-(t-1)*r)/l;u<s&&(s=u)})),i(e,(function(e){i(e,(function(e,t){var a=e.getLayout().value*s;"vertical"===n?(e.setLayout({x:t},!0),e.setLayout({dx:a},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:a},!0))}))})),i(t,(function(e){var t=+e.getValue()*s;e.setLayout({dy:t},!0)}))})(l,t,a,o,r,s),qa(l,r,a,o,s);for(var u=1;n>0;n--)Ka(l,u*=.99,s),qa(l,r,a,o,s),ro(l,u,s),qa(l,r,a,o,s)}(e,t,n,r,o,s,l),function(e,t){var a="vertical"===t?"x":"y";i(e,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[a]-t.node2.getLayout()[a]})),e.inEdges.sort((function(e,t){return e.node1.getLayout()[a]-t.node1.getLayout()[a]}))})),i(e,(function(e){var t=0,a=0;i(e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),i(e.inEdges,(function(e){e.setLayout({ty:a},!0),a+=e.getLayout().dy}))}))}(e,l)}(u,d,a,o,n,s,0!==Be(u,(function(e){return 0===e.getLayout().value})).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))}))}function Ua(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function qa(e,t,a,o,r){var n="vertical"===r?"x":"y";i(e,(function(e){var i,s,l;e.sort((function(e,t){return e.getLayout()[n]-t.getLayout()[n]}));for(var u=0,d=e.length,c="vertical"===r?"dx":"dy",g=0;g<d;g++)(l=u-(s=e[g]).getLayout()[n])>0&&(i=s.getLayout()[n]+l,"vertical"===r?s.setLayout({x:i},!0):s.setLayout({y:i},!0)),u=s.getLayout()[n]+s.getLayout()[c]+t;if((l=u-t-("vertical"===r?o:a))>0){i=s.getLayout()[n]-l,"vertical"===r?s.setLayout({x:i},!0):s.setLayout({y:i},!0),u=i;for(g=d-2;g>=0;--g)(l=(s=e[g]).getLayout()[n]+s.getLayout()[c]+t-u)>0&&(i=s.getLayout()[n]-l,"vertical"===r?s.setLayout({x:i},!0):s.setLayout({y:i},!0)),u=s.getLayout()[n]}}))}function Ka(e,t,a){i(e.slice().reverse(),(function(e){i(e,(function(e){if(e.outEdges.length){var o=oo(e.outEdges,Ja,a)/oo(e.outEdges,ao);if(isNaN(o)){var r=e.outEdges.length;o=r?oo(e.outEdges,$a,a)/r:0}if("vertical"===a){var n=e.getLayout().x+(o-to(e,a))*t;e.setLayout({x:n},!0)}else{var i=e.getLayout().y+(o-to(e,a))*t;e.setLayout({y:i},!0)}}}))}))}function Ja(e,t){return to(e.node2,t)*e.getValue()}function $a(e,t){return to(e.node2,t)}function Qa(e,t){return to(e.node1,t)*e.getValue()}function eo(e,t){return to(e.node1,t)}function to(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function ao(e){return e.getValue()}function oo(e,t,a){for(var o=0,r=e.length,n=-1;++n<r;){var i=+t(e[n],a);isNaN(i)||(o+=i)}return o}function ro(e,t,a){i(e,(function(e){i(e,(function(e){if(e.inEdges.length){var o=oo(e.inEdges,Qa,a)/oo(e.inEdges,ao);if(isNaN(o)){var r=e.inEdges.length;o=r?oo(e.inEdges,eo,a)/r:0}if("vertical"===a){var n=e.getLayout().x+(o-to(e,a))*t;e.setLayout({x:n},!0)}else{var i=e.getLayout().y+(o-to(e,a))*t;e.setLayout({y:i},!0)}}}))}))}function no(e){e.eachSeriesByType("sankey",(function(e){var t=e.getGraph(),a=t.nodes,o=t.edges;if(a.length){var r=1/0,n=-1/0;i(a,(function(e){var t=e.getLayout().value;t<r&&(r=t),t>n&&(n=t)})),i(a,(function(t){var a=new Ke({type:"color",mappingMethod:"linear",dataExtent:[r,n],visual:e.get("color")}).mapValueToVisual(t.getLayout().value),o=t.getModel().get(["itemStyle","color"]);null!=o?(t.setVisual("color",o),t.setVisual("style",{fill:o})):(t.setVisual("color",a),t.setVisual("style",{fill:a}))}))}o.length&&i(o,(function(e){var t=e.getModel().get("lineStyle");e.setVisual("style",t)}))}))}function io(e){e.registerChartView(Ha),e.registerSeriesModel(Ya),e.registerLayout(Wa),e.registerVisual(no),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}))}const so={id:"region-bar"},lo=tt({__name:"ReigonBarComp",props:{info:{type:Array,required:!0},id:{type:Number,required:!0},regionName:{type:Array,required:!0},regionValue:{type:Array,required:!0}},setup(e){te([Je,$e,Ge,Oe,jt,Fe]);const t=e,a=at(),o=()=>{a.value&&a.value.dispose();var e=document.getElementById("region-bar");e.style.width="100%",e.style.height="40vh";let o=JSON.parse(JSON.stringify(et));var r;je("vintage",o),a.value=He(e,"vintage"),(r={title:{text:"诗人籍贯地域分布",left:"center",textStyle:{fontFamily:"TitleFont",fontSize:25}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"width: 210px; white-space: pre-wrap;",formatter:e=>{const a=e[0].dataIndex;return`<strong>${e[0].name}</strong>：${t.info[a]}`},textStyle:{fontFamily:"ContentFont",fontSize:16}},xAxis:{type:"category",data:t.regionName,axisLabel:{show:!0,fontFamily:"ContentFont",fontSize:16}},yAxis:{type:"value",axisLabel:{show:!0,fontFamily:"ContentFont",fontSize:16}},dataZoom:[{type:"inside",disabled:!0}],series:[{data:t.regionValue,type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]})&&a.value.setOption(r,{notMerge:!0})};return ot((()=>[t.id,t.regionName,t.regionValue]),o,{deep:!0}),rt((async()=>{await nt(),o()})),(e,t)=>(it(),st("div",so))}}),uo={id:"sankey"},co=tt({__name:"PoetSanKeyComp",props:{nodes:{type:Array,required:!0,default:()=>[]},links:{type:Array,required:!0,default:()=>[]}},setup(e){te([Fe,Oe,io,Ge]);const t=e,a=at(),o=()=>{a.value&&a.value.dispose();var e=document.getElementById("sankey");e.style.width="100%",e.style.height="42vh";let o=JSON.parse(JSON.stringify(et));var r;je("vintage",o),a.value=He(e,"vintage"),(r={title:{text:"诗人情感派系桑基图",left:"center",textStyle:{fontFamily:"TitleFont",fontSize:25}},tooltip:{trigger:"item",triggerOn:"mousemove",textStyle:{fontFamily:"ContentFont",fontSize:18}},toolbox:{show:!0,feature:{restore:{title:"重置"}},orient:"horizontal",left:"right",top:"top"},label:{textBorderWidth:-100,fontFamily:"ContentFont",fontSize:20},series:[{type:"sankey",data:t.nodes,links:t.links,top:"10%",left:"13%",right:"13%",lineStyle:{curveness:.5,opacity:.07},emphasis:{disabled:!1,lineStyle:{opacity:.15}}}]})&&a.value.setOption(r,{notMerge:!0})};return ot((()=>[t.nodes]),o,{deep:!0}),rt((async()=>{await nt(),o()})),(e,t)=>(it(),st("div",uo))}}),go={"曲阿":4,"清河":10,"河南":22,"越州":7,"陜县":2,"嘉兴":7,"陆浑":2,"吴县":39,"冯翊":8,"朝邑":1,"湖州":14,"连州":7,"山阴":6,"盐亭":1,"洛阳":47,"唐县":1,"梁州":1,"定兴":4,"大兴":2,"华原":8,"山阳":4,"乐安":5,"万年":28,"棣州":1,"绵州":1,"高安":4,"成都":14,"庐江":2,"宜春":16,"下邳":1,"营道":2,"高要":1,"蜀":5,"金华":9,"分水":1,"曲江":2,"襄阳":10,"洪州":2,"黄岩":4,"芮城":1,"义乌":9,"延陵":5,"余杭":4,"固始":5,"岐山":1,"合江":1,"共城":1,"魏县":2,"兴平":1,"婺州":4,"祁门":1,"慈溪":2,"梓州":1,"元城":3,"信都":3,"河间":4,"东阳":7,"景城":1,"江宁":9,"长安":76,"彭城":13,"新淦":1,"泉州":2,"尉氏":4,"巩州":1,"闽县":13,"江南东路":1,"福清":4,"晋江":5,"上元":4,"崇安":1,"阳安":1,"上虞":2,"丹徒":7,"汝州":2,"武强":1,"符离":3,"袁州":8,"安福":3,"长兴":1,"云安":2,"开封":19,"侯官":7,"汶山":1,"江陵府":4,"庐陵":8,"考城":1,"南丰":2,"新吴":1,"桂阳":2,"晋陵":3,"龙游":2,"常州":8,"晋城":1,"舒州":2,"江阳":1,"湘乡":1,"竟陵":2,"长沙":7,"京兆府":21,"四川":2,"沛县":1,"江东":2,"信阳州":1,"蒲州":7,"海宁":2,"兖州":3,"临漳":3,"灵昌":5,"秋浦":2,"南海":2,"范阳":14,"浮梁":1,"江宁府":2,"蓝田":4,"滑州":2,"安邑":1,"徐州":4,"柳城":4,"郑州":2,"北海":2,"零陵":3,"括苍":1,"虞乡":2,"广平":3,"温县":2,"楚州":2,"汴州":3,"河东":21,"河中府":6,"缑氏":5,"河东道":1,"东平":3,"常熟":3,"明州":2,"濮阳":2,"新安":5,"瑞安":3,"会稽":13,"贵溪":1,"江西":1,"安固":1,"瓯宁":1,"长汀":2,"丽水":3,"临汾":1,"黄冈":1,"龙溪":2,"汝南":3,"即墨":1,"许州":2,"淮阴":1,"漳南":1,"鄱阳":3,"恭城":1,"江山":1,"陈留":1,"青阳":3,"龙泉":1,"须昌":1,"安西都护府":1,"萍乡":2,"晋阳":4,"晋昌":1,"归安":2,"吉阳":1,"钱塘":18,"睦州":3,"硖石":3,"武康":4,"桐城":3,"上邽":6,"高邮州":1,"曲阜":2,"郏城":1,"眉山":3,"贵平":1,"曹州府":1,"南康":2,"武水":1,"陈州":2,"武邑":1,"黟县":1,"奉化":5,"江南道":5,"连山":1,"长洲":2,"建安":4,"平昌":1,"寿春":3,"并州":2,"弘农":7,"福州":5,"西河":1,"天台":1,"南和":2,"南昌":7,"武功":3,"蓨县":5,"赵城":1,"乐寿":1,"海盐":1,"盐官":5,"新郑":4,"益都":3,"河南府":2,"安平":10,"博陵":3,"鄢陵":2,"井陉":2,"全节":3,"卫州":1,"广宗":1,"博州":2,"偃师":5,"荆州":3,"桐庐":3,"安喜":3,"贝州":1,"城固":1,"泾县":3,"莒县":1,"衡阳":1,"南阳":7,"全州":1,"新野":5,"虔化":3,"交州":1,"衡山":2,"池州":2,"方义":1,"阆中":3,"扬州":5,"唐兴":1,"永州":2,"余姚":4,"幽州":4,"陆泽":6,"光化":1,"昆山":2,"猗氏":5,"新喻":1,"昌乐":1,"宋城":4,"太原":7,"江都":5,"海陵":1,"顺昌":1,"仙居":3,"义丰":4,"莆田":20,"宁晋":1,"祁县":8,"神山":1,"金坛":4,"武进":5,"全椒":1,"磐石":2,"昌元":1,"蒲城":1,"崇德州":1,"德兴":1,"吉水":1,"观城":1,"历阳":1,"绵竹":2,"临海":4,"潍县":1,"沂州":1,"晋原":2,"连江":4,"乌江":1,"江阴":1,"华亭":1,"河内":2,"歙县":5,"宜兴":2,"汉阳":1,"上海":1,"巨野":2,"永康":2,"丹阳":7,"阳翟":1,"襄城":1,"泰兴":1,"平阳":4,"宁化":1,"广丰":1,"东海":1,"豫章":3,"镶蓝旗":1,"汉州":2,"南宫":2,"苏州":6,"浦江":1,"满洲正黄旗":1,"休宁":4,"乐平":1,"亳州":1,"浦城":2,"安岳":1,"安顺府":1,"桂州":5,"阳朔":1,"建州":2,"剑南道":1,"永城":1,"宝应":1,"广陵":2,"宁海":1,"秦州":1,"顺天府":1,"丹棱":2,"临城":3,"永泰":1,"赵州":6,"高邑":1,"须城":2,"姑臧":1,"临淄":2,"赞皇":3,"宣城":3,"镇远":1,"华阳":5,"溧阳":1,"成纪":5,"祁阳":2,"无锡":3,"武阳":1,"阳曲":3,"澧州":1,"西昌":1,"大庾":1,"陇西":6,"丰县":1,"南城":2,"乐昌":2,"柏仁":2,"临潭":1,"青田":1,"栾城":2,"光泽":2,"雍州":1,"文水":5,"谯县":2,"济阴":3,"荣阳":11,"楚丘":2,"安东都护府":1,"崇仁":2,"江夏":2,"兴化":1,"饶阳":1,"鄞县":7,"管城":3,"河阳":4,"阳武":5,"开封府":3,"兴化军":1,"任城":1,"怀安":1,"怀宁":1,"永兴":1,"济源":3,"炖煌":2,"庐州":1,"东阿":1,"关中":2,"茶陵":1,"洪雅":1,"临桂":1,"赵郡":1,"石首":2,"福昌":1,"湘潭":1,"泾阳":1,"南郑":1,"三原":6,"寿昌":1,"长清":1,"杜陵":8,"汲县":2,"新城":3,"洹水":2,"涿州":1,"荣泽":4,"天兴":2,"华阴":10,"益昌":1,"临川":4,"渤海都护府":2,"扶风":7,"陈仓":1,"潼关厅":1,"乐清":2,"富川":1,"解县":2,"嘉兴路":2,"易县":1,"晋州":1,"聊城":3,"西安":2,"句容":3,"顺德":1,"灵川":1,"分宜":1,"清江":1,"贵池":1,"安乡":1,"永新":1,"鄠县":1,"任邱":1,"高阳":2,"大名":1,"丰城":1,"正红旗":1,"旌德":1,"建阳":1,"常山":2,"歙州":2,"临汝":1,"内黄":1,"嘉定":1,"祥符":1,"舒城":1,"满洲镶黄旗":1,"漳浦":2,"湘南;南湘":1,"鹑觚":2,"灵台":2,"泾州":1,"杭州路":1,"江浦":1,"安阳":3,"绛州":1,"潭州":1,"长溪":4,"咸阳":4,"太原府":1,"龙门":4,"贵筑":1,"娄县":1,"资州":1,"宜川":1,"南安":2,"新罗":4,"富州":1,"莱州":2,"德安":1,"射洪":2,"怀州":2,"黎阳":1,"真定":1,"虞城":1,"长社":3,"威县":1,"平棘":1,"东明":1,"汉军镶黄旗":1,"临晋":1,"莘县":1,"平陆":1,"鄄城":1,"临沂":1,"浙江省":1,"沂水":1,"舞阳":1,"太仓直隶州直辖地方":1,"郃阳":1,"永丰":1,"嵊县":1,"仙游":6,"宝坻":1,"馆陶":1,"邹平":1,"卢龙":1,"太谷":3,"浚仪":1,"宜城":1,"沧州":2,"魏州":1,"临泾":1,"郫县":1,"满洲正蓝旗":1,"西充":1,"长水":1,"金城":5,"昭庆":1,"秭归":1,"鄂州":1,"兴唐":1,"莱芜":2,"福唐":1,"中都":1,"缙云":1,"青城":1,"通义":1,"壶关":2,"沁水":1,"满城":1,"封州":1,"义兴":5,"京师":1,"江淮":1,"宝鼎":9,"万泉":2,"永嘉":2,"汾州":1,"雒南":1,"东光":2,"朗山":1,"闻喜":8,"定州":1,"稷山":2,"安陆":1,"扬子":1,"宁阳":1,"吐蕃诸部":2,"卫县":1,"绩溪":1,"南皮":2,"幽都":1,"长乐":1,"陕州":1,"获鹿":1,"奉天":3,"鼓城":4,"临安府":1,"宜都":1,"顿丘":1,"单父":1,"恩州":1,"繁昌":1,"玉山":1,"尤溪":1,"冠氏":4,"新会":1,"鴈门":1,"翁源":1,"新乐":1,"中山":1,"广州":1,"暹逻国":1,"河清":1,"贵乡":1,"昆山州":1,"华州":1,"蓟县":1,"仁和":2,"临安":5,"朔方":1,"北平":1,"复州":1,"镡津":1,"永春":1,"诸暨":2,"宋州":1,"河南省":1,"鄮县":1,"新昌":1,"阳湖":1,"象山":1,"吉州":1,"新平":2,"当涂":1,"深州":1,"槁城":1,"仁寿":1,"正平":1,"博平":1,"渤海":2,"潘州":1,"雷泽":1,"郑县":1,"略阳":1,"蒲江":1,"巨鹿":1,"湖口":1,"临邛":1,"冤句":1},ho={"归安":5,"长洲":4,"石埭":3,"常熟":4,"德州":2,"琼山":1,"福州":4,"邵武":11,"长兴":5,"新建":3,"钱塘":20,"汉军正白旗":1,"广德":1,"资州":1,"昌平":1,"淳安":2,"龙泉":2,"信安":1,"衡山":4,"高密":1,"玉山":4,"临川":14,"丽水":4,"乌程":13,"金华":15,"罗源":1,"宜春":1,"晋江":8,"华亭":6,"秀容":1,"吴县":16,"会稽":2,"南剑州":2,"祁门":1,"壁山":1,"双流":1,"荆门军":1,"庐陵":21,"德清":5,"莆田":12,"南丰州":1,"永康":3,"吉州":1,"建阳":9,"长溪":2,"崇安":14,"怀仁":1,"青州":1,"绵州":1,"丰城":8,"大名路":1,"开封":18,"合江":1,"永新":7,"阳安":1,"无锡":3,"清江":3,"定陶":1,"天台":5,"南昌":4,"长沙":1,"东光":1,"昆山":5,"四川":4,"西城":1,"南城":3,"连江":1,"建安":7,"永嘉":12,"抚州":1,"鄞县":21,"开封府":5,"嘉兴":6,"夏县":1,"济南府":1,"临海":9,"余干":3,"休宁":7,"永兴":1,"新郑":2,"瓯宁":1,"嵊县":3,"宜兴":5,"华阳":4,"崇仁":4,"温州":1,"江宁":3,"六合":1,"庆元":1,"溧水":1,"建昌军":1,"建州":4,"中江":1,"仙居":1,"歙县":8,"吉水":5,"泰州":1,"晋陵":1,"长兴州":1,"汝阳":1,"阳谷":1,"大兴":2,"建康府":1,"宣城":5,"永明":1,"邹平":1,"怀远":1,"须昌":1,"浚仪":1,"丹棱":2,"山阴":8,"建德":1,"蕲春":1,"高安":2,"新昌":1,"武康":1,"龙兴":1,"新淦":3,"武进":11,"贵平":2,"东阳":5,"婺州":1,"扬子":1,"吴江":1,"眉山":7,"郓城":1,"雍邱":4,"鄜州":1,"渔阳":1,"下邽":2,"洛阳":8,"贵池":1,"相州":1,"增城":1,"溧阳":2,"新兴":1,"昌国":1,"成武":1,"怀安":2,"顺昌":1,"安陆":2,"衡阳":2,"范县":1,"曲江":1,"永福":2,"长乐":7,"宋城":4,"芜湖":1,"鄱阳":10,"两浙东路":1,"石照":1,"宁晋":2,"福建省":1,"临安":1,"大安军":1,"郑州":1,"金坛":3,"润州":1,"淮阴":1,"新平":1,"安邑":1,"单父":1,"河阳":1,"绵竹":3,"扬州":4,"铜梁":1,"黄岩":7,"衢州":3,"平阳":2,"分宁":6,"上饶":2,"兰溪":3,"富阳":1,"萧山":1,"山阳":2,"西安":1,"介休":1,"义乌":3,"平江府":3,"丹徒":6,"宁乡":1,"铅山":1,"巨野":1,"阳翟":3,"沙县":2,"都昌":2,"瑞安":2,"太和州":1,"南丰":6,"徐州":1,"保昌":2,"福建路":2,"鄄城":1,"河内":1,"当涂":2,"彭山":1,"晋城":1,"须城":2,"上虞":1,"历城":6,"乐平":2,"光泽":1,"兴国":2,"长安":4,"遂宁":2,"蒲城":1,"於潜":1,"建昌":2,"闽县":2,"仁寿":2,"番禺":1,"安阳":3,"新喻":5,"海盐":3,"德兴":3,"阳武":1,"成都":2,"磐石":1,"茶陵州":2,"昭武军节度":1,"赞皇":1,"安喜":1,"京兆府":1,"洪州":2,"浦城":2,"眉州":1,"华阴":2,"江陵":1,"汴梁路":1,"任城":1,"乐安":1,"侯官":2,"福清":1,"泉州":2,"江山":3,"南平":1,"灵川":1,"河东":1,"稷山":1,"上蔡":1,"高阳":1,"庐江":1,"常山":1,"开化":1,"青田":1,"婺源":2,"旌德":1,"湖州":6,"弋阳":3,"祁县":2,"新安":2,"江都":1,"灵台":1,"夷陵州":1,"巢县":1,"湘潭":1,"乐清":2,"郓州":2,"南汇":1,"阳曲":1,"咸阳":1,"咸平":1,"德安":1,"攸县":1,"虞城":1,"上都路":1,"浦江":3,"明州":3,"安福州":1,"长泰":1,"舞阳":1,"仙游":3,"导江":1,"偃师":1,"谷城":1,"怀州":1,"犍为":1,"永春":3,"临桂":1,"高邮":2,"孝感":1,"浮梁":1,"泾县":1,"宁国府":1,"嘉定":1,"绩溪":1,"奉化":2,"慈溪":1,"靖安":1,"流江":1,"兴化":3,"定安":1,"临江军":2,"丹阳":3,"闽清":2,"槁城":1,"永丰":1,"南部":1,"真定":1,"宁国":1,"奉新":1,"江西行中书省":1,"曲沃":1,"穰县":1,"邯郸":1,"黄岩州":1,"杭州路":1,"南陵":1,"五国":1,"虔州":1,"剑浦":3,"临邛":1,"顿丘":1,"太仓州":1,"古田":1,"釜阳":1,"济宁州":1,"临濮":1,"闻喜":1,"韦城":1,"泽州府":1,"贵溪":1,"泰宁":1,"彭城":2,"荣泽":1,"晋原":1,"兴化军":1,"铜陵":1,"巴川":1,"余杭":1,"奉化州":2,"广陵":1,"崇德":1,"管城":2,"固始":1,"博罗":1,"长葛":1,"邓城":1,"郴县":1,"杜陵":1,"博野":1,"宁德":1,"沛县":1,"金朝":1,"井研":1,"太和":1,"余姚":2,"漳浦":1,"扶沟":1,"蒲江":1,"嘉善":1,"许州":1,"宛邱":1,"砀山":1,"诸暨":1,"仁和":1},po={"长清":1,"太原路":2,"庆元路":1,"大兴":2,"真定":4,"无锡州":1,"秀容":1,"西域":1,"大都路":12,"攸州":1,"苏州府":1,"怀安":1,"容城":1,"侯官":1,"宁乡":1,"邢台":1,"范阳":1,"华亭":2,"蒲阴":1,"嘉兴":1,"高安":2,"杭州路":6,"宣城":1,"柳城":1,"溧阳州":1,"亳州":1,"开州":1,"棣州":1,"历城":1,"益都":1,"荣阳":1,"西县":2,"定兴":1,"南城":1,"钱塘":5,"扬州路":1,"嘉兴路":1,"句容":1,"衢州路":1,"芒山":1,"丰润":1,"临川":1,"贵平":1,"邵武":1,"绛州":1,"高丽":1,"崞县":1,"青城":1,"无为":1,"长溪":1,"西河":1,"新喻州":1,"济南路":1,"饶州路":1,"归安":1,"黄冈":1,"瑞金":1,"涿州":2,"蔚州":1,"汲县":1,"宝坻":1,"金坛":1,"临海":2,"长安":1,"汴梁路":2,"代州":1,"冀州":1,"南郑":1,"崇仁":1,"鄱阳":1,"武进":1,"获鹿":1,"沂州":1,"德州":1,"开封":3,"衡山":1,"釜阳":2,"昆明":1,"乌程":1,"庐陵":1,"慈溪":1,"常熟":1,"松江府":2,"鄞县":1,"河间路":1,"东平路":1,"贵溪":1,"顺圣":1},vo={"唐长安":"地处都城长安，是京畿要地，辖内宫阙巍峨，人文荟萃，为全国政治中心的重要组成部分，经济文化繁荣。","唐洛阳":"与长安并重的都城，既是神都、东都，也是商业繁荣、文化璀璨的中心，见证了大唐的辉煌与兴衰。","唐吴县":"江南重要的经济文化之地，作为苏州的治所，依托运河及水网优势，商贸兴旺，且有着悠久的历史和丰富的人文底蕴。","唐万年":"与长安县以长安城朱雀大街为界，管辖街东五十四坊，归京兆府治理，治所在宣阳坊内东南，天宝七载曾改名咸宁，乾元元年又复名万年。","唐河南":"重要的政治、经济和文化区域，不仅有东都洛阳这一繁华的政治中心，商业繁荣、交通便利，还涌现出众多文化名人，诗赋文章等文化成果璀璨夺目，在全国占据着举足轻重的地位。","唐京兆府":"与长安县分治长安城，同属京兆府，城内官署府邸众多，商业活动频繁，是长安繁华盛景的重要承载之地，文化底蕴深厚。","唐河东":"位于黄河以东，是重要的交通枢纽与经济节点，农业发达，手工业兴盛，以产盐等著称，人文昌盛，对河东地区发展影响深远。","唐莆田":"位于福建，虽地处东南一隅，但在中原文化的熏陶下，逐渐发展，农耕与海产资源丰富，文化教育开始兴起，人才渐出，是福建沿海的重要县域。","唐开封":"属汴州，位于交通要道，水运发达，商业日益繁荣，成为连接南北的重要经济节点。","唐钱塘":"坐落于江南，风景秀丽，钱塘江穿境而过，经济上以丝绸、茶叶等闻名，文化氛围浓厚，是江南地区的一颗璀璨明珠，逐渐发展成为重要的商业与文化中心。","唐宜春":"时称袁州，属江南西道，下辖宜春、新渝、萍乡三县，是“赣湘孔道”，有着重要的交通地位，文化昌盛，“袁州进士半江西”，还出了卢肇、易重等状元，曾有李游等刺史在此理政并被封为宜春侯","唐湖州":"位于今浙江省湖州市一带，唐沿隋制设湖州，领乌程、长城、武康、安吉、德清五县，因濒太湖得名，该地少受战乱影响，社会安定，经济繁荣，是重要财赋来源地，且文化昌盛，颜真卿等文人在此留下诸多文化遗产。","唐成都":"作为 “扬一益二” 的西南大都会，不仅是经济繁荣的商业中心与手工业重镇，有着发达的蜀锦、造纸、雕版印刷业及繁荣的坊市和对外贸易，还是文化璀璨的诗意之城，吸引着众多文人墨客，留下了丰富的文化遗产。","唐范阳":"一个地理位置重要、军事意义重大且文化底蕴深厚的地方，大致位于今北京市和河北省保定市北部交界一带，曾为范阳节度使治所，是安禄山发动 “安史之乱” 的起兵之地，也是范阳卢氏等名门望族的发祥地。","唐彭城":"指徐州，它在唐初为徐州总管府治所，贞观年间属河南道，唐玄宗时改为彭城郡，是重要的政治军事要地和南北交通枢纽，在唐朝中后期作为徐泗濠、武宁军和感化军节度使的治所，见证了藩镇割据与庞勋起义等重大历史事件。","宋庐陵":"文风昌盛，人才辈出，欧阳修等众多文豪皆出于此，乃江南文化重镇，科举成绩斐然。","宋鄞县":"地处明州，经济繁荣，水利发达，教育兴盛，王安石曾在此主政兴利，留下诸多善政。","宋钱塘":"杭州治所，位于江南富庶之地，西湖风光旖旎，城市繁华，商业与文化交相辉映，尽显江南都会之盛。","宋开封":"北宋都城，人口密集，商贸繁荣，勾栏瓦肆热闹非凡，集政治、经济、文化中心于一身，是当时世界上最繁华的都市之一。","宋吴县":"属苏州，境内水网密布，物产丰饶，园林艺术初兴，人文荟萃，是江南鱼米之乡与文化胜地。","宋金华":"地灵人杰，山川秀丽，文化兴盛，不仅农业发达，且儒学等学术思想活跃，为浙中重要地区。","宋临川":"文化昌盛，孕育了王安石、曾巩等文学巨匠，文风炽盛，教育发达，在诗词、散文等领域成就卓著。","宋崇安":"地处福建，以茶闻名，武夷山风光秀丽，且朱熹在此讲学著述，使其成为理学传播的重要基地，文化底蕴深厚。","宋乌程":"属湖州，境内湖光山色，桑蚕业发达，是重要的丝绸产地，文人雅士云集，书画艺术繁荣。","宋莆田":"重教兴学，科举成绩辉煌，人才济济，且农耕与海贸并举，经济发展迅速，成为福建沿海的文化与经济强县。","宋永嘉":"南宋重要的学术、文化与经济之地，不仅诞生了倡导事功之学、主张“义利并举”“通商惠工”的永嘉学派和以“清逸野趣”为特色的永嘉四灵诗派，还凭借优越的地理条件成为海上丝绸之路的关键节点，农业、手工业发达，城乡商品经济繁荣。","宋邵武":"福建路重要的商业与文化中心，以木质建筑为主，有丹霞寺等景观，还施行多种社会福利政策。","宋武进":"宋朝时的武进列为望县，人文荟萃，是南朝齐、梁两朝开国皇帝故居地，也是吴文化发源地之一，有着独特的淹城遗址，且在历史变迁中历经多次行政区划调整。","宋鄱阳":"作为古饶州府治所在地，不仅是“山有林麓之利，泽有蒲鱼之饶”的富饶之地，也是范仲淹、王安石等众多名人留下足迹与佳作的文化名城。","宋建阳":"福建闽北的一颗璀璨明珠，不仅是全国三大刻书印刷中心之一和宋瓷八大窑口之一，还孕育了朱熹的考亭学派，诞生了宋慈等文化名人，可谓经济繁荣、文化昌盛、人才辈出。","元大都路":"都城所在地，是全国政治中心，宫殿宏伟，街道规整，汇聚四海之人，商业繁荣，文化多元。","元杭州路":"经济发达，是江南重要的商业和文化中心，西湖美景吸引着无数文人墨客。","元钱塘":"属杭州路，虽历经朝代更迭，仍保持着江南的富庶与繁华，是重要的商业城市，文化传承不息。","元真定":"地处要冲，经济繁荣，手工业发达，是北方重要的商业城市和军事重镇，文化艺术也颇具特色。","元开封":"虽已不复宋朝都城之盛，但仍为中原地区的重要城市，交通便利，商业基础犹存，在地区经济与文化交流中发挥着重要作用。","元太原路":"山西地区的重要中心，地处交通要道，农业、手工业发达，历史文化悠久，是北方重要的军事和商业城市。","元临海":"浙江的重要城市，拥有始建于晋代的古城墙，因独特的 “江南八达岭” 式城墙兼具御敌与防洪功能","元华亭":"属松江府，地处江南，土地肥沃，棉纺织业兴起，商业繁荣，逐渐成为江南地区的经济重镇，文化也日益发展。","元高安":"属瑞州路，境内物产丰富，农业发达，文化教育不断进步，在江西地区有一定的经济和文化地位。","元汴梁路":"为河南江北行中书省治所，治开封、祥符二县，辖境广阔，是中原地区重要的政治、经济和交通枢纽。","元釜阳":"在今河北徐水大王店镇，因位于釜山之南而得名，在元朝时是普通的城镇聚落，是郑庆等当地家族的生活之地，在区域交通、农业生产等方面有着一定的基础和作用。","元松江府":"重要的海运漕粮基地和盐业生产地，经济繁荣，其棉纺织业在黄道婆带来先进技术后快速发展，为日后成为全国棉纺织业中心奠定了基础。","元长清":"属中书省济南路，有着独特的地域文化底蕴，其境内的灵岩寺在当时就已是闻名遐迩的佛教圣地，吸引着众多信徒和游客往来。","元庆元路":"属江浙行省，治所位于鄞县，辖境涵盖今浙江宁波、慈溪、奉化等地及舟山群岛，大德六年成为浙东道宣慰司治所，是当时重要的外贸港口，与泉州、广州并称为中国三大港口。","元无锡州":"属江浙行省常州路，其在经济上有一定发展，成为区域内重要的商业和手工业城镇，且文化氛围也较为浓厚。"},yo={nodes:[{name:"喜",depth:0},{name:"怒",depth:0},{name:"悲",depth:0},{name:"乐",depth:0},{name:"思",depth:0},{name:"忧",depth:0},{name:"惧",depth:0},{name:"李白",depth:1},{name:"王勃",depth:1},{name:"孟浩然",depth:1},{name:"杜牧",depth:1},{name:"杜甫",depth:1},{name:"白居易",depth:1},{name:"韩愈",depth:1},{name:"柳宗元",depth:1},{name:"常建",depth:1},{name:"王建",depth:1},{name:"李益",depth:1},{name:"山水田园诗派",depth:2},{name:"边塞诗派",depth:2},{name:"浪漫主义诗派",depth:2},{name:"现实主义诗派",depth:2}],links:[{source:"李白",target:"浪漫主义诗派",value:5},{source:"乐",target:"李白",value:.8657829328914664},{source:"悲",target:"李白",value:1.5700082850041426},{source:"怒",target:"李白",value:.3148301574150787},{source:"思",target:"李白",value:1.2344656172328086},{source:"喜",target:"李白",value:.5965202982601491},{source:"惧",target:"李白",value:.04971002485501243},{source:"忧",target:"李白",value:.36868268434134216},{source:"王勃",target:"浪漫主义诗派",value:1.6},{source:"悲",target:"王勃",value:.41967213114754104},{source:"喜",target:"王勃",value:.26229508196721313},{source:"思",target:"王勃",value:.4852459016393443},{source:"忧",target:"王勃",value:.10491803278688526},{source:"乐",target:"王勃",value:.22295081967213115},{source:"怒",target:"王勃",value:.0918032786885246},{source:"惧",target:"王勃",value:.013114754098360657},{source:"孟浩然",target:"山水田园诗派",value:3.5},{source:"乐",target:"孟浩然",value:.9963503649635036},{source:"思",target:"孟浩然",value:.7025547445255474},{source:"喜",target:"孟浩然",value:.4343065693430657},{source:"悲",target:"孟浩然",value:1.0346715328467155},{source:"怒",target:"孟浩然",value:.14051094890510948},{source:"忧",target:"孟浩然",value:.17883211678832117},{source:"惧",target:"孟浩然",value:.012773722627737226},{source:"杜牧",target:"现实主义诗派",value:1.5},{source:"悲",target:"杜牧",value:.5073529411764706},{source:"喜",target:"杜牧",value:.18198529411764705},{source:"乐",target:"杜牧",value:.15992647058823528},{source:"怒",target:"杜牧",value:.09099264705882353},{source:"思",target:"杜牧",value:.43566176470588236},{source:"忧",target:"杜牧",value:.09926470588235295},{source:"惧",target:"杜牧",value:.024816176470588237},{source:"杜甫",target:"现实主义诗派",value:4.5},{source:"惧",target:"杜甫",value:.04533243787777031},{source:"忧",target:"杜甫",value:.4110141034251175},{source:"悲",target:"杜甫",value:1.480859637340497},{source:"怒",target:"杜甫",value:.40194761584956346},{source:"乐",target:"杜甫",value:.8673606447280054},{source:"思",target:"杜甫",value:.7162525184687709},{source:"喜",target:"杜甫",value:.5772330423102754},{source:"白居易",target:"现实主义诗派",value:2.8},{source:"乐",target:"白居易",value:.6039215686274509},{source:"悲",target:"白居易",value:.7565304087736789},{source:"忧",target:"白居易",value:.26799601196410766},{source:"思",target:"白居易",value:.6616151545363907},{source:"喜",target:"白居易",value:.41595214356929205},{source:"惧",target:"白居易",value:.03256895978730475},{source:"怒",target:"白居易",value:.06141575274177467},{source:"韩愈",target:"现实主义诗派",value:2.2},{source:"怒",target:"韩愈",value:2.2},{source:"柳宗元",target:"山水田园诗派",value:2.4},{source:"乐",target:"柳宗元",value:.6415841584158416},{source:"怒",target:"柳宗元",value:.2613861386138614},{source:"喜",target:"柳宗元",value:.3326732673267327},{source:"忧",target:"柳宗元",value:.22574257425742572},{source:"悲",target:"柳宗元",value:.5702970297029702},{source:"惧",target:"柳宗元",value:.07128712871287128},{source:"思",target:"柳宗元",value:.297029702970297},{source:"常建",target:"山水田园诗派",value:1},{source:"思",target:"常建",value:.288135593220339},{source:"乐",target:"常建",value:.0847457627118644},{source:"悲",target:"常建",value:.3559322033898305},{source:"喜",target:"常建",value:.0847457627118644},{source:"忧",target:"常建",value:.06779661016949153},{source:"怒",target:"常建",value:.11864406779661017},{source:"王建",target:"边塞诗派",value:1},{source:"悲",target:"王建",value:.28793103448275864},{source:"思",target:"王建",value:.2206896551724138},{source:"乐",target:"王建",value:.18620689655172415},{source:"喜",target:"王建",value:.19827586206896552},{source:"忧",target:"王建",value:.07931034482758621},{source:"怒",target:"王建",value:.017241379310344827},{source:"惧",target:"王建",value:.010344827586206896},{source:"李益",target:"边塞诗派",value:1.3},{source:"悲",target:"李益",value:.505945945945946},{source:"思",target:"李益",value:.2740540540540541},{source:"喜",target:"李益",value:.1475675675675676},{source:"忧",target:"李益",value:.11243243243243244},{source:"乐",target:"李益",value:.2037837837837838},{source:"怒",target:"李益",value:.04216216216216217},{source:"惧",target:"李益",value:.014054054054054054}]},fo={nodes:[{name:"喜",depth:0},{name:"怒",depth:0},{name:"悲",depth:0},{name:"乐",depth:0},{name:"思",depth:0},{name:"忧",depth:0},{name:"惧",depth:0},{name:"柳永",depth:1},{name:"周邦彦",depth:1},{name:"李清照",depth:1},{name:"秦观",depth:1},{name:"晏殊",depth:1},{name:"晏几道",depth:1},{name:"苏轼",depth:1},{name:"辛弃疾",depth:1},{name:"陆游",depth:1},{name:"张孝祥",depth:1},{name:"岳飞",depth:1},{name:"陈亮",depth:1},{name:"张元干",depth:1},{name:"刘过",depth:1},{name:"婉约派",depth:2},{name:"豪放派",depth:2}],links:[{source:"柳永",target:"婉约派",value:4},{source:"喜",target:"柳永",value:.8075117370892019},{source:"悲",target:"柳永",value:1.408450704225352},{source:"乐",target:"柳永",value:.5258215962441315},{source:"思",target:"柳永",value:1.0328638497652582},{source:"忧",target:"柳永",value:.15023474178403756},{source:"怒",target:"柳永",value:.056338028169014086},{source:"惧",target:"柳永",value:.018779342723004695},{source:"周邦彦",target:"婉约派",value:2},{source:"思",target:"周邦彦",value:.7634408602150538},{source:"悲",target:"周邦彦",value:.7526881720430108},{source:"喜",target:"周邦彦",value:.26881720430107525},{source:"乐",target:"周邦彦",value:.0967741935483871},{source:"忧",target:"周邦彦",value:.043010752688172046},{source:"怒",target:"周邦彦",value:.06451612903225806},{source:"惧",target:"周邦彦",value:.010752688172043012},{source:"李清照",target:"婉约派",value:3.5},{source:"悲",target:"李清照",value:1.6153846153846154},{source:"喜",target:"李清照",value:.6057692307692307},{source:"乐",target:"李清照",value:.2692307692307693},{source:"思",target:"李清照",value:.9423076923076923},{source:"怒",target:"李清照",value:.06730769230769232},{source:"秦观",target:"婉约派",value:2.8},{source:"悲",target:"秦观",value:1.0266666666666666},{source:"思",target:"秦观",value:1.1199999999999999},{source:"喜",target:"秦观",value:.27999999999999997},{source:"惧",target:"秦观",value:.06222222222222222},{source:"乐",target:"秦观",value:.15555555555555553},{source:"怒",target:"秦观",value:.06222222222222222},{source:"忧",target:"秦观",value:.09333333333333332},{source:"晏殊",target:"婉约派",value:2.7},{source:"思",target:"晏殊",value:.9257142857142858},{source:"悲",target:"晏殊",value:.6557142857142858},{source:"喜",target:"晏殊",value:.6942857142857143},{source:"乐",target:"晏殊",value:.27},{source:"忧",target:"晏殊",value:.135},{source:"惧",target:"晏殊",value:.019285714285714288},{source:"晏几道",target:"婉约派",value:1.3},{source:"思",target:"晏几道",value:.59},{source:"悲",target:"晏几道",value:.42000000000000004},{source:"忧",target:"晏几道",value:.035},{source:"喜",target:"晏几道",value:.195},{source:"乐",target:"晏几道",value:.05500000000000001},{source:"怒",target:"晏几道",value:.005},{source:"苏轼",target:"豪放派",value:5},{source:"思",target:"苏轼",value:1.5055248618784531},{source:"喜",target:"苏轼",value:.8977900552486189},{source:"悲",target:"苏轼",value:1.477900552486188},{source:"怒",target:"苏轼",value:.30386740331491713},{source:"乐",target:"苏轼",value:.4281767955801105},{source:"惧",target:"苏轼",value:.06906077348066297},{source:"忧",target:"苏轼",value:.31767955801104975},{source:"辛弃疾",target:"豪放派",value:4.4},{source:"忧",target:"辛弃疾",value:.265818759936407},{source:"怒",target:"辛弃疾",value:.1329093799682035},{source:"喜",target:"辛弃疾",value:1.112241653418124},{source:"思",target:"辛弃疾",value:.8604133545310017},{source:"悲",target:"辛弃疾",value:1.4270270270270273},{source:"乐",target:"辛弃疾",value:.5526232114467409},{source:"惧",target:"辛弃疾",value:.04896661367249602},{source:"陆游",target:"豪放派",value:3.7},{source:"思",target:"陆游",value:1.250344827586207},{source:"悲",target:"陆游",value:1.3779310344827587},{source:"怒",target:"陆游",value:.1531034482758621},{source:"喜",target:"陆游",value:.5103448275862069},{source:"乐",target:"陆游",value:.20413793103448277},{source:"忧",target:"陆游",value:.20413793103448277},{source:"张孝祥",target:"豪放派",value:1.6},{source:"悲",target:"张孝祥",value:.4693333333333334},{source:"思",target:"张孝祥",value:.41244444444444445},{source:"怒",target:"张孝祥",value:.05688888888888889},{source:"乐",target:"张孝祥",value:.17777777777777778},{source:"喜",target:"张孝祥",value:.4195555555555556},{source:"忧",target:"张孝祥",value:.04977777777777778},{source:"惧",target:"张孝祥",value:.014222222222222223},{source:"陈亮",target:"豪放派",value:1.5},{source:"乐",target:"陈亮",value:.22297297297297297},{source:"悲",target:"陈亮",value:.42567567567567566},{source:"喜",target:"陈亮",value:.32432432432432434},{source:"思",target:"陈亮",value:.3648648648648649},{source:"怒",target:"陈亮",value:.060810810810810814},{source:"忧",target:"陈亮",value:.08108108108108109},{source:"惧",target:"陈亮",value:.02027027027027027},{source:"张元干",target:"豪放派",value:1.5},{source:"思",target:"张元干",value:.42162162162162165},{source:"忧",target:"张元干",value:.05675675675675676},{source:"喜",target:"张元干",value:.30000000000000004},{source:"悲",target:"张元干",value:.44594594594594594},{source:"乐",target:"张元干",value:.1864864864864865},{source:"惧",target:"张元干",value:.016216216216216217},{source:"怒",target:"张元干",value:.07297297297297298},{source:"刘过",target:"豪放派",value:1.4},{source:"岳飞",target:"豪放派",value:1.1},{source:"悲",target:"岳飞",value:1.1},{source:"怒",target:"刘过",value:.07179487179487179},{source:"喜",target:"刘过",value:.2153846153846154},{source:"乐",target:"刘过",value:.1076923076923077},{source:"思",target:"刘过",value:.3230769230769231},{source:"悲",target:"刘过",value:.5205128205128206},{source:"惧",target:"刘过",value:.035897435897435895},{source:"忧",target:"刘过",value:.12564102564102564}]},mo={nodes:[{name:"喜",depth:0},{name:"怒",depth:0},{name:"悲",depth:0},{name:"乐",depth:0},{name:"思",depth:0},{name:"忧",depth:0},{name:"惧",depth:0},{name:"关汉卿",depth:1},{name:"白朴",depth:1},{name:"卢挚",depth:1},{name:"张可久",depth:1},{name:"乔吉",depth:1},{name:"徐再思",depth:1},{name:"周德清",depth:1},{name:"马致远",depth:1},{name:"白贲",depth:1},{name:"张养浩",depth:1},{name:"贯云石",depth:1},{name:"杨朝英",depth:1},{name:"清丽派",depth:2},{name:"豪放派",depth:2}],links:[{source:"关汉卿",target:"清丽派",value:4},{source:"思",target:"关汉卿",value:.6442577030812325},{source:"喜",target:"关汉卿",value:.907563025210084},{source:"悲",target:"关汉卿",value:.6554621848739496},{source:"惧",target:"关汉卿",value:.25770308123249297},{source:"乐",target:"关汉卿",value:.8179271708683473},{source:"怒",target:"关汉卿",value:.22969187675070027},{source:"忧",target:"关汉卿",value:.48739495798319327},{source:"白朴",target:"清丽派",value:2.9},{source:"忧",target:"白朴",value:.2801932367149758},{source:"思",target:"白朴",value:.742512077294686},{source:"悲",target:"白朴",value:.7004830917874396},{source:"乐",target:"白朴",value:.43429951690821256},{source:"怒",target:"白朴",value:.1400966183574879},{source:"喜",target:"白朴",value:.5463768115942029},{source:"惧",target:"白朴",value:.056038647342995164},{source:"卢挚",target:"清丽派",value:2.9},{source:"思",target:"卢挚",value:1.2888888888888888},{source:"悲",target:"卢挚",value:1.2888888888888888},{source:"喜",target:"卢挚",value:.3222222222222222},{source:"张可久",target:"清丽派",value:2.4},{source:"悲",target:"张可久",value:1.020472440944882},{source:"喜",target:"张可久",value:.28346456692913385},{source:"乐",target:"张可久",value:.26456692913385826},{source:"思",target:"张可久",value:.6047244094488189},{source:"怒",target:"张可久",value:.07559055118110236},{source:"忧",target:"张可久",value:.11338582677165354},{source:"惧",target:"张可久",value:.03779527559055118},{source:"乔吉",target:"清丽派",value:2.6},{source:"忧",target:"乔吉",value:.1566265060240964},{source:"乐",target:"乔吉",value:.6421686746987951},{source:"悲",target:"乔吉",value:.5325301204819277},{source:"喜",target:"乔吉",value:.391566265060241},{source:"怒",target:"乔吉",value:.14096385542168677},{source:"思",target:"乔吉",value:.610843373493976},{source:"惧",target:"乔吉",value:.12530120481927712},{source:"徐再思",target:"清丽派",value:2.3},{source:"悲",target:"徐再思",value:1.4375},{source:"喜",target:"徐再思",value:.2875},{source:"思",target:"徐再思",value:.575},{source:"周德清",target:"清丽派",value:2},{source:"怒",target:"周德清",value:.2962962962962963},{source:"悲",target:"周德清",value:.37037037037037035},{source:"忧",target:"周德清",value:.14814814814814814},{source:"思",target:"周德清",value:.8148148148148148},{source:"喜",target:"周德清",value:.2222222222222222},{source:"乐",target:"周德清",value:.07407407407407407},{source:"惧",target:"周德清",value:.07407407407407407},{source:"马致远",target:"豪放派",value:4},{source:"思",target:"马致远",value:.7819548872180451},{source:"乐",target:"马致远",value:.7819548872180451},{source:"惧",target:"马致远",value:.2506265664160401},{source:"喜",target:"马致远",value:.731829573934837},{source:"怒",target:"马致远",value:.2606516290726817},{source:"悲",target:"马致远",value:.9122807017543859},{source:"忧",target:"马致远",value:.2807017543859649},{source:"白贲",target:"豪放派",value:1.9},{source:"思",target:"白贲",value:.8941176470588235},{source:"悲",target:"白贲",value:.7823529411764705},{source:"喜",target:"白贲",value:.22352941176470587},{source:"张养浩",target:"豪放派",value:2},{source:"喜",target:"张养浩",value:.88},{source:"乐",target:"张养浩",value:.4},{source:"忧",target:"张养浩",value:.16},{source:"悲",target:"张养浩",value:.24},{source:"思",target:"张养浩",value:.24},{source:"怒",target:"张养浩",value:.08},{source:"贯云石",target:"豪放派",value:1.7},{source:"悲",target:"贯云石",value:.4112903225806452},{source:"乐",target:"贯云石",value:.16451612903225807},{source:"思",target:"贯云石",value:.7403225806451613},{source:"忧",target:"贯云石",value:.1096774193548387},{source:"喜",target:"贯云石",value:.27419354838709675},{source:"杨朝英",target:"豪放派",value:1.3},{source:"喜",target:"杨朝英",value:.65},{source:"思",target:"杨朝英",value:.325},{source:"乐",target:"杨朝英",value:.1625},{source:"悲",target:"杨朝英",value:.1625}]};export{lo as _,co as a,po as b,ho as c,go as d,Oa as i,vo as r,fo as s,yo as t,mo as y};
