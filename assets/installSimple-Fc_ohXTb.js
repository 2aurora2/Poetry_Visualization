import{_ as t,j as e,t as i,k as o,l as n,e as r,bo as s,bp as a,bq as l,aY as c,br as u,bs as p,M as h,aB as d,bt as x,Q as f,bu as g,n as y,q as m,bv as v,aO as A,a0 as _,o as C,bw as b,bx as M,by as L,bz as S,aN as T,bA as w,p as G,bB as k,az as I,aA as P,V as D,as as B,h as E,G as z,bC as O,A as R,a3 as V,g as H,f as F,L as W,s as Z,E as j}from"./vintage-C7obykgs.js";var q=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return t(i,e),i.type="grid",i.dependencies=["xAxis","yAxis"],i.layoutMode="box",i.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},i}(e),N=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return t(o,e),o.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",i).models[0]},o.type="cartesian2dAxis",o}(e);o(N,n);var Q={value:1,category:1,time:1,log:1};function U(e,i,o,n){r(Q,(function(r,h){var d=s(s({},a[h],!0),n,!0),x=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i+"Axis."+h,t}return t(o,e),o.prototype.mergeDefaultAndTheme=function(t,e){var i=l(this),o=i?c(t):{},n=e.getTheme();s(t,n.get(h+"Axis")),s(t,this.getDefaultOption()),t.type=Y(t),i&&u(t,o,i)},o.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=p.createByAxisModel(this))},o.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},o.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},o.type=i+"Axis."+h,o.defaultOption=d,o}(o);e.registerComponentModel(x)})),e.registerSubTypeDefaulter(i+"Axis",Y)}function Y(t){return t.type||(t.data?"category":"value")}var J=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return h(this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),d(this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}(),K=["x","y"];function X(t){return"interval"===t.type||"time"===t.type}var $=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=K,t}return t(i,e),i.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(X(t)&&X(e)){var i=t.getExtent(),o=e.getExtent(),n=this.dataToPoint([i[0],o[0]]),r=this.dataToPoint([i[1],o[1]]),s=i[1]-i[0],a=o[1]-o[0];if(s&&a){var l=(r[0]-n[0])/s,c=(r[1]-n[1])/a,u=n[0]-i[0]*l,p=n[1]-o[0]*c,h=this._transform=[l,0,0,c,u,p];this._invTransform=x([],h)}}},i.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},i.prototype.containPoint=function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},i.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},i.prototype.containZone=function(t,e){var i=this.dataToPoint(t),o=this.dataToPoint(e),n=this.getArea(),r=new f(i[0],i[1],o[0]-i[0],o[1]-i[1]);return n.intersect(r)},i.prototype.dataToPoint=function(t,e,i){i=i||[];var o=t[0],n=t[1];if(this._transform&&null!=o&&isFinite(o)&&null!=n&&isFinite(n))return g(i,t,this._transform);var r=this.getAxis("x"),s=this.getAxis("y");return i[0]=r.toGlobalCoord(r.dataToCoord(o,e)),i[1]=s.toGlobalCoord(s.dataToCoord(n,e)),i},i.prototype.clampData=function(t,e){var i=this.getAxis("x").scale,o=this.getAxis("y").scale,n=i.getExtent(),r=o.getExtent(),s=i.parse(t[0]),a=o.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(n[0],n[1]),s),Math.max(n[0],n[1])),e[1]=Math.min(Math.max(Math.min(r[0],r[1]),a),Math.max(r[0],r[1])),e},i.prototype.pointToData=function(t,e){var i=[];if(this._invTransform)return g(i,t,this._invTransform);var o=this.getAxis("x"),n=this.getAxis("y");return i[0]=o.coordToData(o.toLocalCoord(t[0]),e),i[1]=n.coordToData(n.toLocalCoord(t[1]),e),i},i.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},i.prototype.getArea=function(t){t=t||0;var e=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),o=Math.min(e[0],e[1])-t,n=Math.min(i[0],i[1])-t,r=Math.max(e[0],e[1])-o+t,s=Math.max(i[0],i[1])-n+t;return new f(o,n,r,s)},i}(J),tt=function(e){function i(t,i,o,n,r){var s=e.call(this,t,i,o)||this;return s.index=0,s.type=n||"value",s.position=r||"bottom",s}return t(i,e),i.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},i.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},i.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},i.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},i}(y),et=function(){function t(t,e,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=K,this._initCartesian(t,e,i),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var i=this._axesMap;function o(t){var e,i=T(t),o=i.length;if(o){for(var n=[],s=o-1;s>=0;s--){var a=t[+i[s]],l=a.model,c=a.scale;w(c)&&l.get("alignTicks")&&null==l.get("interval")?n.push(a):(G(c,l),w(c)&&(e=a))}n.length&&(e||(e=n.pop(),G(e.scale,e.model)),r(n,(function(t){k(t.scale,t.model,e.scale)})))}}this._updateScale(t,this.model),o(i.x),o(i.y);var n={};r(i.x,(function(t){ot(i,"y",t,n)})),r(i.y,(function(t){ot(i,"x",t,n)})),this.resize(this.model,e)},t.prototype.resize=function(t,e,i){var o=t.getBoxLayoutParams(),n=!i&&t.get("containLabel"),s=m(o,{width:e.getWidth(),height:e.getHeight()});this._rect=s;var a=this._axesList;function l(){r(a,(function(t){var e=t.isHorizontal(),i=e?[0,s.width]:[0,s.height],o=t.inverse?1:0;t.setExtent(i[o],i[1-o]),function(t,e){var i=t.getExtent(),o=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return o-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return o-t+e}}(t,e?s.x:s.y)}))}l(),n&&(r(a,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=v(t);if(e){var i=t.isHorizontal()?"height":"width",o=t.model.get(["axisLabel","margin"]);s[i]-=e[i]+o,"top"===t.position?s.y+=e.height+o:"left"===t.position&&(s.x+=e.width+o)}}})),l()),r(this._coordsList,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i)return i[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var i="x"+t+"y"+e;return this._coordsMap[i]}A(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var o=0,n=this._coordsList;o<n.length;o++)if(n[o].getAxis("x").index===t||n[o].getAxis("y").index===e)return n[o]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,i){var o=this._findConvertTarget(e);return o.cartesian?o.cartesian.dataToPoint(i):o.axis?o.axis.toGlobalCoord(o.axis.dataToCoord(i)):null},t.prototype.convertFromPixel=function(t,e,i){var o=this._findConvertTarget(e);return o.cartesian?o.cartesian.pointToData(i):o.axis?o.axis.coordToData(o.axis.toLocalCoord(i)):null},t.prototype._findConvertTarget=function(t){var e,o,n=t.seriesModel,r=t.xAxisModel||n&&n.getReferringComponents("xAxis",i).models[0],s=t.yAxisModel||n&&n.getReferringComponents("yAxis",i).models[0],a=t.gridModel,l=this._coordsList;if(n)e=n.coordinateSystem,_(l,e)<0&&(e=null);else if(r&&s)e=this.getCartesian(r.componentIndex,s.componentIndex);else if(r)o=this.getAxis("x",r.componentIndex);else if(s)o=this.getAxis("y",s.componentIndex);else if(a){a.coordinateSystem===this&&(e=this._coordsList[0])}return{cartesian:e,axis:o}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,i){var o=this,n=this,s={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",c("x"),this),e.eachComponent("yAxis",c("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function c(e){return function(i,o){if(it(i,t)){var r=i.get("position");"x"===e?"top"!==r&&"bottom"!==r&&(r=s.bottom?"top":"bottom"):"left"!==r&&"right"!==r&&(r=s.left?"right":"left"),s[r]=!0;var c=new tt(e,C(i),[0,0],i.get("type"),r),u="category"===c.type;c.onBand=u&&i.get("boundaryGap"),c.inverse=i.get("inverse"),i.axis=c,c.model=i,c.grid=n,c.index=o,n._axesList.push(c),a[e][o]=c,l[e]++}}}this._axesMap=a,r(a.x,(function(e,i){r(a.y,(function(n,r){var s="x"+i+"y"+r,a=new $(s);a.master=o,a.model=t,o._coordsMap[s]=a,o._coordsList.push(a),a.addAxis(e),a.addAxis(n)}))}))},t.prototype._updateScale=function(t,e){function i(t,e){r(L(t,e.dim),(function(i){e.scale.unionExtentFromData(t,i)}))}r(this._axesList,(function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if(b(t)){var o=M(t),n=o.xAxisModel,r=o.yAxisModel;if(!it(n,e)||!it(r,e))return;var s=this.getCartesian(n.componentIndex,r.componentIndex),a=t.getData(),l=s.getAxis("x"),c=s.getAxis("y");i(a,l),i(a,c)}}),this)},t.prototype.getTooltipAxes=function(t){var e=[],i=[];return r(this.getCartesians(),(function(o){var n=null!=t&&"auto"!==t?o.getAxis(t):o.getBaseAxis(),r=o.getOtherAxis(n);_(e,n)<0&&e.push(n),_(i,r)<0&&i.push(r)})),{baseAxes:e,otherAxes:i}},t.create=function(e,i){var o=[];return e.eachComponent("grid",(function(n,r){var s=new t(n,e,i);s.name="grid_"+r,s.resize(n,i,!0),n.coordinateSystem=s,o.push(s)})),e.eachSeries((function(t){if(b(t)){var e=M(t),i=e.xAxisModel,o=e.yAxisModel,n=i.getCoordSysModel().coordinateSystem;t.coordinateSystem=n.getCartesian(i.componentIndex,o.componentIndex)}})),o},t.dimensions=K,t}();function it(t,e){return t.getCoordSysModel()===e}function ot(t,e,i,o){i.getAxesOnZeroOf=function(){return n?[n]:[]};var n,r=t[e],s=i.model,a=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(a){if(null!=l)nt(r[l])&&(n=r[l]);else for(var c in r)if(r.hasOwnProperty(c)&&nt(r[c])&&!o[u(r[c])]){n=r[c];break}n&&(o[u(n)]=!0)}function u(t){return t.dim+"_"+t.index}}function nt(t){return t&&"category"!==t.type&&"time"!==t.type&&S(t)}var rt=I();function st(t,e,i,o){var n=i.axis;if(!n.scale.isBlank()){var r=i.getModel("splitArea"),s=r.getModel("areaStyle"),a=s.get("color"),l=o.coordinateSystem.getRect(),c=n.getTicksCoords({tickModel:r,clamp:!0});if(c.length){var u=a.length,p=rt(t).splitAreaColors,h=P(),d=0;if(p)for(var x=0;x<c.length;x++){var f=p.get(c[x].tickValue);if(null!=f){d=(f+(u-1)*x)%u;break}}var g=n.toGlobalCoord(c[0].coord),y=s.getAreaStyle();a=D(a)?a:[a];for(x=1;x<c.length;x++){var m=n.toGlobalCoord(c[x].coord),v=void 0,A=void 0,_=void 0,C=void 0;n.isHorizontal()?(v=g,A=l.y,_=m-v,C=l.height,g=v+_):(v=l.x,A=g,_=l.width,g=A+(C=m-A));var b=c[x-1].tickValue;null!=b&&h.set(b,d),e.add(new B({anid:null!=b?"area_"+b:null,shape:{x:v,y:A,width:_,height:C},style:E({fill:a[d]},y),autoBatch:!0,silent:!0})),d=(d+1)%u}rt(t).splitAreaColors=h}}}function at(t){rt(t).splitAreaColors=null}var lt=["axisLine","axisTickLabel","axisName"],ct=["splitArea","splitLine","minorSplitLine"],ut=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.axisPointerClass="CartesianAxisPointer",t}return t(i,e),i.prototype.render=function(t,i,o,n){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new z,this.group.add(this._axisGroup),t.get("show")){var a=t.getCoordSysModel(),l=O(a,t),c=new R(t,V({handleAutoShown:function(e){for(var i=a.coordinateSystem.getCartesians(),o=0;o<i.length;o++)if(w(i[o].getOtherAxis(t.axis).scale))return!0;return!1}},l));r(lt,c.add,c),this._axisGroup.add(c.getGroup()),r(ct,(function(e){t.get([e,"show"])&&pt[e](this,this._axisGroup,t,a)}),this),n&&"changeAxisOrder"===n.type&&n.isInitSort||H(s,this._axisGroup,t),e.prototype.render.call(this,t,i,o,n)}},i.prototype.remove=function(){at(this)},i.type="cartesianAxis",i}(F),pt={splitLine:function(t,e,i,o){var n=i.axis;if(!n.scale.isBlank()){var r=i.getModel("splitLine"),s=r.getModel("lineStyle"),a=s.get("color"),l=!1!==r.get("showMinLine"),c=!1!==r.get("showMaxLine");a=D(a)?a:[a];for(var u=o.coordinateSystem.getRect(),p=n.isHorizontal(),h=0,d=n.getTicksCoords({tickModel:r}),x=[],f=[],g=s.getLineStyle(),y=0;y<d.length;y++){var m=n.toGlobalCoord(d[y].coord);if((0!==y||l)&&(y!==d.length-1||c)){var v=d[y].tickValue;p?(x[0]=m,x[1]=u.y,f[0]=m,f[1]=u.y+u.height):(x[0]=u.x,x[1]=m,f[0]=u.x+u.width,f[1]=m);var A=h++%a.length,_=new W({anid:null!=v?"line_"+v:null,autoBatch:!0,shape:{x1:x[0],y1:x[1],x2:f[0],y2:f[1]},style:E({stroke:a[A]},g),silent:!0});Z(_.shape,g.lineWidth),e.add(_)}}}},minorSplitLine:function(t,e,i,o){var n=i.axis,r=i.getModel("minorSplitLine").getModel("lineStyle"),s=o.coordinateSystem.getRect(),a=n.isHorizontal(),l=n.getMinorTicksCoords();if(l.length)for(var c=[],u=[],p=r.getLineStyle(),h=0;h<l.length;h++)for(var d=0;d<l[h].length;d++){var x=n.toGlobalCoord(l[h][d].coord);a?(c[0]=x,c[1]=s.y,u[0]=x,u[1]=s.y+s.height):(c[0]=s.x,c[1]=x,u[0]=s.x+s.width,u[1]=x);var f=new W({anid:"minor_line_"+l[h][d].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:u[0],y2:u[1]},style:p,silent:!0});Z(f.shape,p.lineWidth),e.add(f)}},splitArea:function(t,e,i,o){st(t,e,i,o)}},ht=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return t(i,e),i.type="xAxis",i}(ut),dt=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=ht.type,t}return t(i,e),i.type="yAxis",i}(ut),xt=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="grid",t}return t(i,e),i.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new B({shape:t.coordinateSystem.getRect(),style:E({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},i.type="grid",i}(j),ft={offset:0};function gt(t){t.registerComponentView(xt),t.registerComponentModel(q),t.registerCoordinateSystem("cartesian2d",et),U(t,"x",N,ft),U(t,"y",N,ft),t.registerComponentView(ht),t.registerComponentView(dt),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}export{st as a,U as b,gt as i,at as r};
