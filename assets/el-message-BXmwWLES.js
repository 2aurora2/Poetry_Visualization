import{d as e,j as s,c as t,s as o,b as n,B as a,C as l,N as r,v as u,x as i,u as d,y as p,H as c,I as f,O as m,Y as g,Z as y,r as v,o as b,w as C,e as h,A as x,E as w,F as S,$ as B,i as T,g as N,l as _,a0 as $}from"./index-Bzvzv-uC.js";import{p as k,q as I,u as L,C as M,R as E,_ as H,w as z,A,n as Z,T as j,U as D,V as U,W as O,H as R,X as F,Y as q,E as Y,B as V,o as W,Z as X}from"./base-REVgwAIc.js";const G=k({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:I([String,Object,Array])},offset:{type:I(Array),default:[0,0]},badgeClass:{type:String}}),J=e({name:"ElBadge"});const K=z(H(e({...J,props:G,setup(e,{expose:y}){const v=e,b=L("badge"),C=s((()=>v.isDot?"":M(v.value)&&M(v.max)&&v.max<v.value?`${v.max}+`:`${v.value}`)),h=s((()=>{var e,s,t,o,n;return[{backgroundColor:v.color,marginRight:E(-(null!=(s=null==(e=v.offset)?void 0:e[0])?s:0)),marginTop:E(null!=(o=null==(t=v.offset)?void 0:t[1])?o:0)},null!=(n=v.badgeStyle)?n:{}]}));return y({content:C}),(e,s)=>(t(),o("div",{class:i(d(b).b())},[n(e.$slots,"default"),a(g,{name:`${d(b).namespace.value}-zoom-in-center`,persisted:""},{default:l((()=>[r(u("sup",{class:i([d(b).e("content"),d(b).em("content",e.type),d(b).is("fixed",!!e.$slots.default),d(b).is("dot",e.isDot),d(b).is("hide-zero",!e.showZero&&0===v.value),e.badgeClass]),style:p(d(h))},[n(e.$slots,"content",{value:d(C)},(()=>[c(f(d(C)),1)]))],6),[[m,!e.hidden&&(d(C)||e.isDot||e.$slots.content)]])])),_:3},8,["name"])],2))}}),[["__file","badge.vue"]])),P={},Q=["success","info","warning","error"],ee={customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Z?document.body:void 0},se=k({customClass:{type:String,default:ee.customClass},center:{type:Boolean,default:ee.center},dangerouslyUseHTMLString:{type:Boolean,default:ee.dangerouslyUseHTMLString},duration:{type:Number,default:ee.duration},icon:{type:A,default:ee.icon},id:{type:String,default:ee.id},message:{type:I([String,Object,Function]),default:ee.message},onClose:{type:I(Function),default:ee.onClose},showClose:{type:Boolean,default:ee.showClose},type:{type:String,values:Q,default:ee.type},plain:{type:Boolean,default:ee.plain},offset:{type:Number,default:ee.offset},zIndex:{type:Number,default:ee.zIndex},grouping:{type:Boolean,default:ee.grouping},repeatNum:{type:Number,default:ee.repeatNum}}),te=y([]),oe=e=>{const{prev:s}=(e=>{const s=te.findIndex((s=>s.id===e)),t=te[s];let o;return s>0&&(o=te[s-1]),{current:t,prev:o}})(e);return s?s.vm.exposed.bottom.value:0},ne=e({name:"ElMessage"});var ae=H(e({...ne,props:se,emits:{destroy:()=>!0},setup(e,{expose:c}){const y=e,{Close:T}=F,{ns:N,zIndex:_}=j("message"),{currentZIndex:$,nextZIndex:k}=_,I=v(),L=v(!1),M=v(0);let E;const H=s((()=>y.type?"error"===y.type?"danger":y.type:"info")),z=s((()=>{const e=y.type;return{[N.bm("icon",e)]:e&&D[e]}})),A=s((()=>y.icon||D[y.type]||"")),Z=s((()=>oe(y.id))),V=s((()=>((e,s)=>te.findIndex((s=>s.id===e))>0?16:s)(y.id,y.offset)+Z.value)),W=s((()=>M.value+V.value)),X=s((()=>({top:`${V.value}px`,zIndex:$.value})));function G(){0!==y.duration&&({stop:E}=q((()=>{P()}),y.duration))}function J(){null==E||E()}function P(){L.value=!1}return b((()=>{G(),k(),L.value=!0})),C((()=>y.repeatNum),(()=>{J(),G()})),U(document,"keydown",(function({code:e}){e===Y.esc&&P()})),O(I,(()=>{M.value=I.value.getBoundingClientRect().height})),c({visible:L,bottom:W,close:P}),(e,s)=>(t(),h(g,{name:d(N).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:s=>e.$emit("destroy"),persisted:""},{default:l((()=>[r(u("div",{id:e.id,ref_key:"messageRef",ref:I,class:i([d(N).b(),{[d(N).m(e.type)]:e.type},d(N).is("center",e.center),d(N).is("closable",e.showClose),d(N).is("plain",e.plain),e.customClass]),style:p(d(X)),role:"alert",onMouseenter:J,onMouseleave:G},[e.repeatNum>1?(t(),h(d(K),{key:0,value:e.repeatNum,type:d(H),class:i(d(N).e("badge"))},null,8,["value","type","class"])):x("v-if",!0),d(A)?(t(),h(d(R),{key:1,class:i([d(N).e("icon"),d(z)])},{default:l((()=>[(t(),h(w(d(A))))])),_:1},8,["class"])):x("v-if",!0),n(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(t(),o(S,{key:1},[x(" Caution here, message could've been compromised, never use user's input as message "),u("p",{class:i(d(N).e("content")),innerHTML:e.message},null,10,["innerHTML"])],2112)):(t(),o("p",{key:0,class:i(d(N).e("content"))},f(e.message),3))])),e.showClose?(t(),h(d(R),{key:2,class:i(d(N).e("closeBtn")),onClick:B(P,["stop"])},{default:l((()=>[a(d(T))])),_:1},8,["class","onClick"])):x("v-if",!0)],46,["id"]),[[m,L.value]])])),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}}),[["__file","message.vue"]]);let le=1;const re=e=>{const s=!e||T(e)||N(e)||_(e)?{message:e}:e,t={...ee,...s};if(t.appendTo){if(T(t.appendTo)){let e=document.querySelector(t.appendTo);W(e)||(e=document.body),t.appendTo=e}}else t.appendTo=document.body;return V(P.grouping)&&!t.grouping&&(t.grouping=P.grouping),M(P.duration)&&3e3===t.duration&&(t.duration=P.duration),M(P.offset)&&16===t.offset&&(t.offset=P.offset),V(P.showClose)&&!t.showClose&&(t.showClose=P.showClose),t},ue=({appendTo:e,...s},t)=>{const o="message_"+le++,n=s.onClose,l=document.createElement("div"),r={...s,id:o,onClose:()=>{null==n||n(),(e=>{const s=te.indexOf(e);if(-1===s)return;te.splice(s,1);const{handler:t}=e;t.close()})(p)},onDestroy:()=>{$(null,l)}},u=a(ae,r,_(r.message)||N(r.message)?{default:_(r.message)?r.message:()=>r.message}:null);u.appContext=t||ie._context,$(u,l),e.appendChild(l.firstElementChild);const i=u.component,d={close:()=>{i.exposed.visible.value=!1}},p={id:o,vnode:u,vm:i,handler:d,props:u.component.props};return p},ie=(e={},s)=>{if(!Z)return{close:()=>{}};const t=re(e);if(t.grouping&&te.length){const e=te.find((({vnode:e})=>{var s;return(null==(s=e.props)?void 0:s.message)===t.message}));if(e)return e.props.repeatNum+=1,e.props.type=t.type,e.handler}if(M(P.max)&&te.length>=P.max)return{close:()=>{}};const o=ue(t,s);return te.push(o),o.handler};Q.forEach((e=>{ie[e]=(s={},t)=>{const o=re(s);return ie({...o,type:e},t)}})),ie.closeAll=function(e){for(const s of te)e&&e!==s.props.type||s.handler.close()},ie._context=null;const de=X(ie,"$message");export{de as E};
