import{aK as e,aL as t,aM as a,aN as r,aO as o,e as n,V as i,$ as s,aP as l,aQ as u,aI as d,M as h,aR as c,aS as g,aT as p,aU as v,_ as y,aV as f,az as m,aA as x,aW as b,ai as _,aX as w,G as S,aY as E,q as M,a0 as D,aZ as L,T as I,al as z,aF as V,a2 as B,c as A,as as C,a_ as T,a$ as k,b0 as P,b1 as Y,Z,b2 as N,at as R,ar as O,b3 as F,u as G,b4 as H,b5 as j,R as W,U as X,b6 as q,b7 as $,b8 as J,b9 as K,ab as U,C as Q,ba as ee,a7 as te,ak as ae,bb as re,S as oe,aB as ne,bc as ie,a as se,i as le,v as ue,r as de,b as he}from"./vintage-C7obykgs.js";import{D as ce,c as ge,b as pe,s as ve,d as ye,g as fe,i as me,a as xe}from"./install-fLrLa5PJ.js";import{R as be,c as _e,i as we}from"./install-BhwyXHO2.js";import{d as Se,s as Ee,w as Me,o as De,k as Le,a as Ie,c as ze,r as Ve,b as Be,F as Ae,h as Ce,e as Te,u as ke,n as Pe,t as Ye}from"./index-H6gMC5G_.js";import{i as Ze,a as Ne}from"./install-CeT-WK7o.js";import{a as Re,i as Oe}from"./linkSeriesData-Ci6zc3W4.js";import"./installSimple-Fc_ohXTb.js";var Fe=n,Ge=o,He=-1,je=function(){function d(a){var r=a.mappingMethod,s=a.type,l=this.option=e(a);this.type=s,this.mappingMethod=r,this._normalizeData=tt[r];var u=d.visualHandlers[s];this.applyVisual=u.applyVisual,this.getColorMapper=u.getColorMapper,this._normalizedToVisual=u._normalizedToVisual[r],"piecewise"===r?(We(l),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,n(t,(function(t,a){t.originIndex=a,null!=t.visual&&(e.hasSpecialVisual=!0)}))}(l)):"category"===r?l.categories?function(e){var t=e.categories,a=e.categoryMap={},r=e.visual;if(Fe(t,(function(e,t){a[e]=t})),!i(r)){var n=[];o(r)?Fe(r,(function(e,t){var r=a[t];n[null!=r?r:He]=e})):n[-1]=r,r=et(e,n)}for(var s=t.length-1;s>=0;s--)null==r[s]&&(delete a[t[s]],t.pop())}(l):We(l,!0):(t("linear"!==r||l.dataExtent),We(l))}return d.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},d.prototype.getNormalizer=function(){return a(this._normalizeData,this)},d.listVisualTypes=function(){return r(d.visualHandlers)},d.isValidType=function(e){return d.visualHandlers.hasOwnProperty(e)},d.eachVisual=function(e,t,a){o(e)?n(e,t,a):t.call(a,e)},d.mapVisual=function(e,t,a){var r,n=i(e)?[]:o(e)?{}:(r=!0,null);return d.eachVisual(e,(function(e,o){var i=t.call(a,e,o);r?n=i:n[o]=i})),n},d.retrieveVisuals=function(e){var t,a={};return e&&Fe(d.visualHandlers,(function(r,o){e.hasOwnProperty(o)&&(a[o]=e[o],t=!0)})),t?a:null},d.prepareVisualTypes=function(e){if(i(e))e=e.slice();else{if(!Ge(e))return[];var t=[];Fe(e,(function(e,a){t.push(a)})),e=t}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},d.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},d.findPieceIndex=function(e,t,a){for(var r,o=1/0,n=0,i=t.length;n<i;n++){var l=t[n].value;if(null!=l){if(l===e||s(l)&&l===e+"")return n;a&&c(l,n)}}for(n=0,i=t.length;n<i;n++){var u=t[n],d=u.interval,h=u.close;if(d){if(d[0]===-1/0){if(at(h[1],e,d[1]))return n}else if(d[1]===1/0){if(at(h[0],d[0],e))return n}else if(at(h[0],d[0],e)&&at(h[1],e,d[1]))return n;a&&c(d[0],n),a&&c(d[1],n)}}if(a)return e===1/0?t.length-1:e===-1/0?0:r;function c(t,a){var n=Math.abs(t-e);n<o&&(o=n,r=a)}},d.visualHandlers={color:{applyVisual:$e("color"),getColorMapper:function(){var e=this.option;return a("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),Je.call(this,e)}:function(t,a,r){var o=!!r;return!a&&(t=this._normalizeData(t)),r=l(t,e.parsedVisual,r),o?r:u(r,"rgba")},this)},_normalizedToVisual:{linear:function(e){return u(l(e,this.option.parsedVisual),"rgba")},category:Je,piecewise:function(e,t){var a=Qe.call(this,t);return null==a&&(a=u(l(e,this.option.parsedVisual),"rgba")),a},fixed:Ke}},colorHue:Xe((function(e,t){return p(e,t)})),colorSaturation:Xe((function(e,t){return p(e,null,t)})),colorLightness:Xe((function(e,t){return p(e,null,null,t)})),colorAlpha:Xe((function(e,t){return v(e,t)})),decal:{applyVisual:$e("decal"),_normalizedToVisual:{linear:null,category:Je,piecewise:null,fixed:null}},opacity:{applyVisual:$e("opacity"),_normalizedToVisual:Ue([0,1])},liftZ:{applyVisual:$e("liftZ"),_normalizedToVisual:{linear:Ke,category:Ke,piecewise:Ke,fixed:Ke}},symbol:{applyVisual:function(e,t,a){a("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:qe,category:Je,piecewise:function(e,t){var a=Qe.call(this,t);return null==a&&(a=qe.call(this,e)),a},fixed:Ke}},symbolSize:{applyVisual:$e("symbolSize"),_normalizedToVisual:Ue([0,1])}},d}();function We(e,t){var a=e.visual,r=[];o(a)?Fe(a,(function(e){r.push(e)})):null!=a&&r.push(a);t||1!==r.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(r[1]=r[0]),et(e,r)}function Xe(e){return{applyVisual:function(t,a,r){var o=this.mapValueToVisual(t);r("color",e(a("color"),o))},_normalizedToVisual:Ue([0,1])}}function qe(e){var t=this.option.visual;return t[Math.round(d(e,[0,1],[0,t.length-1],!0))]||{}}function $e(e){return function(t,a,r){r(e,this.mapValueToVisual(t))}}function Je(e){var t=this.option.visual;return t[this.option.loop&&e!==He?e%t.length:e]}function Ke(){return this.option.visual[0]}function Ue(e){return{linear:function(t){return d(t,e,this.option.visual,!0)},category:Je,piecewise:function(t,a){var r=Qe.call(this,a);return null==r&&(r=d(t,e,this.option.visual,!0)),r},fixed:Ke}}function Qe(e){var t=this.option,a=t.pieceList;if(t.hasSpecialVisual){var r=a[je.findPieceIndex(e,a)];if(r&&r.visual)return r.visual[this.type]}}function et(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=h(t,(function(e){return c(e)||[0,0,0,1]}))),t}var tt={linear:function(e){return d(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,a=je.findPieceIndex(e,t,!0);if(null!=a)return d(a,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?He:t},fixed:g};function at(e,t,a){return e?t<=a:t<a}var rt=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return y(t,e),t.type="dataZoom.inside",t.defaultOption=f(ce.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(ce),ot=m();function nt(e,t){if(t){e.removeKey(t.model.uid);var a=t.controller;a&&a.dispose()}}function it(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function st(e,t,a,r){return e.coordinateSystem.containPoint([a,r])}function lt(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,(function(e,t){var a=ot(t),r=a.coordSysRecordMap||(a.coordSysRecordMap=x());r.each((function(e){e.dataZoomInfoMap=null})),e.eachComponent({mainType:"dataZoom",subType:"inside"},(function(e){var a=ge(e);n(a.infoList,(function(a){var o=a.model.uid,i=r.get(o)||r.set(o,function(e,t){var a={model:t,containsPoint:_(st,t),dispatchAction:_(it,e),dataZoomInfoMap:null,controller:null},r=a.controller=new be(e.getZr());return n(["pan","zoom","scrollMove"],(function(e){r.on(e,(function(t){var r=[];a.dataZoomInfoMap.each((function(o){if(t.isAvailableBehavior(o.model.option)){var n=(o.getRange||{})[e],i=n&&n(o.dzReferCoordSysInfo,a.model.mainType,a.controller,t);!o.model.get("disabled",!0)&&i&&r.push({dataZoomId:o.model.id,start:i[0],end:i[1]})}})),r.length&&a.dispatchAction(r)}))})),a}(t,a.model));(i.dataZoomInfoMap||(i.dataZoomInfoMap=x())).set(e.uid,{dzReferCoordSysInfo:a,model:e,getRange:null})}))})),r.each((function(e){var t,a=e.controller,o=e.dataZoomInfoMap;if(o){var n=o.keys()[0];null!=n&&(t=o.get(n))}if(t){var i=function(e){var t,a="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return e.each((function(e){var n=e.model,i=!n.get("disabled",!0)&&(!n.get("zoomLock",!0)||"move");r[a+i]>r[a+t]&&(t=i),o=o&&n.get("preventDefaultMouseMove",!0)})),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o}}}(o);a.enable(i.controlType,i.opt),a.setPointerChecker(e.containsPoint),b(e,"dispatchAction",t.model.get("throttle",!0),"fixRate")}else nt(r,e)}))}))}var ut=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return y(t,e),t.prototype.render=function(t,r,o){e.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),function(e,t,a){ot(e).coordSysRecordMap.each((function(e){var r=e.dataZoomInfoMap.get(t.uid);r&&(r.getRange=a)}))}(o,t,{pan:a(dt.pan,this),zoom:a(dt.zoom,this),scrollMove:a(dt.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){!function(e,t){for(var a=ot(e).coordSysRecordMap,r=a.keys(),o=0;o<r.length;o++){var n=r[o],i=a.get(n),s=i.dataZoomInfoMap;if(s){var l=t.uid;s.get(l)&&(s.removeKey(l),s.keys().length||nt(a,i))}}}(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(pe),dt={zoom:function(e,t,a,r){var o=this.range,n=o.slice(),i=e.axisModels[0];if(i){var s=ct[t](null,[r.originX,r.originY],i,a,e),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(n[1]-n[0])+n[0],u=Math.max(1/r.scale,0);n[0]=(n[0]-l)*u+l,n[1]=(n[1]-l)*u+l;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return ve(0,n,[0,100],0,d.minSpan,d.maxSpan),this.range=n,o[0]!==n[0]||o[1]!==n[1]?n:void 0}},pan:ht((function(e,t,a,r,o,n){var i=ct[r]([n.oldX,n.oldY],[n.newX,n.newY],t,o,a);return i.signal*(e[1]-e[0])*i.pixel/i.pixelLength})),scrollMove:ht((function(e,t,a,r,o,n){return ct[r]([0,0],[n.scrollDelta,n.scrollDelta],t,o,a).signal*(e[1]-e[0])*n.scrollDelta}))};function ht(e){return function(t,a,r,o){var n=this.range,i=n.slice(),s=t.axisModels[0];if(s){var l=e(i,s,t,a,r,o);return ve(l,i,[0,100],"all"),this.range=i,n[0]!==i[0]||n[1]!==i[1]?i:void 0}}}var ct={grid:function(e,t,a,r,o){var n=a.axis,i={},s=o.model.coordinateSystem.getRect();return e=e||[0,0],"x"===n.dim?(i.pixel=t[0]-e[0],i.pixelLength=s.width,i.pixelStart=s.x,i.signal=n.inverse?1:-1):(i.pixel=t[1]-e[1],i.pixelLength=s.height,i.pixelStart=s.y,i.signal=n.inverse?-1:1),i},polar:function(e,t,a,r,o){var n=a.axis,i={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),"radiusAxis"===a.mainType?(i.pixel=t[0]-e[0],i.pixelLength=l[1]-l[0],i.pixelStart=l[0],i.signal=n.inverse?1:-1):(i.pixel=t[1]-e[1],i.pixelLength=u[1]-u[0],i.pixelStart=u[0],i.signal=n.inverse?-1:1),i},singleAxis:function(e,t,a,r,o){var n=a.axis,i=o.model.coordinateSystem.getRect(),s={};return e=e||[0,0],"horizontal"===n.orient?(s.pixel=t[0]-e[0],s.pixelLength=i.width,s.pixelStart=i.x,s.signal=n.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=i.height,s.pixelStart=i.y,s.signal=n.inverse?-1:1),s}};function gt(e){ye(e),e.registerComponentModel(rt),e.registerComponentView(ut),lt(e)}var pt=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return y(t,e),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=f(ce.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(ce),vt=C,yt="horizontal",ft="vertical",mt=["line","bar","candlestick","scatter"],xt={easing:"cubicOut",duration:100,delay:0},bt=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._displayables={},a}return y(t,e),t.prototype.init=function(e,t){this.api=t,this._onBrush=a(this._onBrush,this),this._onBrushEnd=a(this._onBrushEnd,this)},t.prototype.render=function(t,a,r,o){if(e.prototype.render.apply(this,arguments),b(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show")){if(t.noTarget())return this._clear(),void this.group.removeAll();o&&"dataZoom"===o.type&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){w(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var t=this._displayables.sliderGroup=new S;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,t=this.api,a=e.get("brushSelect")?7:0,r=this._findCoordRect(),o={width:t.getWidth(),height:t.getHeight()},i=this._orient===yt?{right:o.width-r.x-r.width,top:o.height-30-7-a,width:r.width,height:30}:{right:7,top:r.y,width:30,height:r.height},s=E(e.option);n(["right","top","width","height"],(function(e){"ph"===s[e]&&(s[e]=i[e])}));var l=M(s,o);this._location={x:l.x,y:l.y},this._size=[l.width,l.height],this._orient===ft&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,t=this._location,a=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),o=r&&r.get("inverse"),n=this._displayables.sliderGroup,i=(this._dataShadowInfo||{}).otherAxisInverse;n.attr(a!==yt||o?a===yt&&o?{scaleY:i?1:-1,scaleX:-1}:a!==ft||o?{scaleY:i?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:i?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:i?1:-1,scaleX:1});var s=e.getBoundingRect([n]);e.x=t.x-s.x,e.y=t.y-s.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,t=this._size,r=this._displayables.sliderGroup,o=e.get("brushSelect");r.add(new vt({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var n=new vt({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:a(this._onClickPanel,this)}),i=this.api.getZr();o?(n.on("mousedown",this._onBrushStart,this),n.cursor="crosshair",i.on("mousemove",this._onBrush),i.on("mouseup",this._onBrushEnd)):(i.off("mousemove",this._onBrush),i.off("mouseup",this._onBrushEnd)),r.add(n)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var t=this._size,a=this._shadowSize||[],r=e.series,o=r.getRawData(),n=r.getShadowDim&&r.getShadowDim(),i=n&&o.getDimensionInfo(n)?r.getShadowDim():e.otherDim;if(null!=i){var s=this._shadowPolygonPts,l=this._shadowPolylinePts;if(o!==this._shadowData||i!==this._shadowDim||t[0]!==a[0]||t[1]!==a[1]){var u=o.getDataExtent(i),h=.3*(u[1]-u[0]);u=[u[0]-h,u[1]+h];var c,g=[0,t[1]],p=[0,t[0]],v=[[t[0],0],[0,0]],y=[],f=p[1]/(o.count()-1),m=0,x=Math.round(o.count()/t[0]);o.each([i],(function(e,t){if(x>0&&t%x)m+=f;else{var a=null==e||isNaN(e)||""===e,r=a?0:d(e,u,g,!0);a&&!c&&t?(v.push([v[v.length-1][0],0]),y.push([y[y.length-1][0],0])):!a&&c&&(v.push([m,0]),y.push([m,0])),v.push([m,r]),y.push([m,r]),m+=f,c=a}})),s=this._shadowPolygonPts=v,l=this._shadowPolylinePts=y}this._shadowData=o,this._shadowDim=i,this._shadowSize=[t[0],t[1]];for(var b,_,w,E,M,D=this.dataZoomModel,L=0;L<3;L++){var I=(b=1===L,_=void 0,w=void 0,E=void 0,M=void 0,_=D.getModel(b?"selectedDataBackground":"dataBackground"),w=new S,E=new O({shape:{points:s},segmentIgnoreThreshold:1,style:_.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),M=new F({shape:{points:l},segmentIgnoreThreshold:1,style:_.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),w.add(E),w.add(M),w);this._displayables.sliderGroup.add(I),this._displayables.dataShadowSegs.push(I)}}}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var a,r=this.ecModel;return e.eachTargetAxis((function(o,i){var s=e.getAxisProxy(o,i).getTargetSeriesModels();n(s,(function(e){if(!(a||!0!==t&&D(mt,e.get("type"))<0)){var n,s=r.getComponent(fe(o),i).axis,l={x:"y",y:"x",radius:"angle",angle:"radius"}[o],u=e.coordinateSystem;null!=l&&u.getOtherAxis&&(n=u.getOtherAxis(s).inverse),l=e.getData().mapDimension(l),a={thisAxis:s,series:e,thisDim:o,otherDim:l,otherAxisInverse:n}}}),this)}),this),a}},t.prototype._renderHandle=function(){var e=this.group,t=this._displayables,r=t.handles=[null,null],o=t.handleLabels=[null,null],i=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,d=l.get("borderRadius")||0,h=l.get("brushSelect"),c=t.filler=new vt({silent:h,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});i.add(c),i.add(new vt({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:d},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),n([0,1],(function(t){var n=l.get("handleIcon");!L[n]&&n.indexOf("path://")<0&&n.indexOf("image://")<0&&(n="path://"+n);var s=I(n,-1,0,2,2,null,!0);s.attr({cursor:_t(this._orient),draggable:!0,drift:a(this._onDragMove,this,t),ondragend:a(this._onDragEnd,this),onmouseover:a(this._showDataInfo,this,!0),onmouseout:a(this._showDataInfo,this,!1),z2:5});var u=s.getBoundingRect(),d=l.get("handleSize");this._handleHeight=z(d,this._size[1]),this._handleWidth=u.width/u.height*this._handleHeight,s.setStyle(l.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),V(s);var h=l.get("handleColor");null!=h&&(s.style.fill=h),i.add(r[t]=s);var c=l.getModel("textStyle"),g=(l.get("handleLabel")||{}).show||!1;e.add(o[t]=new B({silent:!0,invisible:!g,style:A(c,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:c.getTextColor(),font:c.getFont()}),z2:10}))}),this);var g=c;if(h){var p=z(l.get("moveHandleSize"),s[1]),v=t.moveHandle=new C({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:p}}),y=.8*p,f=t.moveHandleIcon=I(l.get("moveHandleIcon"),-y/2,-y/2,y,y,"#fff",!0);f.silent=!0,f.y=s[1]+p/2-.5,v.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(s[1]/2,Math.max(p,10));(g=t.moveZone=new C({invisible:!0,shape:{y:s[1]-m,height:p+m}})).on("mouseover",(function(){u.enterEmphasis(v)})).on("mouseout",(function(){u.leaveEmphasis(v)})),i.add(v),i.add(f),i.add(g)}g.attr({draggable:!0,cursor:_t(this._orient),drift:a(this._onDragMove,this,"all"),ondragstart:a(this._showDataInfo,this,!0),ondragend:a(this._onDragEnd,this),onmouseover:a(this._showDataInfo,this,!0),onmouseout:a(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[d(e[0],[0,100],t,!0),d(e[1],[0,100],t,!0)]},t.prototype._updateInterval=function(e,t){var a=this.dataZoomModel,r=this._handleEnds,o=this._getViewExtent(),n=a.findRepresentativeAxisProxy().getMinMaxSpan(),i=[0,100];ve(t,r,o,a.get("zoomLock")?"all":e,null!=n.minSpan?d(n.minSpan,i,o,!0):null,null!=n.maxSpan?d(n.maxSpan,i,o,!0):null);var s=this._range,l=this._range=T([d(r[0],o,i,!0),d(r[1],o,i,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},t.prototype._updateView=function(e){var t=this._displayables,a=this._handleEnds,r=T(a.slice()),o=this._size;n([0,1],(function(e){var r=t.handles[e],n=this._handleHeight;r.attr({scaleX:n/2,scaleY:n/2,x:a[e]+(e?-1:1),y:o[1]/2-n/2})}),this),t.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:o[1]});var i={x:r[0],width:r[1]-r[0]};t.moveHandle&&(t.moveHandle.setShape(i),t.moveZone.setShape(i),t.moveZone.getBoundingRect(),t.moveHandleIcon&&t.moveHandleIcon.attr("x",i.x+i.width/2));for(var s=t.dataShadowSegs,l=[0,r[0],r[1],o[0]],u=0;u<s.length;u++){var d=s[u],h=d.getClipPath();h||(h=new C,d.setClipPath(h)),h.setShape({x:l[u],y:0,width:l[u+1]-l[u],height:o[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var t=this.dataZoomModel,a=this._displayables,r=a.handleLabels,o=this._orient,n=["",""];if(t.get("showDetail")){var i=t.findRepresentativeAxisProxy();if(i){var s=i.getAxisModel().axis,l=this._range,u=e?i.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:i.getDataValueWindow();n=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var d=T(this._handleEnds.slice());function h(e){var t=k(a.handles[e].parent,this.group),i=P(0===e?"right":"left",t),s=this._handleWidth/2+5,l=Y([d[e]+(0===e?-s:s),this._size[1]/2],t);r[e].setStyle({x:l[0],y:l[1],verticalAlign:o===yt?"middle":i,align:o===yt?i:"center",text:n[e]})}h.call(this,0),h.call(this,1)},t.prototype._formatLabel=function(e,t){var a=this.dataZoomModel,r=a.get("labelFormatter"),o=a.get("labelPrecision");null!=o&&"auto"!==o||(o=t.getPixelPrecision());var n=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(o,20));return Z(r)?r(e,n):s(r)?r.replace("{value}",n):n},t.prototype._showDataInfo=function(e){var t=(this.dataZoomModel.get("handleLabel")||{}).show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]).get("show")||!1,r=e||this._dragging?a:t,o=this._displayables,n=o.handleLabels;n[0].attr("invisible",!r),n[1].attr("invisible",!r),o.moveHandle&&this.api[r?"enterEmphasis":"leaveEmphasis"](o.moveHandle,1)},t.prototype._onDragMove=function(e,t,a,r){this._dragging=!0,N(r.event);var o=this._displayables.sliderGroup.getLocalTransform(),n=Y([t,a],o,!0),i=this._updateInterval(e,n[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),i&&s&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var t=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(a[0]<0||a[0]>t[0]||a[1]<0||a[1]>t[1])){var r=this._handleEnds,o=(r[0]+r[1])/2,n=this._updateInterval("all",a[0]-o);this._updateView(),n&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var t=e.offsetX,a=e.offsetY;this._brushStart=new R(t,a),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var t=this._displayables.brushRect;if(this._brushing=!1,t){t.attr("ignore",!0);var a=t.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(a.width)<5)){var r=this._getViewExtent(),o=[0,100];this._range=T([d(a.x,r,o,!0),d(a.x+a.width,r,o,!0)]),this._handleEnds=[a.x,a.x+a.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(N(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,t){var a=this._displayables,r=this.dataZoomModel,o=a.brushRect;o||(o=a.brushRect=new vt({silent:!0,style:r.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(o)),o.attr("ignore",!1);var n=this._brushStart,i=this._displayables.sliderGroup,s=i.transformCoordToLocal(e,t),l=i.transformCoordToLocal(n.x,n.y),u=this._size;s[0]=Math.max(Math.min(u[0],s[0]),0),o.setShape({x:l[0],y:0,width:s[0]-l[0],height:u[1]})},t.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?xt:null,start:t[0],end:t[1]})},t.prototype._findCoordRect=function(){var e,t=ge(this.dataZoomModel).infoList;if(!e&&t.length){var a=t[0].model.coordinateSystem;e=a.getRect&&a.getRect()}if(!e){var r=this.api.getWidth(),o=this.api.getHeight();e={x:.2*r,y:.2*o,width:.6*r,height:.6*o}}return e},t.type="dataZoom.slider",t}(pe);function _t(e){return"vertical"===e?"ns-resize":"ew-resize"}function wt(e){e.registerComponentModel(pt),e.registerComponentView(bt),ye(e)}function St(e){G(gt),G(wt)}var Et=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}}(),Mt=function(e){function t(t){return e.call(this,t)||this}return y(t,e),t.prototype.getDefaultShape=function(){return new Et},t.prototype.buildPath=function(e,t){var a=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+a,t.y2),e.bezierCurveTo(t.cpx2+a,t.cpy2,t.cpx1+a,t.cpy1,t.x1+a,t.y1)):(e.lineTo(t.x2,t.y2+a),e.bezierCurveTo(t.cpx2,t.cpy2+a,t.cpx1,t.cpy1+a,t.x1,t.y1+a)),e.closePath()},t.prototype.highlight=function(){H(this)},t.prototype.downplay=function(){j(this)},t}(W),Dt=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._focusAdjacencyDisabled=!1,a}return y(t,e),t.prototype.render=function(e,t,a){var r=this,o=e.getGraph(),n=this.group,i=e.layoutInfo,s=i.width,l=i.height,u=e.getData(),d=e.getData("edge"),h=e.get("orient");this._model=e,n.removeAll(),n.x=i.x,n.y=i.y,o.eachEdge((function(t){var a=new Mt,r=X(a);r.dataIndex=t.dataIndex,r.seriesIndex=e.seriesIndex,r.dataType="edge";var o,i,u,c,g,p,v,y,f=t.getModel(),m=f.getModel("lineStyle"),x=m.get("curveness"),b=t.node1.getLayout(),_=t.node1.getModel(),w=_.get("localX"),S=_.get("localY"),E=t.node2.getLayout(),M=t.node2.getModel(),D=M.get("localX"),L=M.get("localY"),I=t.getLayout();a.shape.extent=Math.max(1,I.dy),a.shape.orient=h,"vertical"===h?(o=(null!=w?w*s:b.x)+I.sy,i=(null!=S?S*l:b.y)+b.dy,u=(null!=D?D*s:E.x)+I.ty,g=o,p=i*(1-x)+(c=null!=L?L*l:E.y)*x,v=u,y=i*x+c*(1-x)):(o=(null!=w?w*s:b.x)+b.dx,i=(null!=S?S*l:b.y)+I.sy,g=o*(1-x)+(u=null!=D?D*s:E.x)*x,p=i,v=o*x+u*(1-x),y=c=(null!=L?L*l:E.y)+I.ty),a.setShape({x1:o,y1:i,x2:u,y2:c,cpx1:g,cpy1:p,cpx2:v,cpy2:y}),a.useStyle(m.getItemStyle()),Lt(a.style,h,t);var z=""+f.get("value"),V=q(f,"edgeLabel");$(a,V,{labelFetcher:{getFormattedLabel:function(t,a,r,o,n,i){return e.getFormattedLabel(t,a,"edge",o,J(n,V.normal&&V.normal.get("formatter"),z),i)}},labelDataIndex:t.dataIndex,defaultText:z}),a.setTextConfig({position:"inside"});var B=f.getModel("emphasis");K(a,f,"lineStyle",(function(e){var a=e.getItemStyle();return Lt(a,h,t),a})),n.add(a),d.setItemGraphicEl(t.dataIndex,a);var A=B.get("focus");U(a,"adjacency"===A?t.getAdjacentDataIndices():"trajectory"===A?t.getTrajectoryDataIndices():A,B.get("blurScope"),B.get("disabled"))})),o.eachNode((function(t){var a=t.getLayout(),r=t.getModel(),o=r.get("localX"),i=r.get("localY"),d=r.getModel("emphasis"),h=r.get(["itemStyle","borderRadius"])||0,c=new C({shape:{x:null!=o?o*s:a.x,y:null!=i?i*l:a.y,width:a.dx,height:a.dy,r:h},style:r.getModel("itemStyle").getItemStyle(),z2:10});$(c,q(r),{labelFetcher:{getFormattedLabel:function(t,a){return e.getFormattedLabel(t,a,"node")}},labelDataIndex:t.dataIndex,defaultText:t.id}),c.disableLabelAnimation=!0,c.setStyle("fill",t.getVisual("color")),c.setStyle("decal",t.getVisual("style").decal),K(c,r),n.add(c),u.setItemGraphicEl(t.dataIndex,c),X(c).dataType="node";var g=d.get("focus");U(c,"adjacency"===g?t.getAdjacentDataIndices():"trajectory"===g?t.getTrajectoryDataIndices():g,d.get("blurScope"),d.get("disabled"))})),u.eachItemGraphicEl((function(t,o){u.getItemModel(o).get("draggable")&&(t.drift=function(t,n){r._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=n,this.dirty(),a.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:u.getRawIndex(o),localX:this.shape.x/s,localY:this.shape.y/l})},t.ondragend=function(){r._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")})),!this._data&&e.isAnimationEnabled()&&n.setClipPath(function(e,t,a){var r=new C({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return te(r,{shape:{width:e.width+20}},t,a),r}(n.getBoundingRect(),e,(function(){n.removeClipPath()}))),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(Q);function Lt(e,t,a){switch(e.fill){case"source":e.fill=a.node1.getVisual("color"),e.decal=a.node1.getVisual("style").decal;break;case"target":e.fill=a.node2.getVisual("color"),e.decal=a.node2.getVisual("style").decal;break;case"gradient":var r=a.node1.getVisual("color"),o=a.node2.getVisual("color");s(r)&&s(o)&&(e.fill=new ee(0,0,+("horizontal"===t),+("vertical"===t),[{color:r,offset:0},{color:o,offset:1}]))}}var It=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return y(t,e),t.prototype.getInitialData=function(e,t){var a=e.edges||e.links||[],r=e.data||e.nodes||[],o=e.levels||[];this.levelModels=[];for(var n=this.levelModels,i=0;i<o.length;i++)null!=o[i].depth&&o[i].depth>=0&&(n[o[i].depth]=new ae(o[i],this,t));return _e(r,a,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e,t){var a=e.parentModel,r=a.getData().getItemLayout(t);if(r){var o=r.depth,n=a.levelModels[o];n&&(e.parentModel=n)}return e})),t.wrapMethod("getItemModel",(function(e,t){var a=e.parentModel,r=a.getGraph().getEdgeByIndex(t).node1.getLayout();if(r){var o=r.depth,n=a.levelModels[o];n&&(e.parentModel=n)}return e}))})).data},t.prototype.setNodePosition=function(e,t){var a=(this.option.data||this.option.nodes)[e];a.localX=t[0],a.localY=t[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,a){function r(e){return isNaN(e)||null==e}if("edge"===a){var o=this.getDataParams(e,a),n=o.data,i=o.value,s=n.source+" -- "+n.target;return re("nameValue",{name:s,value:i,noValue:r(i)})}var l=this.getGraph().getNodeByIndex(e).getLayout().value,u=this.getDataParams(e,a).data.name;return re("nameValue",{name:null!=u?u+"":null,value:l,noValue:r(l)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(t,a){var r=e.prototype.getDataParams.call(this,t,a);if(null==r.value&&"node"===a){var o=this.getGraph().getNodeByIndex(t).getLayout().value;r.value=o}return r},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(oe);function zt(e,t){e.eachSeriesByType("sankey",(function(e){var a=e.get("nodeWidth"),r=e.get("nodeGap"),o=function(e,t){return M(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=o;var i=o.width,s=o.height,l=e.getGraph(),u=l.nodes,d=l.edges;!function(e){n(e,(function(e){var t=Nt(e.outEdges,Zt),a=Nt(e.inEdges,Zt),r=e.getValue()||0,o=Math.max(t,a,r);e.setLayout({value:o},!0)}))}(u),function(e,t,a,r,o,i,s,l,u){(function(e,t,a,r,o,i,s){for(var l=[],u=[],d=[],h=[],c=0,g=0;g<t.length;g++)l[g]=1;for(g=0;g<e.length;g++)u[g]=e[g].inEdges.length,0===u[g]&&d.push(e[g]);var p=-1;for(;d.length;){for(var v=0;v<d.length;v++){var y=d[v],f=y.hostGraph.data.getRawDataItem(y.dataIndex),m=null!=f.depth&&f.depth>=0;m&&f.depth>p&&(p=f.depth),y.setLayout({depth:m?f.depth:c},!0),"vertical"===i?y.setLayout({dy:a},!0):y.setLayout({dx:a},!0);for(var x=0;x<y.outEdges.length;x++){var b=y.outEdges[x];l[t.indexOf(b)]=0;var _=b.node2;0==--u[e.indexOf(_)]&&h.indexOf(_)<0&&h.push(_)}}++c,d=h,h=[]}for(g=0;g<l.length;g++)if(1===l[g])throw new Error("Sankey is a DAG, the original data has cycle!");var w=p>c-1?p:c-1;s&&"left"!==s&&function(e,t,a,r){if("right"===t){for(var o=[],i=e,s=0;i.length;){for(var l=0;l<i.length;l++){var u=i[l];u.setLayout({skNodeHeight:s},!0);for(var d=0;d<u.inEdges.length;d++){var h=u.inEdges[d];o.indexOf(h.node1)<0&&o.push(h.node1)}}i=o,o=[],++s}n(e,(function(e){Vt(e)||e.setLayout({depth:Math.max(0,r-e.getLayout().skNodeHeight)},!0)}))}else"justify"===t&&function(e,t){n(e,(function(e){Vt(e)||e.outEdges.length||e.setLayout({depth:t},!0)}))}(e,r)}(e,s,0,w);var S="vertical"===i?(o-a)/w:(r-a)/w;!function(e,t,a){n(e,(function(e){var r=e.getLayout().depth*t;"vertical"===a?e.setLayout({y:r},!0):e.setLayout({x:r},!0)}))}(e,S,i)})(e,t,a,o,i,l,u),function(e,t,a,r,o,i,s){var l=function(e,t){var a=[],r="vertical"===t?"y":"x",o=ie(e,(function(e){return e.getLayout()[r]}));return o.keys.sort((function(e,t){return e-t})),n(o.keys,(function(e){a.push(o.buckets.get(e))})),a}(e,s);(function(e,t,a,r,o,i){var s=1/0;n(e,(function(e){var t=e.length,l=0;n(e,(function(e){l+=e.getLayout().value}));var u="vertical"===i?(r-(t-1)*o)/l:(a-(t-1)*o)/l;u<s&&(s=u)})),n(e,(function(e){n(e,(function(e,t){var a=e.getLayout().value*s;"vertical"===i?(e.setLayout({x:t},!0),e.setLayout({dx:a},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:a},!0))}))})),n(t,(function(e){var t=+e.getValue()*s;e.setLayout({dy:t},!0)}))})(l,t,a,r,o,s),Bt(l,o,a,r,s);for(var u=1;i>0;i--)At(l,u*=.99,s),Bt(l,o,a,r,s),Rt(l,u,s),Bt(l,o,a,r,s)}(e,t,i,o,r,s,l),function(e,t){var a="vertical"===t?"x":"y";n(e,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[a]-t.node2.getLayout()[a]})),e.inEdges.sort((function(e,t){return e.node1.getLayout()[a]-t.node1.getLayout()[a]}))})),n(e,(function(e){var t=0,a=0;n(e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),n(e.inEdges,(function(e){e.setLayout({ty:a},!0),a+=e.getLayout().dy}))}))}(e,l)}(u,d,a,r,i,s,0!==ne(u,(function(e){return 0===e.getLayout().value})).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))}))}function Vt(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function Bt(e,t,a,r,o){var i="vertical"===o?"x":"y";n(e,(function(e){var n,s,l;e.sort((function(e,t){return e.getLayout()[i]-t.getLayout()[i]}));for(var u=0,d=e.length,h="vertical"===o?"dx":"dy",c=0;c<d;c++)(l=u-(s=e[c]).getLayout()[i])>0&&(n=s.getLayout()[i]+l,"vertical"===o?s.setLayout({x:n},!0):s.setLayout({y:n},!0)),u=s.getLayout()[i]+s.getLayout()[h]+t;if((l=u-t-("vertical"===o?r:a))>0){n=s.getLayout()[i]-l,"vertical"===o?s.setLayout({x:n},!0):s.setLayout({y:n},!0),u=n;for(c=d-2;c>=0;--c)(l=(s=e[c]).getLayout()[i]+s.getLayout()[h]+t-u)>0&&(n=s.getLayout()[i]-l,"vertical"===o?s.setLayout({x:n},!0):s.setLayout({y:n},!0)),u=s.getLayout()[i]}}))}function At(e,t,a){n(e.slice().reverse(),(function(e){n(e,(function(e){if(e.outEdges.length){var r=Nt(e.outEdges,Ct,a)/Nt(e.outEdges,Zt);if(isNaN(r)){var o=e.outEdges.length;r=o?Nt(e.outEdges,Tt,a)/o:0}if("vertical"===a){var n=e.getLayout().x+(r-Yt(e,a))*t;e.setLayout({x:n},!0)}else{var i=e.getLayout().y+(r-Yt(e,a))*t;e.setLayout({y:i},!0)}}}))}))}function Ct(e,t){return Yt(e.node2,t)*e.getValue()}function Tt(e,t){return Yt(e.node2,t)}function kt(e,t){return Yt(e.node1,t)*e.getValue()}function Pt(e,t){return Yt(e.node1,t)}function Yt(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function Zt(e){return e.getValue()}function Nt(e,t,a){for(var r=0,o=e.length,n=-1;++n<o;){var i=+t(e[n],a);isNaN(i)||(r+=i)}return r}function Rt(e,t,a){n(e,(function(e){n(e,(function(e){if(e.inEdges.length){var r=Nt(e.inEdges,kt,a)/Nt(e.inEdges,Zt);if(isNaN(r)){var o=e.inEdges.length;r=o?Nt(e.inEdges,Pt,a)/o:0}if("vertical"===a){var n=e.getLayout().x+(r-Yt(e,a))*t;e.setLayout({x:n},!0)}else{var i=e.getLayout().y+(r-Yt(e,a))*t;e.setLayout({y:i},!0)}}}))}))}function Ot(e){e.eachSeriesByType("sankey",(function(e){var t=e.getGraph(),a=t.nodes,r=t.edges;if(a.length){var o=1/0,i=-1/0;n(a,(function(e){var t=e.getLayout().value;t<o&&(o=t),t>i&&(i=t)})),n(a,(function(t){var a=new je({type:"color",mappingMethod:"linear",dataExtent:[o,i],visual:e.get("color")}).mapValueToVisual(t.getLayout().value),r=t.getModel().get(["itemStyle","color"]);null!=r?(t.setVisual("color",r),t.setVisual("style",{fill:r})):(t.setVisual("color",a),t.setVisual("style",{fill:a}))}))}r.length&&n(r,(function(e){var t=e.getModel().get("lineStyle");e.setVisual("style",t)}))}))}function Ft(e){e.registerChartView(Dt),e.registerSeriesModel(It),e.registerLayout(zt),e.registerVisual(Ot),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}))}const Gt={id:"region-bar"},Ht=Se({__name:"ReigonBarComp",props:{info:{type:Array,required:!0},id:{type:Number,required:!0},regionName:{type:Array,required:!0},regionValue:{type:Array,required:!0}},setup(e){G([Ze,Ne,se,le,St,Re]);const t=e,a=Ee(),r=()=>{a.value&&a.value.dispose();var e=document.getElementById("region-bar");e.style.width="100%",e.style.height="40vh";let r=JSON.parse(JSON.stringify(ue));var o;de("vintage",r),a.value=he(e,"vintage"),(o={title:{text:"诗人籍贯地域分布",left:"center",textStyle:{fontFamily:"TitleFont",fontSize:25}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"width: 210px; white-space: pre-wrap;",formatter:e=>{const a=e[0].dataIndex;return`<strong>${e[0].name}</strong>：${t.info[a]}`},textStyle:{fontFamily:"ContentFont",fontSize:16}},xAxis:{type:"category",data:t.regionName,axisLabel:{show:!0,fontFamily:"ContentFont",fontSize:16}},yAxis:{type:"value",axisLabel:{show:!0,fontFamily:"ContentFont",fontSize:16}},dataZoom:[{type:"inside",disabled:!0}],series:[{data:t.regionValue,type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]})&&a.value.setOption(o,{notMerge:!0})};return Me((()=>[t.id,t.regionName,t.regionValue]),r,{deep:!0}),De((async()=>{await Le(),r()})),(e,t)=>(Ie(),ze("div",Gt))}}),jt={id:"sankey"},Wt=Se({__name:"PoetSanKeyComp",props:{nodes:{type:Array,required:!0,default:()=>[]},links:{type:Array,required:!0,default:()=>[]}},setup(e){G([Re,le,Ft,se]);const t=e,a=Ee(),r=()=>{a.value&&a.value.dispose();var e=document.getElementById("sankey");e.style.width="100%",e.style.height="42vh";let r=JSON.parse(JSON.stringify(ue));var o;de("vintage",r),a.value=he(e,"vintage"),(o={title:{text:"诗人情感派系桑基图",left:"center",textStyle:{fontFamily:"TitleFont",fontSize:25}},tooltip:{trigger:"item",triggerOn:"mousemove",textStyle:{fontFamily:"ContentFont",fontSize:18}},toolbox:{show:!0,feature:{restore:{title:"重置"}},orient:"horizontal",left:"right",top:"top"},label:{textBorderWidth:-100,fontFamily:"ContentFont",fontSize:20},series:[{type:"sankey",data:t.nodes,links:t.links,top:"10%",left:"13%",right:"13%",lineStyle:{curveness:.5,opacity:.07},emphasis:{disabled:!1,lineStyle:{opacity:.15}}}]})&&a.value.setOption(o,{notMerge:!0})};return Me((()=>[t.nodes]),r,{deep:!0}),De((async()=>{await Le(),r()})),(e,t)=>(Ie(),ze("div",jt))}});const Xt=[{"李白":"/Poetry_Visualization/assets/%E6%9D%8E%E7%99%BD-B-eWIqXD.png","杜甫":"/Poetry_Visualization/assets/%E6%9D%9C%E7%94%AB-3Nv6EyS1.png","储光羲":"/Poetry_Visualization/assets/%E5%82%A8%E5%85%89%E7%BE%B2-Ck1WI3iB.png","韦应物":"/Poetry_Visualization/assets/%E9%9F%A6%E5%BA%94%E7%89%A9-B1oxDMFE.png","卢照邻":"/Poetry_Visualization/assets/%E5%8D%A2%E7%85%A7%E9%82%BB-455nl6rT.png","孟浩然":"/Poetry_Visualization/assets/%E5%AD%9F%E6%B5%A9%E7%84%B6-DQbBSjZs.png","韩愈":"/Poetry_Visualization/assets/%E9%9F%A9%E6%84%88-DoFyIKit.png","白居易":"/Poetry_Visualization/assets/%E7%99%BD%E5%B1%85%E6%98%93-DHRsq3Vg.png","高适":"/Poetry_Visualization/assets/%E9%AB%98%E9%80%82-pWzUZFMs.png"}],qt={id:"relation-graph"},$t=Se({__name:"RelationGraphComp",props:{nodes:{type:Array,required:!0,default:()=>[]},links:{type:Array,required:!0,default:()=>[]},infos:{type:Object,required:!0},id:{type:Number,required:!0}},setup(e){G([me,le,xe,we,se,Oe,Re]);const t=e,a=Ee(),r=e=>new Promise((function(a){const r=document.createElement("canvas"),o=r.getContext("2d"),n=new Image;n.onload=function(){let e=n.width/2,t=n.height/2;var i=n.width;r.width=i,r.height=i,o.clearRect(0,0,i,i),o.save(),o.beginPath();var s=n.width/2;o.arc(s,s,s,0,2*Math.PI),o.clip(),o.drawImage(n,e-s,t-s,i,i,0,0,i,i),o.restore(),a(r.toDataURL("image/png",1))},n.src=Xt[t.id][e]})),o=e=>{var t=[];let o=e;for(var n=0;n<o.length;n++){var i=o[n],s=r(i.name);t.push(s)}Promise.all(t).then((function(e){for(var t=0;t<e.length;t++){var r="image://"+e[t];o[t].symbol=r}a.value.setOption({series:[{data:o}]})}))},n=()=>{a.value&&a.value.dispose();var e=document.getElementById("relation-graph");e.style.width="100%",e.style.height="100%";let r=JSON.parse(JSON.stringify(ue));de("vintage",r),a.value=he(e,"vintage");let n=((e,t)=>{let a=[];for(let r=0;r<e.length;r++){let o={id:e[r].name,name:e[r].name,category:e[r].community,symbolSize:e[r].symbolSize,gender:t[e[r].name].Gender,birth:t[e[r].name].YearBirth,death:t[e[r].name].YearDeath,address:t[e[r].name].Address,avatar:t[e[r].name].avatar,symbol:t[e[r].name].avatar,x:e[r].x,y:e[r].y};a.push(o)}return a})(t.nodes,t.infos),i=[],s=new Set;for(let t=0;t<n.length;t++)s.add(n[t].category);for(const t of s)i.push({name:t});var l;(l={tooltip:{textStyle:{fontFamily:"ContentFont",fontSize:18}},itemStyle:{borderWidth:2,shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)",shadowOffsetX:2,shadowOffsetY:2},toolbox:{show:!0,feature:{saveAsImage:{show:!0,title:"保存为png",type:"png"},restore:{title:"重置"}},orient:"horizontal",left:"right",top:"top"},title:{text:"诗人关系网络图",left:"center",textStyle:{fontFamily:"TitleFont",fontSize:25}},series:[{name:"Relation Graph",type:"graph",top:"18%",bottom:"15%",layout:"none",data:t.nodes.map((e=>({...e,symbol:`image://${e.avatar}`,symbolKeepAspect:!0,edgeSymbol:"circle"}))),links:t.links.map((e=>({...e,lineStyle:{color:e.color}}))),categories:i,roam:!0,edgeSymbol:["arrow","arrow"],edgeSymbolSize:6,label:{show:!0,position:"bottom",formatter:"{b}",fontFamily:"ContentFont",fontSize:16},draggable:!0,focusNodeAdjacency:!0,labelLayout:{hideOverlap:!0},scaleLimit:{min:.4,max:2},lineStyle:{color:function(e){var t;return(null==(t=e.data.lineStyle)?void 0:t.color)||"#4f8fa7"},curveness:.15,width:2,opacity:.8},tooltip:{formatter:function(e){return"node"===e.dataType?`\n                                        <strong>姓名：</strong>${e.data.name}<br/>\n                                        <strong>性别：</strong>${e.data.gender}<br/>\n                                        <strong>出生年份：</strong>${e.data.birth}<br/>\n                                        <strong>死亡年份：</strong>${e.data.death}<br/>\n                                        <strong>常驻地：</strong>${e.data.address}<br/>\n                                    `:"edge"===e.dataType?`${e.data.source} ↔︎ ${e.data.target}`:""}}}]})&&a.value.setOption(l,{notMerge:!0}),o(n),a.value.on("restore",(()=>{o(n)}))};return Me((()=>t.id),(()=>{n()})),De((()=>{n()})),(e,t)=>(Ie(),ze("div",qt))}}),Jt={"曲阿":4,"清河":10,"河南":22,"越州":7,"陜县":2,"嘉兴":7,"陆浑":2,"吴县":39,"冯翊":8,"朝邑":1,"湖州":14,"连州":7,"山阴":6,"盐亭":1,"洛阳":47,"唐县":1,"梁州":1,"定兴":4,"大兴":2,"华原":8,"山阳":4,"乐安":5,"万年":28,"棣州":1,"绵州":1,"高安":4,"成都":14,"庐江":2,"宜春":16,"下邳":1,"营道":2,"高要":1,"蜀":5,"金华":9,"分水":1,"曲江":2,"襄阳":10,"洪州":2,"黄岩":4,"芮城":1,"义乌":9,"延陵":5,"余杭":4,"固始":5,"岐山":1,"合江":1,"共城":1,"魏县":2,"兴平":1,"婺州":4,"祁门":1,"慈溪":2,"梓州":1,"元城":3,"信都":3,"河间":4,"东阳":7,"景城":1,"江宁":9,"长安":76,"彭城":13,"新淦":1,"泉州":2,"尉氏":4,"巩州":1,"闽县":13,"江南东路":1,"福清":4,"晋江":5,"上元":4,"崇安":1,"阳安":1,"上虞":2,"丹徒":7,"汝州":2,"武强":1,"符离":3,"袁州":8,"安福":3,"长兴":1,"云安":2,"开封":19,"侯官":7,"汶山":1,"江陵府":4,"庐陵":8,"考城":1,"南丰":2,"新吴":1,"桂阳":2,"晋陵":3,"龙游":2,"常州":8,"晋城":1,"舒州":2,"江阳":1,"湘乡":1,"竟陵":2,"长沙":7,"京兆府":21,"四川":2,"沛县":1,"江东":2,"信阳州":1,"蒲州":7,"海宁":2,"兖州":3,"临漳":3,"灵昌":5,"秋浦":2,"南海":2,"范阳":14,"浮梁":1,"江宁府":2,"蓝田":4,"滑州":2,"安邑":1,"徐州":4,"柳城":4,"郑州":2,"北海":2,"零陵":3,"括苍":1,"虞乡":2,"广平":3,"温县":2,"楚州":2,"汴州":3,"河东":21,"河中府":6,"缑氏":5,"河东道":1,"东平":3,"常熟":3,"明州":2,"濮阳":2,"新安":5,"瑞安":3,"会稽":13,"贵溪":1,"江西":1,"安固":1,"瓯宁":1,"长汀":2,"丽水":3,"临汾":1,"黄冈":1,"龙溪":2,"汝南":3,"即墨":1,"许州":2,"淮阴":1,"漳南":1,"鄱阳":3,"恭城":1,"江山":1,"陈留":1,"青阳":3,"龙泉":1,"须昌":1,"安西都护府":1,"萍乡":2,"晋阳":4,"晋昌":1,"归安":2,"吉阳":1,"钱塘":18,"睦州":3,"硖石":3,"武康":4,"桐城":3,"上邽":6,"高邮州":1,"曲阜":2,"郏城":1,"眉山":3,"贵平":1,"曹州府":1,"南康":2,"武水":1,"陈州":2,"武邑":1,"黟县":1,"奉化":5,"江南道":5,"连山":1,"长洲":2,"建安":4,"平昌":1,"寿春":3,"并州":2,"弘农":7,"福州":5,"西河":1,"天台":1,"南和":2,"南昌":7,"武功":3,"蓨县":5,"赵城":1,"乐寿":1,"海盐":1,"盐官":5,"新郑":4,"益都":3,"河南府":2,"安平":10,"博陵":3,"鄢陵":2,"井陉":2,"全节":3,"卫州":1,"广宗":1,"博州":2,"偃师":5,"荆州":3,"桐庐":3,"安喜":3,"贝州":1,"城固":1,"泾县":3,"莒县":1,"衡阳":1,"南阳":7,"全州":1,"新野":5,"虔化":3,"交州":1,"衡山":2,"池州":2,"方义":1,"阆中":3,"扬州":5,"唐兴":1,"永州":2,"余姚":4,"幽州":4,"陆泽":6,"光化":1,"昆山":2,"猗氏":5,"新喻":1,"昌乐":1,"宋城":4,"太原":7,"江都":5,"海陵":1,"顺昌":1,"仙居":3,"义丰":4,"莆田":20,"宁晋":1,"祁县":8,"神山":1,"金坛":4,"武进":5,"全椒":1,"磐石":2,"昌元":1,"蒲城":1,"崇德州":1,"德兴":1,"吉水":1,"观城":1,"历阳":1,"绵竹":2,"临海":4,"潍县":1,"沂州":1,"晋原":2,"连江":4,"乌江":1,"江阴":1,"华亭":1,"河内":2,"歙县":5,"宜兴":2,"汉阳":1,"上海":1,"巨野":2,"永康":2,"丹阳":7,"阳翟":1,"襄城":1,"泰兴":1,"平阳":4,"宁化":1,"广丰":1,"东海":1,"豫章":3,"镶蓝旗":1,"汉州":2,"南宫":2,"苏州":6,"浦江":1,"满洲正黄旗":1,"休宁":4,"乐平":1,"亳州":1,"浦城":2,"安岳":1,"安顺府":1,"桂州":5,"阳朔":1,"建州":2,"剑南道":1,"永城":1,"宝应":1,"广陵":2,"宁海":1,"秦州":1,"顺天府":1,"丹棱":2,"临城":3,"永泰":1,"赵州":6,"高邑":1,"须城":2,"姑臧":1,"临淄":2,"赞皇":3,"宣城":3,"镇远":1,"华阳":5,"溧阳":1,"成纪":5,"祁阳":2,"无锡":3,"武阳":1,"阳曲":3,"澧州":1,"西昌":1,"大庾":1,"陇西":6,"丰县":1,"南城":2,"乐昌":2,"柏仁":2,"临潭":1,"青田":1,"栾城":2,"光泽":2,"雍州":1,"文水":5,"谯县":2,"济阴":3,"荣阳":11,"楚丘":2,"安东都护府":1,"崇仁":2,"江夏":2,"兴化":1,"饶阳":1,"鄞县":7,"管城":3,"河阳":4,"阳武":5,"开封府":3,"兴化军":1,"任城":1,"怀安":1,"怀宁":1,"永兴":1,"济源":3,"炖煌":2,"庐州":1,"东阿":1,"关中":2,"茶陵":1,"洪雅":1,"临桂":1,"赵郡":1,"石首":2,"福昌":1,"湘潭":1,"泾阳":1,"南郑":1,"三原":6,"寿昌":1,"长清":1,"杜陵":8,"汲县":2,"新城":3,"洹水":2,"涿州":1,"荣泽":4,"天兴":2,"华阴":10,"益昌":1,"临川":4,"渤海都护府":2,"扶风":7,"陈仓":1,"潼关厅":1,"乐清":2,"富川":1,"解县":2,"嘉兴路":2,"易县":1,"晋州":1,"聊城":3,"西安":2,"句容":3,"顺德":1,"灵川":1,"分宜":1,"清江":1,"贵池":1,"安乡":1,"永新":1,"鄠县":1,"任邱":1,"高阳":2,"大名":1,"丰城":1,"正红旗":1,"旌德":1,"建阳":1,"常山":2,"歙州":2,"临汝":1,"内黄":1,"嘉定":1,"祥符":1,"舒城":1,"满洲镶黄旗":1,"漳浦":2,"湘南;南湘":1,"鹑觚":2,"灵台":2,"泾州":1,"杭州路":1,"江浦":1,"安阳":3,"绛州":1,"潭州":1,"长溪":4,"咸阳":4,"太原府":1,"龙门":4,"贵筑":1,"娄县":1,"资州":1,"宜川":1,"南安":2,"新罗":4,"富州":1,"莱州":2,"德安":1,"射洪":2,"怀州":2,"黎阳":1,"真定":1,"虞城":1,"长社":3,"威县":1,"平棘":1,"东明":1,"汉军镶黄旗":1,"临晋":1,"莘县":1,"平陆":1,"鄄城":1,"临沂":1,"浙江省":1,"沂水":1,"舞阳":1,"太仓直隶州直辖地方":1,"郃阳":1,"永丰":1,"嵊县":1,"仙游":6,"宝坻":1,"馆陶":1,"邹平":1,"卢龙":1,"太谷":3,"浚仪":1,"宜城":1,"沧州":2,"魏州":1,"临泾":1,"郫县":1,"满洲正蓝旗":1,"西充":1,"长水":1,"金城":5,"昭庆":1,"秭归":1,"鄂州":1,"兴唐":1,"莱芜":2,"福唐":1,"中都":1,"缙云":1,"青城":1,"通义":1,"壶关":2,"沁水":1,"满城":1,"封州":1,"义兴":5,"京师":1,"江淮":1,"宝鼎":9,"万泉":2,"永嘉":2,"汾州":1,"雒南":1,"东光":2,"朗山":1,"闻喜":8,"定州":1,"稷山":2,"安陆":1,"扬子":1,"宁阳":1,"吐蕃诸部":2,"卫县":1,"绩溪":1,"南皮":2,"幽都":1,"长乐":1,"陕州":1,"获鹿":1,"奉天":3,"鼓城":4,"临安府":1,"宜都":1,"顿丘":1,"单父":1,"恩州":1,"繁昌":1,"玉山":1,"尤溪":1,"冠氏":4,"新会":1,"鴈门":1,"翁源":1,"新乐":1,"中山":1,"广州":1,"暹逻国":1,"河清":1,"贵乡":1,"昆山州":1,"华州":1,"蓟县":1,"仁和":2,"临安":5,"朔方":1,"北平":1,"复州":1,"镡津":1,"永春":1,"诸暨":2,"宋州":1,"河南省":1,"鄮县":1,"新昌":1,"阳湖":1,"象山":1,"吉州":1,"新平":2,"当涂":1,"深州":1,"槁城":1,"仁寿":1,"正平":1,"博平":1,"渤海":2,"潘州":1,"雷泽":1,"郑县":1,"略阳":1,"蒲江":1,"巨鹿":1,"湖口":1,"临邛":1,"冤句":1},Kt={"归安":5,"长洲":4,"石埭":3,"常熟":4,"德州":2,"琼山":1,"福州":4,"邵武":11,"长兴":5,"新建":3,"钱塘":20,"汉军正白旗":1,"广德":1,"资州":1,"昌平":1,"淳安":2,"龙泉":2,"信安":1,"衡山":4,"高密":1,"玉山":4,"临川":14,"丽水":4,"乌程":13,"金华":15,"罗源":1,"宜春":1,"晋江":8,"华亭":6,"秀容":1,"吴县":16,"会稽":2,"南剑州":2,"祁门":1,"壁山":1,"双流":1,"荆门军":1,"庐陵":21,"德清":5,"莆田":12,"南丰州":1,"永康":3,"吉州":1,"建阳":9,"长溪":2,"崇安":14,"怀仁":1,"青州":1,"绵州":1,"丰城":8,"大名路":1,"开封":18,"合江":1,"永新":7,"阳安":1,"无锡":3,"清江":3,"定陶":1,"天台":5,"南昌":4,"长沙":1,"东光":1,"昆山":5,"四川":4,"西城":1,"南城":3,"连江":1,"建安":7,"永嘉":12,"抚州":1,"鄞县":21,"开封府":5,"嘉兴":6,"夏县":1,"济南府":1,"临海":9,"余干":3,"休宁":7,"永兴":1,"新郑":2,"瓯宁":1,"嵊县":3,"宜兴":5,"华阳":4,"崇仁":4,"温州":1,"江宁":3,"六合":1,"庆元":1,"溧水":1,"建昌军":1,"建州":4,"中江":1,"仙居":1,"歙县":8,"吉水":5,"泰州":1,"晋陵":1,"长兴州":1,"汝阳":1,"阳谷":1,"大兴":2,"建康府":1,"宣城":5,"永明":1,"邹平":1,"怀远":1,"须昌":1,"浚仪":1,"丹棱":2,"山阴":8,"建德":1,"蕲春":1,"高安":2,"新昌":1,"武康":1,"龙兴":1,"新淦":3,"武进":11,"贵平":2,"东阳":5,"婺州":1,"扬子":1,"吴江":1,"眉山":7,"郓城":1,"雍邱":4,"鄜州":1,"渔阳":1,"下邽":2,"洛阳":8,"贵池":1,"相州":1,"增城":1,"溧阳":2,"新兴":1,"昌国":1,"成武":1,"怀安":2,"顺昌":1,"安陆":2,"衡阳":2,"范县":1,"曲江":1,"永福":2,"长乐":7,"宋城":4,"芜湖":1,"鄱阳":10,"两浙东路":1,"石照":1,"宁晋":2,"福建省":1,"临安":1,"大安军":1,"郑州":1,"金坛":3,"润州":1,"淮阴":1,"新平":1,"安邑":1,"单父":1,"河阳":1,"绵竹":3,"扬州":4,"铜梁":1,"黄岩":7,"衢州":3,"平阳":2,"分宁":6,"上饶":2,"兰溪":3,"富阳":1,"萧山":1,"山阳":2,"西安":1,"介休":1,"义乌":3,"平江府":3,"丹徒":6,"宁乡":1,"铅山":1,"巨野":1,"阳翟":3,"沙县":2,"都昌":2,"瑞安":2,"太和州":1,"南丰":6,"徐州":1,"保昌":2,"福建路":2,"鄄城":1,"河内":1,"当涂":2,"彭山":1,"晋城":1,"须城":2,"上虞":1,"历城":6,"乐平":2,"光泽":1,"兴国":2,"长安":4,"遂宁":2,"蒲城":1,"於潜":1,"建昌":2,"闽县":2,"仁寿":2,"番禺":1,"安阳":3,"新喻":5,"海盐":3,"德兴":3,"阳武":1,"成都":2,"磐石":1,"茶陵州":2,"昭武军节度":1,"赞皇":1,"安喜":1,"京兆府":1,"洪州":2,"浦城":2,"眉州":1,"华阴":2,"江陵":1,"汴梁路":1,"任城":1,"乐安":1,"侯官":2,"福清":1,"泉州":2,"江山":3,"南平":1,"灵川":1,"河东":1,"稷山":1,"上蔡":1,"高阳":1,"庐江":1,"常山":1,"开化":1,"青田":1,"婺源":2,"旌德":1,"湖州":6,"弋阳":3,"祁县":2,"新安":2,"江都":1,"灵台":1,"夷陵州":1,"巢县":1,"湘潭":1,"乐清":2,"郓州":2,"南汇":1,"阳曲":1,"咸阳":1,"咸平":1,"德安":1,"攸县":1,"虞城":1,"上都路":1,"浦江":3,"明州":3,"安福州":1,"长泰":1,"舞阳":1,"仙游":3,"导江":1,"偃师":1,"谷城":1,"怀州":1,"犍为":1,"永春":3,"临桂":1,"高邮":2,"孝感":1,"浮梁":1,"泾县":1,"宁国府":1,"嘉定":1,"绩溪":1,"奉化":2,"慈溪":1,"靖安":1,"流江":1,"兴化":3,"定安":1,"临江军":2,"丹阳":3,"闽清":2,"槁城":1,"永丰":1,"南部":1,"真定":1,"宁国":1,"奉新":1,"江西行中书省":1,"曲沃":1,"穰县":1,"邯郸":1,"黄岩州":1,"杭州路":1,"南陵":1,"五国":1,"虔州":1,"剑浦":3,"临邛":1,"顿丘":1,"太仓州":1,"古田":1,"釜阳":1,"济宁州":1,"临濮":1,"闻喜":1,"韦城":1,"泽州府":1,"贵溪":1,"泰宁":1,"彭城":2,"荣泽":1,"晋原":1,"兴化军":1,"铜陵":1,"巴川":1,"余杭":1,"奉化州":2,"广陵":1,"崇德":1,"管城":2,"固始":1,"博罗":1,"长葛":1,"邓城":1,"郴县":1,"杜陵":1,"博野":1,"宁德":1,"沛县":1,"金朝":1,"井研":1,"太和":1,"余姚":2,"漳浦":1,"扶沟":1,"蒲江":1,"嘉善":1,"许州":1,"宛邱":1,"砀山":1,"诸暨":1,"仁和":1},Ut={"长清":1,"太原路":2,"庆元路":1,"大兴":2,"真定":4,"无锡州":1,"秀容":1,"西域":1,"大都路":12,"攸州":1,"苏州府":1,"怀安":1,"容城":1,"侯官":1,"宁乡":1,"邢台":1,"范阳":1,"华亭":2,"蒲阴":1,"嘉兴":1,"高安":2,"杭州路":6,"宣城":1,"柳城":1,"溧阳州":1,"亳州":1,"开州":1,"棣州":1,"历城":1,"益都":1,"荣阳":1,"西县":2,"定兴":1,"南城":1,"钱塘":5,"扬州路":1,"嘉兴路":1,"句容":1,"衢州路":1,"芒山":1,"丰润":1,"临川":1,"贵平":1,"邵武":1,"绛州":1,"高丽":1,"崞县":1,"青城":1,"无为":1,"长溪":1,"西河":1,"新喻州":1,"济南路":1,"饶州路":1,"归安":1,"黄冈":1,"瑞金":1,"涿州":2,"蔚州":1,"汲县":1,"宝坻":1,"金坛":1,"临海":2,"长安":1,"汴梁路":2,"代州":1,"冀州":1,"南郑":1,"崇仁":1,"鄱阳":1,"武进":1,"获鹿":1,"沂州":1,"德州":1,"开封":3,"衡山":1,"釜阳":2,"昆明":1,"乌程":1,"庐陵":1,"慈溪":1,"常熟":1,"松江府":2,"鄞县":1,"河间路":1,"东平路":1,"贵溪":1,"顺圣":1},Qt={"唐长安":"地处都城长安，是京畿要地，辖内宫阙巍峨，人文荟萃，为全国政治中心的重要组成部分，经济文化繁荣。","唐洛阳":"与长安并重的都城，既是神都、东都，也是商业繁荣、文化璀璨的中心，见证了大唐的辉煌与兴衰。","唐吴县":"江南重要的经济文化之地，作为苏州的治所，依托运河及水网优势，商贸兴旺，且有着悠久的历史和丰富的人文底蕴。","唐万年":"与长安县以长安城朱雀大街为界，管辖街东五十四坊，归京兆府治理，治所在宣阳坊内东南，天宝七载曾改名咸宁，乾元元年又复名万年。","唐河南":"重要的政治、经济和文化区域，不仅有东都洛阳这一繁华的政治中心，商业繁荣、交通便利，还涌现出众多文化名人，诗赋文章等文化成果璀璨夺目，在全国占据着举足轻重的地位。","唐京兆府":"与长安县分治长安城，同属京兆府，城内官署府邸众多，商业活动频繁，是长安繁华盛景的重要承载之地，文化底蕴深厚。","唐河东":"位于黄河以东，是重要的交通枢纽与经济节点，农业发达，手工业兴盛，以产盐等著称，人文昌盛，对河东地区发展影响深远。","唐莆田":"位于福建，虽地处东南一隅，但在中原文化的熏陶下，逐渐发展，农耕与海产资源丰富，文化教育开始兴起，人才渐出，是福建沿海的重要县域。","唐开封":"属汴州，位于交通要道，水运发达，商业日益繁荣，成为连接南北的重要经济节点。","唐钱塘":"坐落于江南，风景秀丽，钱塘江穿境而过，经济上以丝绸、茶叶等闻名，文化氛围浓厚，是江南地区的一颗璀璨明珠，逐渐发展成为重要的商业与文化中心。","唐宜春":"时称袁州，属江南西道，下辖宜春、新渝、萍乡三县，是“赣湘孔道”，有着重要的交通地位，文化昌盛，“袁州进士半江西”，还出了卢肇、易重等状元，曾有李游等刺史在此理政并被封为宜春侯","唐湖州":"位于今浙江省湖州市一带，唐沿隋制设湖州，领乌程、长城、武康、安吉、德清五县，因濒太湖得名，该地少受战乱影响，社会安定，经济繁荣，是重要财赋来源地，且文化昌盛，颜真卿等文人在此留下诸多文化遗产。","唐成都":"作为 “扬一益二” 的西南大都会，不仅是经济繁荣的商业中心与手工业重镇，有着发达的蜀锦、造纸、雕版印刷业及繁荣的坊市和对外贸易，还是文化璀璨的诗意之城，吸引着众多文人墨客，留下了丰富的文化遗产。","唐范阳":"一个地理位置重要、军事意义重大且文化底蕴深厚的地方，大致位于今北京市和河北省保定市北部交界一带，曾为范阳节度使治所，是安禄山发动 “安史之乱” 的起兵之地，也是范阳卢氏等名门望族的发祥地。","唐彭城":"指徐州，它在唐初为徐州总管府治所，贞观年间属河南道，唐玄宗时改为彭城郡，是重要的政治军事要地和南北交通枢纽，在唐朝中后期作为徐泗濠、武宁军和感化军节度使的治所，见证了藩镇割据与庞勋起义等重大历史事件。","宋庐陵":"文风昌盛，人才辈出，欧阳修等众多文豪皆出于此，乃江南文化重镇，科举成绩斐然。","宋鄞县":"地处明州，经济繁荣，水利发达，教育兴盛，王安石曾在此主政兴利，留下诸多善政。","宋钱塘":"杭州治所，位于江南富庶之地，西湖风光旖旎，城市繁华，商业与文化交相辉映，尽显江南都会之盛。","宋开封":"北宋都城，人口密集，商贸繁荣，勾栏瓦肆热闹非凡，集政治、经济、文化中心于一身，是当时世界上最繁华的都市之一。","宋吴县":"属苏州，境内水网密布，物产丰饶，园林艺术初兴，人文荟萃，是江南鱼米之乡与文化胜地。","宋金华":"地灵人杰，山川秀丽，文化兴盛，不仅农业发达，且儒学等学术思想活跃，为浙中重要地区。","宋临川":"文化昌盛，孕育了王安石、曾巩等文学巨匠，文风炽盛，教育发达，在诗词、散文等领域成就卓著。","宋崇安":"地处福建，以茶闻名，武夷山风光秀丽，且朱熹在此讲学著述，使其成为理学传播的重要基地，文化底蕴深厚。","宋乌程":"属湖州，境内湖光山色，桑蚕业发达，是重要的丝绸产地，文人雅士云集，书画艺术繁荣。","宋莆田":"重教兴学，科举成绩辉煌，人才济济，且农耕与海贸并举，经济发展迅速，成为福建沿海的文化与经济强县。","宋永嘉":"南宋重要的学术、文化与经济之地，不仅诞生了倡导事功之学、主张“义利并举”“通商惠工”的永嘉学派和以“清逸野趣”为特色的永嘉四灵诗派，还凭借优越的地理条件成为海上丝绸之路的关键节点，农业、手工业发达，城乡商品经济繁荣。","宋邵武":"福建路重要的商业与文化中心，以木质建筑为主，有丹霞寺等景观，还施行多种社会福利政策。","宋武进":"宋朝时的武进列为望县，人文荟萃，是南朝齐、梁两朝开国皇帝故居地，也是吴文化发源地之一，有着独特的淹城遗址，且在历史变迁中历经多次行政区划调整。","宋鄱阳":"作为古饶州府治所在地，不仅是“山有林麓之利，泽有蒲鱼之饶”的富饶之地，也是范仲淹、王安石等众多名人留下足迹与佳作的文化名城。","宋建阳":"福建闽北的一颗璀璨明珠，不仅是全国三大刻书印刷中心之一和宋瓷八大窑口之一，还孕育了朱熹的考亭学派，诞生了宋慈等文化名人，可谓经济繁荣、文化昌盛、人才辈出。","元大都路":"都城所在地，是全国政治中心，宫殿宏伟，街道规整，汇聚四海之人，商业繁荣，文化多元。","元杭州路":"经济发达，是江南重要的商业和文化中心，西湖美景吸引着无数文人墨客。","元钱塘":"属杭州路，虽历经朝代更迭，仍保持着江南的富庶与繁华，是重要的商业城市，文化传承不息。","元真定":"地处要冲，经济繁荣，手工业发达，是北方重要的商业城市和军事重镇，文化艺术也颇具特色。","元开封":"虽已不复宋朝都城之盛，但仍为中原地区的重要城市，交通便利，商业基础犹存，在地区经济与文化交流中发挥着重要作用。","元太原路":"山西地区的重要中心，地处交通要道，农业、手工业发达，历史文化悠久，是北方重要的军事和商业城市。","元临海":"浙江的重要城市，拥有始建于晋代的古城墙，因独特的 “江南八达岭” 式城墙兼具御敌与防洪功能","元华亭":"属松江府，地处江南，土地肥沃，棉纺织业兴起，商业繁荣，逐渐成为江南地区的经济重镇，文化也日益发展。","元高安":"属瑞州路，境内物产丰富，农业发达，文化教育不断进步，在江西地区有一定的经济和文化地位。","元汴梁路":"为河南江北行中书省治所，治开封、祥符二县，辖境广阔，是中原地区重要的政治、经济和交通枢纽。","元釜阳":"在今河北徐水大王店镇，因位于釜山之南而得名，在元朝时是普通的城镇聚落，是郑庆等当地家族的生活之地，在区域交通、农业生产等方面有着一定的基础和作用。","元松江府":"重要的海运漕粮基地和盐业生产地，经济繁荣，其棉纺织业在黄道婆带来先进技术后快速发展，为日后成为全国棉纺织业中心奠定了基础。","元长清":"属中书省济南路，有着独特的地域文化底蕴，其境内的灵岩寺在当时就已是闻名遐迩的佛教圣地，吸引着众多信徒和游客往来。","元庆元路":"属江浙行省，治所位于鄞县，辖境涵盖今浙江宁波、慈溪、奉化等地及舟山群岛，大德六年成为浙东道宣慰司治所，是当时重要的外贸港口，与泉州、广州并称为中国三大港口。","元无锡州":"属江浙行省常州路，其在经济上有一定发展，成为区域内重要的商业和手工业城镇，且文化氛围也较为浓厚。"},ea={nodes:[{name:"喜",depth:0},{name:"怒",depth:0},{name:"悲",depth:0},{name:"乐",depth:0},{name:"思",depth:0},{name:"忧",depth:0},{name:"惧",depth:0},{name:"李白",depth:1},{name:"王勃",depth:1},{name:"孟浩然",depth:1},{name:"杜牧",depth:1},{name:"杜甫",depth:1},{name:"白居易",depth:1},{name:"韩愈",depth:1},{name:"柳宗元",depth:1},{name:"常建",depth:1},{name:"王建",depth:1},{name:"李益",depth:1},{name:"山水田园诗派",depth:2},{name:"边塞诗派",depth:2},{name:"浪漫主义诗派",depth:2},{name:"现实主义诗派",depth:2}],links:[{source:"李白",target:"浪漫主义诗派",value:5},{source:"乐",target:"李白",value:.8657829328914664},{source:"悲",target:"李白",value:1.5700082850041426},{source:"怒",target:"李白",value:.3148301574150787},{source:"思",target:"李白",value:1.2344656172328086},{source:"喜",target:"李白",value:.5965202982601491},{source:"惧",target:"李白",value:.04971002485501243},{source:"忧",target:"李白",value:.36868268434134216},{source:"王勃",target:"浪漫主义诗派",value:1.6},{source:"悲",target:"王勃",value:.41967213114754104},{source:"喜",target:"王勃",value:.26229508196721313},{source:"思",target:"王勃",value:.4852459016393443},{source:"忧",target:"王勃",value:.10491803278688526},{source:"乐",target:"王勃",value:.22295081967213115},{source:"怒",target:"王勃",value:.0918032786885246},{source:"惧",target:"王勃",value:.013114754098360657},{source:"孟浩然",target:"山水田园诗派",value:3.5},{source:"乐",target:"孟浩然",value:.9963503649635036},{source:"思",target:"孟浩然",value:.7025547445255474},{source:"喜",target:"孟浩然",value:.4343065693430657},{source:"悲",target:"孟浩然",value:1.0346715328467155},{source:"怒",target:"孟浩然",value:.14051094890510948},{source:"忧",target:"孟浩然",value:.17883211678832117},{source:"惧",target:"孟浩然",value:.012773722627737226},{source:"杜牧",target:"现实主义诗派",value:1.5},{source:"悲",target:"杜牧",value:.5073529411764706},{source:"喜",target:"杜牧",value:.18198529411764705},{source:"乐",target:"杜牧",value:.15992647058823528},{source:"怒",target:"杜牧",value:.09099264705882353},{source:"思",target:"杜牧",value:.43566176470588236},{source:"忧",target:"杜牧",value:.09926470588235295},{source:"惧",target:"杜牧",value:.024816176470588237},{source:"杜甫",target:"现实主义诗派",value:4.5},{source:"惧",target:"杜甫",value:.04533243787777031},{source:"忧",target:"杜甫",value:.4110141034251175},{source:"悲",target:"杜甫",value:1.480859637340497},{source:"怒",target:"杜甫",value:.40194761584956346},{source:"乐",target:"杜甫",value:.8673606447280054},{source:"思",target:"杜甫",value:.7162525184687709},{source:"喜",target:"杜甫",value:.5772330423102754},{source:"白居易",target:"现实主义诗派",value:2.8},{source:"乐",target:"白居易",value:.6039215686274509},{source:"悲",target:"白居易",value:.7565304087736789},{source:"忧",target:"白居易",value:.26799601196410766},{source:"思",target:"白居易",value:.6616151545363907},{source:"喜",target:"白居易",value:.41595214356929205},{source:"惧",target:"白居易",value:.03256895978730475},{source:"怒",target:"白居易",value:.06141575274177467},{source:"韩愈",target:"现实主义诗派",value:2.2},{source:"怒",target:"韩愈",value:2.2},{source:"柳宗元",target:"山水田园诗派",value:2.4},{source:"乐",target:"柳宗元",value:.6415841584158416},{source:"怒",target:"柳宗元",value:.2613861386138614},{source:"喜",target:"柳宗元",value:.3326732673267327},{source:"忧",target:"柳宗元",value:.22574257425742572},{source:"悲",target:"柳宗元",value:.5702970297029702},{source:"惧",target:"柳宗元",value:.07128712871287128},{source:"思",target:"柳宗元",value:.297029702970297},{source:"常建",target:"山水田园诗派",value:1},{source:"思",target:"常建",value:.288135593220339},{source:"乐",target:"常建",value:.0847457627118644},{source:"悲",target:"常建",value:.3559322033898305},{source:"喜",target:"常建",value:.0847457627118644},{source:"忧",target:"常建",value:.06779661016949153},{source:"怒",target:"常建",value:.11864406779661017},{source:"王建",target:"边塞诗派",value:1},{source:"悲",target:"王建",value:.28793103448275864},{source:"思",target:"王建",value:.2206896551724138},{source:"乐",target:"王建",value:.18620689655172415},{source:"喜",target:"王建",value:.19827586206896552},{source:"忧",target:"王建",value:.07931034482758621},{source:"怒",target:"王建",value:.017241379310344827},{source:"惧",target:"王建",value:.010344827586206896},{source:"李益",target:"边塞诗派",value:1.3},{source:"悲",target:"李益",value:.505945945945946},{source:"思",target:"李益",value:.2740540540540541},{source:"喜",target:"李益",value:.1475675675675676},{source:"忧",target:"李益",value:.11243243243243244},{source:"乐",target:"李益",value:.2037837837837838},{source:"怒",target:"李益",value:.04216216216216217},{source:"惧",target:"李益",value:.014054054054054054}]},ta={nodes:[{name:"喜",depth:0},{name:"怒",depth:0},{name:"悲",depth:0},{name:"乐",depth:0},{name:"思",depth:0},{name:"忧",depth:0},{name:"惧",depth:0},{name:"柳永",depth:1},{name:"周邦彦",depth:1},{name:"李清照",depth:1},{name:"秦观",depth:1},{name:"晏殊",depth:1},{name:"晏几道",depth:1},{name:"苏轼",depth:1},{name:"辛弃疾",depth:1},{name:"陆游",depth:1},{name:"张孝祥",depth:1},{name:"岳飞",depth:1},{name:"陈亮",depth:1},{name:"张元干",depth:1},{name:"刘过",depth:1},{name:"婉约派",depth:2},{name:"豪放派",depth:2}],links:[{source:"柳永",target:"婉约派",value:4},{source:"喜",target:"柳永",value:.8075117370892019},{source:"悲",target:"柳永",value:1.408450704225352},{source:"乐",target:"柳永",value:.5258215962441315},{source:"思",target:"柳永",value:1.0328638497652582},{source:"忧",target:"柳永",value:.15023474178403756},{source:"怒",target:"柳永",value:.056338028169014086},{source:"惧",target:"柳永",value:.018779342723004695},{source:"周邦彦",target:"婉约派",value:2},{source:"思",target:"周邦彦",value:.7634408602150538},{source:"悲",target:"周邦彦",value:.7526881720430108},{source:"喜",target:"周邦彦",value:.26881720430107525},{source:"乐",target:"周邦彦",value:.0967741935483871},{source:"忧",target:"周邦彦",value:.043010752688172046},{source:"怒",target:"周邦彦",value:.06451612903225806},{source:"惧",target:"周邦彦",value:.010752688172043012},{source:"李清照",target:"婉约派",value:3.5},{source:"悲",target:"李清照",value:1.6153846153846154},{source:"喜",target:"李清照",value:.6057692307692307},{source:"乐",target:"李清照",value:.2692307692307693},{source:"思",target:"李清照",value:.9423076923076923},{source:"怒",target:"李清照",value:.06730769230769232},{source:"秦观",target:"婉约派",value:2.8},{source:"悲",target:"秦观",value:1.0266666666666666},{source:"思",target:"秦观",value:1.1199999999999999},{source:"喜",target:"秦观",value:.27999999999999997},{source:"惧",target:"秦观",value:.06222222222222222},{source:"乐",target:"秦观",value:.15555555555555553},{source:"怒",target:"秦观",value:.06222222222222222},{source:"忧",target:"秦观",value:.09333333333333332},{source:"晏殊",target:"婉约派",value:2.7},{source:"思",target:"晏殊",value:.9257142857142858},{source:"悲",target:"晏殊",value:.6557142857142858},{source:"喜",target:"晏殊",value:.6942857142857143},{source:"乐",target:"晏殊",value:.27},{source:"忧",target:"晏殊",value:.135},{source:"惧",target:"晏殊",value:.019285714285714288},{source:"晏几道",target:"婉约派",value:1.3},{source:"思",target:"晏几道",value:.59},{source:"悲",target:"晏几道",value:.42000000000000004},{source:"忧",target:"晏几道",value:.035},{source:"喜",target:"晏几道",value:.195},{source:"乐",target:"晏几道",value:.05500000000000001},{source:"怒",target:"晏几道",value:.005},{source:"苏轼",target:"豪放派",value:5},{source:"思",target:"苏轼",value:1.5055248618784531},{source:"喜",target:"苏轼",value:.8977900552486189},{source:"悲",target:"苏轼",value:1.477900552486188},{source:"怒",target:"苏轼",value:.30386740331491713},{source:"乐",target:"苏轼",value:.4281767955801105},{source:"惧",target:"苏轼",value:.06906077348066297},{source:"忧",target:"苏轼",value:.31767955801104975},{source:"辛弃疾",target:"豪放派",value:4.4},{source:"忧",target:"辛弃疾",value:.265818759936407},{source:"怒",target:"辛弃疾",value:.1329093799682035},{source:"喜",target:"辛弃疾",value:1.112241653418124},{source:"思",target:"辛弃疾",value:.8604133545310017},{source:"悲",target:"辛弃疾",value:1.4270270270270273},{source:"乐",target:"辛弃疾",value:.5526232114467409},{source:"惧",target:"辛弃疾",value:.04896661367249602},{source:"陆游",target:"豪放派",value:3.7},{source:"思",target:"陆游",value:1.250344827586207},{source:"悲",target:"陆游",value:1.3779310344827587},{source:"怒",target:"陆游",value:.1531034482758621},{source:"喜",target:"陆游",value:.5103448275862069},{source:"乐",target:"陆游",value:.20413793103448277},{source:"忧",target:"陆游",value:.20413793103448277},{source:"张孝祥",target:"豪放派",value:1.6},{source:"悲",target:"张孝祥",value:.4693333333333334},{source:"思",target:"张孝祥",value:.41244444444444445},{source:"怒",target:"张孝祥",value:.05688888888888889},{source:"乐",target:"张孝祥",value:.17777777777777778},{source:"喜",target:"张孝祥",value:.4195555555555556},{source:"忧",target:"张孝祥",value:.04977777777777778},{source:"惧",target:"张孝祥",value:.014222222222222223},{source:"陈亮",target:"豪放派",value:1.5},{source:"乐",target:"陈亮",value:.22297297297297297},{source:"悲",target:"陈亮",value:.42567567567567566},{source:"喜",target:"陈亮",value:.32432432432432434},{source:"思",target:"陈亮",value:.3648648648648649},{source:"怒",target:"陈亮",value:.060810810810810814},{source:"忧",target:"陈亮",value:.08108108108108109},{source:"惧",target:"陈亮",value:.02027027027027027},{source:"张元干",target:"豪放派",value:1.5},{source:"思",target:"张元干",value:.42162162162162165},{source:"忧",target:"张元干",value:.05675675675675676},{source:"喜",target:"张元干",value:.30000000000000004},{source:"悲",target:"张元干",value:.44594594594594594},{source:"乐",target:"张元干",value:.1864864864864865},{source:"惧",target:"张元干",value:.016216216216216217},{source:"怒",target:"张元干",value:.07297297297297298},{source:"刘过",target:"豪放派",value:1.4},{source:"岳飞",target:"豪放派",value:1.1},{source:"悲",target:"岳飞",value:1.1},{source:"怒",target:"刘过",value:.07179487179487179},{source:"喜",target:"刘过",value:.2153846153846154},{source:"乐",target:"刘过",value:.1076923076923077},{source:"思",target:"刘过",value:.3230769230769231},{source:"悲",target:"刘过",value:.5205128205128206},{source:"惧",target:"刘过",value:.035897435897435895},{source:"忧",target:"刘过",value:.12564102564102564}]},aa={nodes:[{name:"喜",depth:0},{name:"怒",depth:0},{name:"悲",depth:0},{name:"乐",depth:0},{name:"思",depth:0},{name:"忧",depth:0},{name:"惧",depth:0},{name:"关汉卿",depth:1},{name:"白朴",depth:1},{name:"卢挚",depth:1},{name:"张可久",depth:1},{name:"乔吉",depth:1},{name:"徐再思",depth:1},{name:"周德清",depth:1},{name:"马致远",depth:1},{name:"白贲",depth:1},{name:"张养浩",depth:1},{name:"贯云石",depth:1},{name:"杨朝英",depth:1},{name:"清丽派",depth:2},{name:"豪放派",depth:2}],links:[{source:"关汉卿",target:"清丽派",value:4},{source:"思",target:"关汉卿",value:.6442577030812325},{source:"喜",target:"关汉卿",value:.907563025210084},{source:"悲",target:"关汉卿",value:.6554621848739496},{source:"惧",target:"关汉卿",value:.25770308123249297},{source:"乐",target:"关汉卿",value:.8179271708683473},{source:"怒",target:"关汉卿",value:.22969187675070027},{source:"忧",target:"关汉卿",value:.48739495798319327},{source:"白朴",target:"清丽派",value:2.9},{source:"忧",target:"白朴",value:.2801932367149758},{source:"思",target:"白朴",value:.742512077294686},{source:"悲",target:"白朴",value:.7004830917874396},{source:"乐",target:"白朴",value:.43429951690821256},{source:"怒",target:"白朴",value:.1400966183574879},{source:"喜",target:"白朴",value:.5463768115942029},{source:"惧",target:"白朴",value:.056038647342995164},{source:"卢挚",target:"清丽派",value:2.9},{source:"思",target:"卢挚",value:1.2888888888888888},{source:"悲",target:"卢挚",value:1.2888888888888888},{source:"喜",target:"卢挚",value:.3222222222222222},{source:"张可久",target:"清丽派",value:2.4},{source:"悲",target:"张可久",value:1.020472440944882},{source:"喜",target:"张可久",value:.28346456692913385},{source:"乐",target:"张可久",value:.26456692913385826},{source:"思",target:"张可久",value:.6047244094488189},{source:"怒",target:"张可久",value:.07559055118110236},{source:"忧",target:"张可久",value:.11338582677165354},{source:"惧",target:"张可久",value:.03779527559055118},{source:"乔吉",target:"清丽派",value:2.6},{source:"忧",target:"乔吉",value:.1566265060240964},{source:"乐",target:"乔吉",value:.6421686746987951},{source:"悲",target:"乔吉",value:.5325301204819277},{source:"喜",target:"乔吉",value:.391566265060241},{source:"怒",target:"乔吉",value:.14096385542168677},{source:"思",target:"乔吉",value:.610843373493976},{source:"惧",target:"乔吉",value:.12530120481927712},{source:"徐再思",target:"清丽派",value:2.3},{source:"悲",target:"徐再思",value:1.4375},{source:"喜",target:"徐再思",value:.2875},{source:"思",target:"徐再思",value:.575},{source:"周德清",target:"清丽派",value:2},{source:"怒",target:"周德清",value:.2962962962962963},{source:"悲",target:"周德清",value:.37037037037037035},{source:"忧",target:"周德清",value:.14814814814814814},{source:"思",target:"周德清",value:.8148148148148148},{source:"喜",target:"周德清",value:.2222222222222222},{source:"乐",target:"周德清",value:.07407407407407407},{source:"惧",target:"周德清",value:.07407407407407407},{source:"马致远",target:"豪放派",value:4},{source:"思",target:"马致远",value:.7819548872180451},{source:"乐",target:"马致远",value:.7819548872180451},{source:"惧",target:"马致远",value:.2506265664160401},{source:"喜",target:"马致远",value:.731829573934837},{source:"怒",target:"马致远",value:.2606516290726817},{source:"悲",target:"马致远",value:.9122807017543859},{source:"忧",target:"马致远",value:.2807017543859649},{source:"白贲",target:"豪放派",value:1.9},{source:"思",target:"白贲",value:.8941176470588235},{source:"悲",target:"白贲",value:.7823529411764705},{source:"喜",target:"白贲",value:.22352941176470587},{source:"张养浩",target:"豪放派",value:2},{source:"喜",target:"张养浩",value:.88},{source:"乐",target:"张养浩",value:.4},{source:"忧",target:"张养浩",value:.16},{source:"悲",target:"张养浩",value:.24},{source:"思",target:"张养浩",value:.24},{source:"怒",target:"张养浩",value:.08},{source:"贯云石",target:"豪放派",value:1.7},{source:"悲",target:"贯云石",value:.4112903225806452},{source:"乐",target:"贯云石",value:.16451612903225807},{source:"思",target:"贯云石",value:.7403225806451613},{source:"忧",target:"贯云石",value:.1096774193548387},{source:"喜",target:"贯云石",value:.27419354838709675},{source:"杨朝英",target:"豪放派",value:1.3},{source:"喜",target:"杨朝英",value:.65},{source:"思",target:"杨朝英",value:.325},{source:"乐",target:"杨朝英",value:.1625},{source:"悲",target:"杨朝英",value:.1625}]},ra=[{name:"李白",degree:10,community:1,x:50,y:40,symbolSize:60},{name:"杜甫",degree:12,community:2,x:20,y:30,symbolSize:45},{name:"卢照邻",degree:9,community:1,x:25,y:50,symbolSize:50},{name:"韦应物",degree:53,community:1,x:20,y:40,symbolSize:40},{name:"高适",degree:72,community:1,x:12,y:45,symbolSize:40},{name:"白居易",degree:264,community:1,x:60,y:60,symbolSize:40},{name:"韩愈",degree:148,community:1,x:25,y:25,symbolSize:40},{name:"储光羲",degree:39,community:1,x:35,y:35,symbolSize:14},{name:"孟浩然",degree:51,community:1,x:45,y:45,symbolSize:20}],oa=[{source:"孟浩然",target:"李白",color:"#cd9957"},{source:"李白",target:"杜甫"},{source:"李白",target:"白居易"},{source:"李白",target:"高适"},{source:"李白",target:"韩愈"},{source:"杜甫",target:"白居易"},{source:"杜甫",target:"高适"},{source:"杜甫",target:"孟浩然"},{source:"杜甫",target:"储光羲"},{source:"卢照邻",target:"李白"},{source:"卢照邻",target:"杜甫"},{source:"卢照邻",target:"高适"},{source:"卢照邻",target:"孟浩然"},{source:"卢照邻",target:"韦应物"}],na={"李白":{ChineseName:"李白",EnglishName:"Li Bai",Gender:"男",YearBirth:"701",EraBirth:"长安",EraYearBirth:"1",YearDeath:"762",EraDeath:"宝应",EraYearDeath:"1",Address:"任城",avatar:"https://ziyuan.guwendao.net/authorImg300/LiBai.jpg",desc:"诗词风格豪放飘逸、意境奇妙。一生渴望入仕实现抱负，曾游历四方、赐金放还。代表作有《将进酒》《静夜思》。 "},"杜甫":{ChineseName:"杜甫",EnglishName:"Du Fu",Gender:"男",YearBirth:"712",EraBirth:"先天",EraYearBirth:"1",YearDeath:"770",EraDeath:"大历",EraYearDeath:"5",Address:"长安",avatar:"https://ziyuan.guwendao.net/authorImg300/DuFu.jpg",desc:"生活于唐朝由盛转衰时期，历经颠沛流离。其诗词风格沉郁顿挫，多反映社会现实与人民疾苦。代表作有《登高》《茅屋为秋风所破歌》。 "},"卢照邻":{ChineseName:"卢照邻",EnglishName:"Lu Zhaolin",Gender:"男",YearBirth:"634",EraBirth:"贞观",EraYearBirth:"8",YearDeath:"686",EraDeath:"垂拱",EraYearDeath:"2",Address:"范阳",avatar:"https://ziyuan.guwendao.net/authorImg300/LuZhaolin.jpg",desc:"初唐诗人，诗词风格豪迈奔放、意境开阔。曾为邓王李元裕府典签，后染风疾，饱受病痛折磨。代表作有《长安古意》《行路难》。 "},"韦应物":{ChineseName:"韦应物",EnglishName:"Wei Yingwu",Gender:"男",YearBirth:"737",EraBirth:"开元",EraYearBirth:"25",YearDeath:"未详",EraDeath:"未详",EraYearDeath:"未详",Address:"长安",avatar:"https://ziyuan.guwendao.net/authorImg300/WeiYingwu.jpg",desc:"中唐时期诗人，其诗词风格恬淡高远，以善于描写山水田园著称，诗风简淡幽远。曾入仕为官，经历丰富。代表作有《滁州西涧》《寄全椒山中道士》。 "},"高适":{ChineseName:"高适",EnglishName:"Gao Shi",Gender:"男",YearBirth:"700",EraBirth:"久视",EraYearBirth:"1",YearDeath:"765",EraDeath:"永泰",EraYearDeath:"1",Address:"蓨县",avatar:"https://ziyuan.guwendao.net/authorImg300/GaoShi.jpg",desc:"其诗词风格豪迈奔放、慷慨悲壮，多反映边塞生活。曾入幕河西，后任淮南节度使等职。代表作有《燕歌行》《别董大》。 "},"白居易":{ChineseName:"白居易",EnglishName:"Bai Juyi",Gender:"男",YearBirth:"772",EraBirth:"大历",EraYearBirth:"7",YearDeath:"846",EraDeath:"会昌",EraYearDeath:"6",Address:"太谷",avatar:"https://ziyuan.guwendao.net/authorImg300/BaiJuyi.jpg",desc:"其诗词风格通俗易懂、平易近人。早年仕途顺利，后因直言被贬。经历丰富使其作品多反映社会现实。代表作有《琵琶行》《卖炭翁》。 "},"韩愈":{ChineseName:"韩愈",EnglishName:"Han Yu",Gender:"男",YearBirth:"768",EraBirth:"大历",EraYearBirth:"3",YearDeath:"825",EraDeath:"宝历",EraYearDeath:"1",Address:"槁城",avatar:"https://ziyuan.guwendao.net/authorImg300/HanYu.jpg",desc:"唐代文学家，其诗词风格古朴雄健、气势磅礴。早年仕途坎坷，后官至吏部侍郎。倡导古文运动，对后世影响深远。代表作有《左迁至蓝关示侄孙湘》《山石》。 "},"储光羲":{ChineseName:"储光羲",EnglishName:"Chu Guangxi",Gender:"男",YearBirth:"706",EraBirth:"神龙",EraYearBirth:"2",YearDeath:"762",EraDeath:"宝应",EraYearDeath:"1",Address:"延陵",avatar:"https://ziyuan.guwendao.net/authorImg300/ChuGuangxi.jpg",desc:"唐代诗人，其诗词多写田园生活与山水风光，风格质朴自然、恬淡闲适。曾任太祝等职，后因安史之乱受牵连。代表作有《田家即事》《钓鱼湾》。 "},"孟浩然":{ChineseName:"孟浩然",EnglishName:"Meng Haoran",Gender:"男",YearBirth:"689",EraBirth:"永昌",EraYearBirth:"1",YearDeath:"740",EraDeath:"开元",EraYearDeath:"28",Address:"襄阳",avatar:"https://ziyuan.guwendao.net/authorImg300/MengHaoran.jpg",desc:"山水田园派诗人，风格清新自然、意境悠远。一生大部分时间在家乡隐居，曾游历四方。代表作有《春晓》《过故人庄》。 "}},ia={class:"poet-summary-view"},sa={class:"dynasty-choose"},la=["onClick"],ua={class:"main"},da={class:"left"},ha={class:"right"},ca=Se({__name:"PoetSummaryView",setup(e){const t=Ve(0),a=["唐","宋","元"],r=Ve([]),o=Ve([]),n=Ve([]),i=Ve({nodes:[],links:[]}),s=e=>{let r=Object.entries(e).sort(((e,t)=>t[1]-e[1])),o=[],n=[],i=[],s=16;for(let l=0;l<r.length&&(Qt.hasOwnProperty(a[t.value]+r[l][0])&&(o.push(r[l][0]),n.push(r[l][1]),i.push(Qt[a[t.value]+r[l][0]]),s--),0!==s);l++);return[o,n,i]},l=async e=>{switch(t.value=e,e){case 0:[r.value,o.value,n.value]=s(Jt),i.value=ea;break;case 1:[r.value,o.value,n.value]=s(Kt),i.value=ta;break;case 2:[r.value,o.value,n.value]=s(Ut),i.value=aa}};return De((async()=>{l(0)})),(e,s)=>(Ie(),ze("div",ia,[Be("div",sa,[(Ie(),ze(Ae,null,Ce(a,((e,a)=>Be("button",{key:a,class:Pe(["dynasty-button",{active:t.value===a}]),onClick:e=>l(a)},Ye(e),11,la))),64))]),Be("div",ua,[Be("div",da,[Te(Ht,{info:n.value,id:t.value,regionName:r.value,regionValue:o.value},null,8,["info","id","regionName","regionValue"]),Te(Wt,{nodes:i.value.nodes,links:i.value.links},null,8,["nodes","links"])]),Be("div",ha,[Te($t,{nodes:ke(ra),links:ke(oa),infos:ke(na),id:t.value},null,8,["nodes","links","infos","id"])])])]))}});export{ca as default};
