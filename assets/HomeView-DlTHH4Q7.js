import{a as e}from"./axios-DMXdiZgf.js";import{u as a,i as t,a as s,b as o,c as r,d as n,r as i,e as l}from"./installCanvasRenderer-DOho8wCD.js";import{i as c,a as m,b as f,c as p}from"./install-D1qi70KU.js";import{i as d}from"./install-4l2eCgn0.js";import{d as u,r as v,o as y,a as h,c as b,b as g,_ as x,e as S,f as w,g as C}from"./index-qBsUScAg.js";import{i as _,a as $,b as j}from"./install-B8Boz6OP.js";const z=x(u({__name:"ChinaMapComp",setup(l){a([t,c,s,m,d,f,o,r]);const p=[{name:"河南省",value:50}],u=[{name:"陕西省",value:30}],x=[{name:"浙江省",value:20}],S=v();let w=null;async function C(a){return(await e.get(`https://geo.datav.aliyun.com/areas_v2/bound/${a}`)).data}async function _(){if(S.value){w=n(S.value);try{const[e,a]=await Promise.all([C("all.json"),C("100000_full.json")]);!function(e,a,t){const s={};e.features.forEach((e=>{const a=e.properties.name;a&&(s[a]=e.properties.center)})),i(a,e);const o=e=>e.map((e=>{const a=s[e.name];return a?{name:e.name,value:a.concat(e.value)}:null})).filter((e=>null!==e)),r={title:{text:a,left:"center",top:"4%",textStyle:{fontFamily:"TitleFont",fontSize:25}},tooltip:{triggerOn:"mousemove",formatter:e=>{const a=isNaN(e.value)?0:e.value;return`<span>${e.name}：</span><br/><span>值：${a}</span>`},backgroundColor:"rgba(29, 38, 71)",extraCssText:"box-shadow:0 0 4px rgba(11, 19, 43,0.8)"},geo:{show:!0,top:"10%",map:a,label:{show:!1,emphasis:{show:!0,color:"#31322c"}},roam:!1,itemStyle:{areaColor:"#fff",borderColor:"#686a67",emphasis:{areaColor:"#00828B"}}},series:[{name:"唐",type:"effectScatter",coordinateSystem:"geo",data:o(p),symbolSize:e=>e[2]/5,itemStyle:{color:"red"},rippleEffect:{scale:2.5,brushType:"stroke"}},{name:"宋",type:"effectScatter",coordinateSystem:"geo",data:o(u),symbolSize:e=>e[2]/5,itemStyle:{color:"blue"},rippleEffect:{scale:2.5,brushType:"stroke"}},{name:"元",type:"effectScatter",coordinateSystem:"geo",data:o(x),symbolSize:e=>e[2]/5,itemStyle:{color:"green"},rippleEffect:{scale:2.5,brushType:"stroke"}}],legend:{data:["唐","宋","元"],bottom:"5%",right:"5%",textStyle:{fontSize:16,color:"#333"},selected:{"唐":!0,"宋":!0,"元":!0}}};t.setOption(r);const n=()=>null==t?void 0:t.resize();window.addEventListener("resize",n),g((()=>{window.removeEventListener("resize",n),null==t||t.dispose()}))}(a,"诗人籍贯分布演变",w)}catch(e){}}}return y((()=>{_()})),(e,a)=>(h(),b("div",{ref_key:"chartContainer",ref:S,class:"chart-container"},null,512))}}),[["__scopeId","data-v-6d194f12"]]);a([l,t,_,$,j,p,o]);const E={ref:"chartContainer",style:{width:"100%",height:"500px"}};const k=x({name:"PoetryDataChart",setup(){const e=v(null),a=["唐代","宋代","元代"],t=[57347,19484,8771],s=[3662,1489,230];return y((()=>{const o=n(e.value),r={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter:function(e){let a=`${e[0].name}<br/>`;return e.forEach((e=>{a+=`${e.marker}${e.seriesName}: ${e.value}<br/>`})),a}},toolbox:{feature:{magicType:{show:!0,type:["line","bar"],title:{line:"折线图",bar:"柱状图"}},restore:{show:!0,title:"重置"},saveAsImage:{show:!0,title:"保存为png"}}},legend:{data:["作品总量","诗人总数"]},xAxis:[{type:"category",data:a,axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"作品总量",position:"left",axisLabel:{formatter:"{value}"}},{type:"value",name:"诗人总数",position:"right",axisLabel:{formatter:"{value}"}}],series:[{name:"作品总量",type:"bar",data:t,tooltip:{valueFormatter:function(e){return`${e} 首`}}},{name:"诗人总数",type:"line",yAxisIndex:1,data:s,tooltip:{valueFormatter:function(e){return`${e} 位`}},smooth:!0}]};o.setOption(r)})),{chartContainer:e}}},[["render",function(e,a,t,s,o,r){return h(),b("div",E,null,512)}]]),T={class:"layout"},A={class:"content-section"},F=x({__name:"HomeView",setup:e=>(e,a)=>(h(),b("div",T,[a[0]||(a[0]=S('<div class="overview-section" data-v-3caf39af><div class="card" data-v-3caf39af><h2 class="card-title" data-v-3caf39af>诗词数量</h2><b class="card-content" data-v-3caf39af> 唐诗：57,347首，宋词：19,484首，元曲：8771首 </b></div><div class="card" data-v-3caf39af><h2 class="card-title" data-v-3caf39af>诗人数量</h2><b class="card-content" data-v-3caf39af> 唐代：3662人，宋代：1489人，元代：230人 </b></div></div>',1)),w("div",A,[C(z,{class:"map-comp"}),C(k,{class:"chart-comp"})])]))},[["__scopeId","data-v-3caf39af"]]);export{F as default};
