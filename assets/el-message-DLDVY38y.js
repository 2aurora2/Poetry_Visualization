import{d as e,y as s,a as t,c as o,D as n,i as a,l,f as r,g as u,m as i,u as d,j as p,R as c,t as f,v as m,V as g,W as y,r as v,o as C,w as b,p as h,k as x,Q as w,F as S,X as T,E as B,H as N,K as _,Y as k}from"./index-CRdzRwT_.js";import{p as $,q as L,u as I,C as M,N as E,_ as H,w as z,A,n as D,O as j,T as R,P as U,Q as O,H as Z,R as F,U as q,E as Q,B as V,o as K,V as P}from"./base-DMZi27Xj.js";const W=$({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:L([String,Object,Array])},offset:{type:L(Array),default:[0,0]},badgeClass:{type:String}}),X=e({name:"ElBadge"});const Y=z(H(e({...X,props:W,setup(e,{expose:y}){const v=e,C=I("badge"),b=s((()=>v.isDot?"":M(v.value)&&M(v.max)&&v.max<v.value?`${v.max}+`:`${v.value}`)),h=s((()=>{var e,s,t,o,n;return[{backgroundColor:v.color,marginRight:E(-(null!=(s=null==(e=v.offset)?void 0:e[0])?s:0)),marginTop:E(null!=(o=null==(t=v.offset)?void 0:t[1])?o:0)},null!=(n=v.badgeStyle)?n:{}]}));return y({content:b}),(e,s)=>(t(),o("div",{class:i(d(C).b())},[n(e.$slots,"default"),a(g,{name:`${d(C).namespace.value}-zoom-in-center`,persisted:""},{default:l((()=>[r(u("sup",{class:i([d(C).e("content"),d(C).em("content",e.type),d(C).is("fixed",!!e.$slots.default),d(C).is("dot",e.isDot),d(C).is("hide-zero",!e.showZero&&0===v.value),e.badgeClass]),style:p(d(h))},[n(e.$slots,"content",{value:d(b)},(()=>[c(f(d(b)),1)]))],6),[[m,!e.hidden&&(d(b)||e.isDot||e.$slots.content)]])])),_:3},8,["name"])],2))}}),[["__file","badge.vue"]])),G={},J=["success","info","warning","error"],ee={customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:D?document.body:void 0},se=$({customClass:{type:String,default:ee.customClass},center:{type:Boolean,default:ee.center},dangerouslyUseHTMLString:{type:Boolean,default:ee.dangerouslyUseHTMLString},duration:{type:Number,default:ee.duration},icon:{type:A,default:ee.icon},id:{type:String,default:ee.id},message:{type:L([String,Object,Function]),default:ee.message},onClose:{type:L(Function),default:ee.onClose},showClose:{type:Boolean,default:ee.showClose},type:{type:String,values:J,default:ee.type},plain:{type:Boolean,default:ee.plain},offset:{type:Number,default:ee.offset},zIndex:{type:Number,default:ee.zIndex},grouping:{type:Boolean,default:ee.grouping},repeatNum:{type:Number,default:ee.repeatNum}}),te=y([]),oe=e=>{const{prev:s}=(e=>{const s=te.findIndex((s=>s.id===e)),t=te[s];let o;return s>0&&(o=te[s-1]),{current:t,prev:o}})(e);return s?s.vm.exposed.bottom.value:0},ne=e({name:"ElMessage"});var ae=H(e({...ne,props:se,emits:{destroy:()=>!0},setup(e,{expose:c}){const y=e,{Close:B}=F,{ns:N,zIndex:_}=j("message"),{currentZIndex:k,nextZIndex:$}=_,L=v(),I=v(!1),M=v(0);let E;const H=s((()=>y.type?"error"===y.type?"danger":y.type:"info")),z=s((()=>{const e=y.type;return{[N.bm("icon",e)]:e&&R[e]}})),A=s((()=>y.icon||R[y.type]||"")),D=s((()=>oe(y.id))),V=s((()=>((e,s)=>te.findIndex((s=>s.id===e))>0?16:s)(y.id,y.offset)+D.value)),K=s((()=>M.value+V.value)),P=s((()=>({top:`${V.value}px`,zIndex:k.value})));function W(){0!==y.duration&&({stop:E}=q((()=>{G()}),y.duration))}function X(){null==E||E()}function G(){I.value=!1}return C((()=>{W(),$(),I.value=!0})),b((()=>y.repeatNum),(()=>{X(),W()})),U(document,"keydown",(function({code:e}){e===Q.esc&&G()})),O(L,(()=>{M.value=L.value.getBoundingClientRect().height})),c({visible:I,bottom:K,close:G}),(e,s)=>(t(),h(g,{name:d(N).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:s=>e.$emit("destroy"),persisted:""},{default:l((()=>[r(u("div",{id:e.id,ref_key:"messageRef",ref:L,class:i([d(N).b(),{[d(N).m(e.type)]:e.type},d(N).is("center",e.center),d(N).is("closable",e.showClose),d(N).is("plain",e.plain),e.customClass]),style:p(d(P)),role:"alert",onMouseenter:X,onMouseleave:W},[e.repeatNum>1?(t(),h(d(Y),{key:0,value:e.repeatNum,type:d(H),class:i(d(N).e("badge"))},null,8,["value","type","class"])):x("v-if",!0),d(A)?(t(),h(d(Z),{key:1,class:i([d(N).e("icon"),d(z)])},{default:l((()=>[(t(),h(w(d(A))))])),_:1},8,["class"])):x("v-if",!0),n(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(t(),o(S,{key:1},[x(" Caution here, message could've been compromised, never use user's input as message "),u("p",{class:i(d(N).e("content")),innerHTML:e.message},null,10,["innerHTML"])],2112)):(t(),o("p",{key:0,class:i(d(N).e("content"))},f(e.message),3))])),e.showClose?(t(),h(d(Z),{key:2,class:i(d(N).e("closeBtn")),onClick:T(G,["stop"])},{default:l((()=>[a(d(B))])),_:1},8,["class","onClick"])):x("v-if",!0)],46,["id"]),[[m,I.value]])])),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}}),[["__file","message.vue"]]);let le=1;const re=e=>{const s=!e||B(e)||N(e)||_(e)?{message:e}:e,t={...ee,...s};if(t.appendTo){if(B(t.appendTo)){let e=document.querySelector(t.appendTo);K(e)||(e=document.body),t.appendTo=e}}else t.appendTo=document.body;return V(G.grouping)&&!t.grouping&&(t.grouping=G.grouping),M(G.duration)&&3e3===t.duration&&(t.duration=G.duration),M(G.offset)&&16===t.offset&&(t.offset=G.offset),V(G.showClose)&&!t.showClose&&(t.showClose=G.showClose),t},ue=({appendTo:e,...s},t)=>{const o="message_"+le++,n=s.onClose,l=document.createElement("div"),r={...s,id:o,onClose:()=>{null==n||n(),(e=>{const s=te.indexOf(e);if(-1===s)return;te.splice(s,1);const{handler:t}=e;t.close()})(p)},onDestroy:()=>{k(null,l)}},u=a(ae,r,_(r.message)||N(r.message)?{default:_(r.message)?r.message:()=>r.message}:null);u.appContext=t||ie._context,k(u,l),e.appendChild(l.firstElementChild);const i=u.component,d={close:()=>{i.exposed.visible.value=!1}},p={id:o,vnode:u,vm:i,handler:d,props:u.component.props};return p},ie=(e={},s)=>{if(!D)return{close:()=>{}};const t=re(e);if(t.grouping&&te.length){const e=te.find((({vnode:e})=>{var s;return(null==(s=e.props)?void 0:s.message)===t.message}));if(e)return e.props.repeatNum+=1,e.props.type=t.type,e.handler}if(M(G.max)&&te.length>=G.max)return{close:()=>{}};const o=ue(t,s);return te.push(o),o.handler};J.forEach((e=>{ie[e]=(s={},t)=>{const o=re(s);return ie({...o,type:e},t)}})),ie.closeAll=function(e){for(const s of te)e&&e!==s.props.type||s.handler.close()},ie._context=null;const de=P(ie,"$message");export{de as E};
