import{bX as e,bY as t,ag as a,w as l,v as i,q as r,x as o,c0 as n,ex as s,ey as c,a9 as g,ez as d,_ as h,Z as u,ae as b,cs as y,bw as p,aM as m,bx as f,bk as v,bl as S,bi as x,bj as w,a5 as A,c1 as L,cz as C,c2 as M,P as T,c3 as D,by as N,ab as W,bz as I,a0 as k,c4 as P,eA as _,b8 as E,bB as O,dH as z}from"./installCanvasRenderer-DOho8wCD.js";var B=2*Math.PI,G=Math.PI/180;function V(e,t){return a(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function R(e,t){var a=V(e,t),r=e.get("center"),o=e.get("radius");l(o)||(o=[0,o]);var n,s,c=i(a.width,t.getWidth()),g=i(a.height,t.getHeight()),d=Math.min(c,g),h=i(o[0],d/2),u=i(o[1],d/2),b=e.coordinateSystem;if(b){var y=b.dataToPoint(r);n=y[0]||0,s=y[1]||0}else l(r)||(r=[r,r]),n=i(r[0],c)+a.x,s=i(r[1],g)+a.y;return{cx:n,cy:s,r0:h,r:u}}function U(a,l,i){l.eachSeriesByType(a,(function(a){var l=a.getData(),r=l.mapDimension("value"),o=V(a,i),n=R(a,i),s=n.cx,c=n.cy,g=n.r,d=n.r0,h=-a.get("startAngle")*G,u=a.get("endAngle"),b=a.get("padAngle")*G;u="auto"===u?h-B:-u*G;var y=a.get("minAngle")*G+b,p=0;l.each(r,(function(e){!isNaN(e)&&p++}));var m=l.getSum(r),f=Math.PI/(m||p)*2,v=a.get("clockwise"),S=a.get("roseType"),x=a.get("stillShowZeroSum"),w=l.getDataExtent(r);w[0]=0;var A=v?1:-1,L=[h,u],C=A*b/2;e(L,!v),h=L[0],u=L[1];var M=Y(a);M.startAngle=h,M.endAngle=u,M.clockwise=v;var T=Math.abs(u-h),D=T,N=0,W=h;if(l.setLayout({viewRect:o,r:g}),l.each(r,(function(e,a){var i;if(isNaN(e))l.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:v,cx:s,cy:c,r0:d,r:S?NaN:g});else{(i="area"!==S?0===m&&x?f:e*f:T/p)<y?(i=y,D-=y):N+=e;var r=W+A*i,o=0,n=0;b>i?n=o=W+A*i/2:(o=W+C,n=r-C),l.setItemLayout(a,{angle:i,startAngle:o,endAngle:n,clockwise:v,cx:s,cy:c,r0:d,r:S?t(e,w,[d,g]):g}),W=r}})),D<B&&p)if(D<=.001){var I=T/p;l.each(r,(function(e,t){if(!isNaN(e)){var a=l.getItemLayout(t);a.angle=I;var i=0,r=0;I<b?r=i=h+A*(t+.5)*I:(i=h+A*t*I+C,r=h+A*(t+1)*I-C),a.startAngle=i,a.endAngle=r}}))}else f=D/N,W=h,l.each(r,(function(e,t){if(!isNaN(e)){var a=l.getItemLayout(t),i=a.angle===y?y:e*f,r=0,o=0;i<b?o=r=W+A*i/2:(r=W+C,o=W+A*i-C),a.startAngle=r,a.endAngle=o,W+=A*i}}))}))}var Y=r();function X(e){return{seriesType:e,reset:function(e,t){var a=t.findComponents({mainType:"legend"});if(a&&a.length){var l=e.getData();l.filterSelf((function(e){for(var t=l.getName(e),i=0;i<a.length;i++)if(!a[i].isSelected(t))return!1;return!0}))}}}}var q=Math.PI/180;function H(e,t,a,l,i,r,o,n,s,c){if(!(e.length<2)){for(var g=e.length,h=0;h<g;h++)if("outer"===e[h].position&&"labelLine"===e[h].labelAlignTo){var u=e[h].label.x-c;e[h].linePoints[1][0]+=u,e[h].label.x=c}d(e,s,s+o)&&function(e){for(var r={list:[],maxY:0},o={list:[],maxY:0},n=0;n<e.length;n++)if("none"===e[n].labelAlignTo){var s=e[n],c=s.label.y>a?o:r,g=Math.abs(s.label.y-a);if(g>=c.maxY){var d=s.label.x-t-s.len2*i,h=l+s.len,u=Math.abs(d)<h?Math.sqrt(g*g/(1-d*d/h/h)):h;c.rB=u,c.maxY=g}c.list.push(s)}b(r),b(o)}(e)}function b(e){for(var r=e.rB,o=r*r,n=0;n<e.list.length;n++){var s=e.list[n],c=Math.abs(s.label.y-a),g=l+s.len,d=g*g,h=Math.sqrt(Math.abs((1-c*c/o)*d)),u=t+(h+s.len2)*i,b=u-s.label.x;Z(s,s.targetTextWidth-b*i,!0),s.label.x=u}}}function Z(e,t,a){if(void 0===a&&(a=!1),null==e.labelStyleWidth){var l=e.label,i=l.style,r=e.rect,o=i.backgroundColor,n=i.padding,s=n?n[1]+n[3]:0,c=i.overflow,g=r.width+(o?0:s);if(t<g||a){var d=r.height;if(c&&c.match("break")){l.setStyle("backgroundColor",null),l.setStyle("width",t-s);var h=l.getBoundingRect();l.setStyle("width",Math.ceil(h.width)),l.setStyle("backgroundColor",o)}else{var u=t-s,b=t<g?u:a?u>e.unconstrainedWidth?null:u:null;l.setStyle("width",b)}var y=l.getBoundingRect();r.width=y.width;var p=(l.style.margin||0)+2.1;r.height=y.height+p,r.y-=(r.height-d)/2}}}function F(e){return"center"===e.position}function j(e){var t,a,l=e.getData(),r=[],d=!1,h=(e.get("minShowLabelAngle")||0)*q,u=l.getLayout("viewRect"),b=l.getLayout("r"),y=u.width,p=u.x,m=u.y,f=u.height;function v(e){e.ignore=!0}l.each((function(e){var s=l.getItemGraphicEl(e),c=s.shape,u=s.getTextContent(),m=s.getTextGuideLine(),f=l.getItemModel(e),S=f.getModel("label"),x=S.get("position")||f.get(["emphasis","label","position"]),w=S.get("distanceToLabelLine"),A=S.get("alignTo"),L=i(S.get("edgeDistance"),y),C=S.get("bleedMargin"),M=f.getModel("labelLine"),T=M.get("length");T=i(T,y);var D=M.get("length2");if(D=i(D,y),Math.abs(c.endAngle-c.startAngle)<h)return o(u.states,v),u.ignore=!0,void(m&&(o(m.states,v),m.ignore=!0));if(function(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(u)){var N,W,I,k,P=(c.startAngle+c.endAngle)/2,_=Math.cos(P),E=Math.sin(P);t=c.cx,a=c.cy;var O="inside"===x||"inner"===x;if("center"===x)N=c.cx,W=c.cy,k="center";else{var z=(O?(c.r+c.r0)/2*_:c.r*_)+t,B=(O?(c.r+c.r0)/2*E:c.r*E)+a;if(N=z+3*_,W=B+3*E,!O){var G=z+_*(T+b-c.r),V=B+E*(T+b-c.r),R=G+(_<0?-1:1)*D;N="edge"===A?_<0?p+L:p+y-L:R+(_<0?-w:w),W=V,I=[[z,B],[G,V],[R,V]]}k=O?"center":"edge"===A?_>0?"right":"left":_>0?"left":"right"}var U=Math.PI,Y=0,X=S.get("rotate");if(g(X))Y=X*(U/180);else if("center"===x)Y=0;else if("radial"===X||!0===X){Y=_<0?-P+U:-P}else if("tangential"===X&&"outside"!==x&&"outer"!==x){var q=Math.atan2(_,E);q<0&&(q=2*U+q),E>0&&(q=U+q),Y=q-U}if(d=!!Y,u.x=N,u.y=W,u.rotation=Y,u.setStyle({verticalAlign:"middle"}),O){u.setStyle({align:k});var H=u.states.select;H&&(H.x+=u.x,H.y+=u.y)}else{var Z=u.getBoundingRect().clone();Z.applyTransform(u.getComputedTransform());var F=(u.style.margin||0)+2.1;Z.y-=F/2,Z.height+=F,r.push({label:u,labelLine:m,position:x,len:T,len2:D,minTurnAngle:M.get("minTurnAngle"),maxSurfaceAngle:M.get("maxSurfaceAngle"),surfaceNormal:new n(_,E),linePoints:I,textAlign:k,labelDistance:w,labelAlignTo:A,edgeDistance:L,bleedMargin:C,rect:Z,unconstrainedWidth:Z.width,labelStyleWidth:u.style.width})}s.setTextConfig({inside:O})}})),!d&&e.get("avoidLabelOverlap")&&function(e,t,a,l,i,r,o,n){for(var s=[],c=[],g=Number.MAX_VALUE,d=-Number.MAX_VALUE,h=0;h<e.length;h++){var u=e[h].label;F(e[h])||(u.x<t?(g=Math.min(g,u.x),s.push(e[h])):(d=Math.max(d,u.x),c.push(e[h])))}for(h=0;h<e.length;h++)if(!F(p=e[h])&&p.linePoints){if(null!=p.labelStyleWidth)continue;u=p.label;var b=p.linePoints,y=void 0;y="edge"===p.labelAlignTo?u.x<t?b[2][0]-p.labelDistance-o-p.edgeDistance:o+i-p.edgeDistance-b[2][0]-p.labelDistance:"labelLine"===p.labelAlignTo?u.x<t?g-o-p.bleedMargin:o+i-d-p.bleedMargin:u.x<t?u.x-o-p.bleedMargin:o+i-u.x-p.bleedMargin,p.targetTextWidth=y,Z(p,y)}for(H(c,t,a,l,1,0,r,0,n,d),H(s,t,a,l,-1,0,r,0,n,g),h=0;h<e.length;h++){var p;if(!F(p=e[h])&&p.linePoints){u=p.label,b=p.linePoints;var m="edge"===p.labelAlignTo,f=u.style.padding,v=f?f[1]+f[3]:0,S=u.style.backgroundColor?0:v,x=p.rect.width+S,w=b[1][0]-b[2][0];m?u.x<t?b[2][0]=o+p.edgeDistance+x+p.labelDistance:b[2][0]=o+i-p.edgeDistance-x-p.labelDistance:(u.x<t?b[2][0]=u.x+p.labelDistance:b[2][0]=u.x-p.labelDistance,b[1][0]=b[2][0]+w),b[1][1]=b[2][1]=u.y}}}(r,t,a,b,y,f,p,m);for(var S=0;S<r.length;S++){var x=r[S],w=x.label,A=x.labelLine,L=isNaN(w.x)||isNaN(w.y);if(w){w.setStyle({align:x.textAlign}),L&&(o(w.states,v),w.ignore=!0);var C=w.states.select;C&&(C.x+=w.x,C.y+=w.y)}if(A){var M=x.linePoints;L||!M?(o(A.states,v),A.ignore=!0):(s(M,x.minTurnAngle),c(M,x.surfaceNormal,x.maxSurfaceAngle),A.setShape({points:M}),w.__hostTarget.textGuideLineConfig={anchor:new n(M[0][0],M[0][1])})}}}var J=function(e){function t(t,a,l){var i=e.call(this)||this;i.z2=2;var r=new u;return i.setTextContent(r),i.updateData(t,a,l,!0),i}return h(t,e),t.prototype.updateData=function(e,t,a,l){var i=this,r=e.hostModel,o=e.getItemModel(t),n=o.getModel("emphasis"),s=e.getItemLayout(t),c=b(y(o.getModel("itemStyle"),s,!0),s);if(isNaN(c.startAngle))i.setShape(c);else{if(l){i.setShape(c);var g=r.getShallow("animationType");r.ecModel.ssr?(p(i,{scaleX:0,scaleY:0},r,{dataIndex:t,isFrom:!0}),i.originX=c.cx,i.originY=c.cy):"scale"===g?(i.shape.r=s.r0,p(i,{shape:{r:s.r}},r,t)):null!=a?(i.setShape({startAngle:a,endAngle:a}),p(i,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},r,t)):(i.shape.endAngle=s.startAngle,m(i,{shape:{endAngle:s.endAngle}},r,t))}else f(i),m(i,{shape:c},r,t);i.useStyle(e.getItemVisual(t,"style")),v(i,o);var d=(s.startAngle+s.endAngle)/2,h=r.get("selectedOffset"),u=Math.cos(d)*h,x=Math.sin(d)*h,w=o.getShallow("cursor");w&&i.attr("cursor",w),this._updateLabel(r,e,t),i.ensureState("emphasis").shape=b({r:s.r+(n.get("scale")&&n.get("scaleSize")||0)},y(n.getModel("itemStyle"),s)),b(i.ensureState("select"),{x:u,y:x,shape:y(o.getModel(["select","itemStyle"]),s)}),b(i.ensureState("blur"),{shape:y(o.getModel(["blur","itemStyle"]),s)});var A=i.getTextGuideLine(),L=i.getTextContent();A&&b(A.ensureState("select"),{x:u,y:x}),b(L.ensureState("select"),{x:u,y:x}),S(this,n.get("focus"),n.get("blurScope"),n.get("disabled"))}},t.prototype._updateLabel=function(e,t,a){var l=this,i=t.getItemModel(a),r=i.getModel("labelLine"),o=t.getItemVisual(a,"style"),n=o&&o.fill,s=o&&o.opacity;x(l,w(i),{labelFetcher:t.hostModel,labelDataIndex:a,inheritColor:n,defaultOpacity:s,defaultText:e.getFormattedLabel(a,"normal")||t.getName(a)});var c=l.getTextContent();l.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var g=e.get(["label","position"]);if("outside"!==g&&"outer"!==g)l.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new A,this.setTextGuideLine(d)),L(this,M(i),{stroke:n,opacity:C(r.get(["lineStyle","opacity"]),s,1)})}},t}(T),$=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return h(t,e),t.prototype.render=function(e,t,a,l){var i,r=e.getData(),o=this._data,n=this.group;if(!o&&r.count()>0){for(var s=r.getItemLayout(0),c=1;isNaN(s&&s.startAngle)&&c<r.count();++c)s=r.getItemLayout(c);s&&(i=s.startAngle)}if(this._emptyCircleSector&&n.remove(this._emptyCircleSector),0===r.count()&&e.get("showEmptyCircle")){var g=Y(e),d=new T({shape:b(R(e,a),g)});d.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,n.add(d)}r.diff(o).add((function(e){var t=new J(r,e,i);r.setItemGraphicEl(e,t),n.add(t)})).update((function(e,t){var a=o.getItemGraphicEl(t);a.updateData(r,e,i),a.off("click"),n.add(a),r.setItemGraphicEl(e,a)})).remove((function(t){var a=o.getItemGraphicEl(t);D(a,e,t)})).execute(),j(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=r)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var a=t.getData().getItemLayout(0);if(a){var l=e[0]-a.cx,i=e[1]-a.cy,r=Math.sqrt(l*l+i*i);return r<=a.r&&r>=a.r0}},t.type="pie",t}(N),K=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},e.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},e.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},e}(),Q=r(),ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new K(W(this.getData,this),W(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return I(this,{coordDimensions:["value"],encodeDefaulter:k(P,this)})},t.prototype.getDataParams=function(t){var a=this.getData(),l=Q(a),i=l.seats;if(!i){var r=[];a.each(a.mapDimension("value"),(function(e){r.push(e)})),i=l.seats=_(r,a.hostModel.get("percentPrecision"))}var o=e.prototype.getDataParams.call(this,t);return o.percent=i[t]||0,o.$vars.push("percent"),o},t.prototype._defaultLabelLine=function(e){E(e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(O);function te(e){e.registerChartView($),e.registerSeriesModel(ee),z("pie",e.registerAction),e.registerLayout(k(U,"pie")),e.registerProcessor(X("pie")),e.registerProcessor({seriesType:"pie",reset:function(e,t){var a=e.getData();a.filterSelf((function(e){var t=a.mapDimension("value"),l=a.get(t,e);return!(g(l)&&!isNaN(l)&&l<0)}))}})}const ae={color:["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d","#787464","#cc7e63","#724e58","#4b565b"],backgroundColor:"rgba(254,248,239,0)",textStyle:{},title:{textStyle:{color:"#333333"},subtextStyle:{color:"#aaaaaa"}},line:{itemStyle:{borderWidth:1},lineStyle:{width:2},symbolSize:4,symbol:"emptyCircle",smooth:!1},radar:{itemStyle:{borderWidth:1},lineStyle:{width:2},symbolSize:4,symbol:"emptyCircle",smooth:!1},bar:{itemStyle:{barBorderWidth:0,barBorderColor:"#ccc"}},pie:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},scatter:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},boxplot:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},parallel:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},sankey:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},funnel:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},gauge:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},candlestick:{itemStyle:{color:"#c23531",color0:"#314656",borderColor:"#c23531",borderColor0:"#314656",borderWidth:1}},graph:{itemStyle:{borderWidth:0,borderColor:"#ccc"},lineStyle:{width:1,color:"#aaaaaa"},symbolSize:4,symbol:"emptyCircle",smooth:!1,color:["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d","#787464","#cc7e63","#724e58","#4b565b"],label:{color:"#1f1d1d"}},map:{itemStyle:{areaColor:"#eeeeee",borderColor:"#444444",borderWidth:.5},label:{color:"#000000"},emphasis:{itemStyle:{areaColor:"rgba(255,215,0,0.8)",borderColor:"#444444",borderWidth:1},label:{color:"rgb(100,0,0)"}}},geo:{itemStyle:{areaColor:"#eeeeee",borderColor:"#444444",borderWidth:.5},label:{color:"#000000"},emphasis:{itemStyle:{areaColor:"rgba(255,215,0,0.8)",borderColor:"#444444",borderWidth:1},label:{color:"rgb(100,0,0)"}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#333"}},axisTick:{show:!0,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#333"},splitLine:{show:!1,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"#333"}},axisTick:{show:!0,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#333"},splitLine:{show:!0,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"#333"}},axisTick:{show:!0,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#333"},splitLine:{show:!0,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"#333"}},axisTick:{show:!0,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#333"},splitLine:{show:!0,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},toolbox:{iconStyle:{borderColor:"#999999"},emphasis:{iconStyle:{borderColor:"#666666"}}},legend:{textStyle:{color:"#333333"}},tooltip:{axisPointer:{lineStyle:{color:"#cccccc",width:1},crossStyle:{color:"#cccccc",width:1}}},timeline:{lineStyle:{color:"#293c55",width:1},itemStyle:{color:"#293c55",borderWidth:1},controlStyle:{color:"#293c55",borderColor:"#293c55",borderWidth:.5},checkpointStyle:{color:"#e43c59",borderColor:"#c23531"},label:{color:"#293c55"},emphasis:{itemStyle:{color:"#a9334c"},controlStyle:{color:"#293c55",borderColor:"#293c55",borderWidth:.5},label:{color:"#293c55"}}},visualMap:{color:["#bf444c","#d88273","#f6efa6"]},dataZoom:{backgroundColor:"rgba(47,69,84,0)",dataBackgroundColor:"rgba(47,69,84,0.3)",fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#333333"}},markPoint:{label:{color:"#1f1d1d"},emphasis:{label:{color:"#1f1d1d"}}}};export{K as L,X as d,te as i,ae as v};
