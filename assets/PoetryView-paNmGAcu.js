import{i as t,j as e,k as i,_ as n,a as o,b as r,t as a,s,y as l,c as u,d,e as h,f as c,g as p,h as g}from"./emotion_count-Bbb-BWOI.js";import{_ as f,f as y,g as m,B as v,h as x,t as b,j as _,A as S,m as w,k as M,l as I,C as A,S as C,n as D,o as T,p as L,q as P,s as N,v as k,w as E,x as R,y as V,z,D as O,E as B,F as W,G,H as F,R as H,L as Y,I as X,J as U,K as Z,M as j,Z as q,N as K,O as $,P as Q,Q as J,T as tt,U as et,V as it,W as nt,X as ot,u as rt,Y as at,$ as st,a0 as lt,a1 as ut,a2 as dt,a3 as ht,a4 as ct,a5 as pt,a6 as gt,a7 as ft,a8 as yt,a9 as mt,aa as vt,ab as xt,ac as bt,ad as _t,ae as St,af as wt,ag as Mt,ah as It,ai as At,aj as Ct,ak as Dt,al as Tt,am as Lt,an as Pt,ao as Nt,ap as kt,aq as Et,ar as Rt,as as Vt,at as zt,au as Ot,av as Bt,aw as Wt,ax as Gt,ay as Ft,az as Ht,aA as Yt,aB as Xt,aC as Ut,aD as Zt,aE as jt,aF as qt,aG as Kt,aH as $t,aI as Qt,aJ as Jt,aK as te,aL as ee,aM as ie,aN as ne,aO as oe,aP as re,aQ as ae,aR as se,aS as le,aT as ue,aU as de,aV as he,aW as ce,aX as pe,aY as ge,aZ as fe,a_ as ye,a$ as me,b0 as ve,b1 as xe,b2 as be,b3 as _e,b4 as Se,b5 as we,b6 as Me,b7 as Ie,b8 as Ae,b9 as Ce,ba as De,bb as Te,bc as Le,bd as Pe,be as Ne,bf as ke,bg as Ee,bh as Re,bi as Ve,bj as ze,bk as Oe,bl as Be,bm as We,bn as Ge,bo as Fe,bp as He,bq as Ye,br as Xe,bs as Ue,bt as Ze,bu as je,bv as qe,bw as Ke,bx as $e,by as Qe,bz as Je,bA as ti,bB as ei,bC as ii,bD as ni,bE as oi,bF as ri,bG as ai,bH as si,bI as li,bJ as ui,bK as di,bL as hi,bM as ci,bN as pi,bO as gi,bP as fi,bQ as yi,bR as mi,bS as vi,bT as xi,bU as bi,bV as _i,bW as Si,bX as wi,bY as Mi,bZ as Ii,b_ as Ai,b$ as Ci,c0 as Di,c1 as Ti,c2 as Li,c3 as Pi,c4 as Ni,c5 as ki,c6 as Ei,c7 as Ri,c8 as Vi,c9 as zi,ca as Oi,cb as Bi,cc as Wi,cd as Gi,ce as Fi,cf as Hi,cg as Yi,ch as Xi,ci as Ui,cj as Zi,ck as ji,cl as qi,cm as Ki,cn as $i,co as Qi,cp as Ji,cq as tn,cr as en,cs as nn,ct as on,cu as rn,cv as an,cw as sn,cx as ln,cy as un,cz as dn,cA as hn,cB as cn,cC as pn,cD as gn,cE as fn,cF as yn,cG as mn,cH as vn,cI as xn,cJ as bn,cK as _n,cL as Sn,cM as wn,cN as Mn,cO as In,cP as An,cQ as Cn,cR as Dn,cS as Tn,cT as Ln,cU as Pn,cV as Nn,cW as kn,cX as En,cY as Rn,cZ as Vn,c_ as zn,c$ as On,d0 as Bn,d1 as Wn,d2 as Gn,d3 as Fn,d4 as Hn,d5 as Yn,d6 as Xn,d7 as Un,d8 as Zn,d9 as jn,b as qn,e as Kn,i as $n,a as Qn,c as Jn,d as to}from"./installCanvasRenderer-DOho8wCD.js";import{d as eo,e as io,f as no,r as oo,E as ro,c as ao,a as so,b as lo,g as uo,i as ho,h as co,j as po}from"./install-D1qi70KU.js";import{c as go,R as fo,V as yo,u as mo,d as vo,e as xo,f as bo,S as _o,g as So,B as wo,b as Mo,i as Io,a as Ao}from"./install-B8Boz6OP.js";import{L as Co,d as Do,i as To}from"./vintage-Cad8kZPO.js";import{i as Lo}from"./install-4l2eCgn0.js";import{L as Po,l as No,a as ko,i as Eo,b as Ro,c as Vo,d as zo,e as Oo}from"./install-D1IpLOJF.js";import{d as Bo,s as Wo,w as Go,o as Fo,a as Ho,c as Yo,r as Xo,f as Uo,F as Zo,j as jo,g as qo,n as Ko,t as $o,_ as Qo}from"./index-qBsUScAg.js";var Jo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.makeElOption=function(t,e,i,n,o){var r=i.axis;"angle"===r.dim&&(this.animationThreshold=Math.PI/18);var a=r.polar,s=a.getOtherAxis(r).getExtent(),l=r.dataToCoord(e),u=n.get("type");if(u&&"none"!==u){var d=y(n),h=tr[u](r,a,l,s);h.style=d,t.graphicKey=h.type,t.pointer=h}var c=function(t,e,i,n,o){var r=e.axis,a=r.dataToCoord(t),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,u,d,h=n.getRadiusAxis().getExtent();if("radius"===r.dim){var c=I();x(c,c,s),b(c,c,[n.cx,n.cy]),l=_([a,-o],c);var p=e.getModel("axisLabel").get("rotate")||0,g=S.innerTextLayout(s,p*Math.PI/180,-1);u=g.textAlign,d=g.textVerticalAlign}else{var f=h[1];l=n.coordToPoint([f+o,a]);var y=n.cx,m=n.cy;u=Math.abs(l[0]-y)/f<.3?"center":l[0]>y?"left":"right",d=Math.abs(l[1]-m)/f<.3?"middle":l[1]>m?"top":"bottom"}return{position:l,align:u,verticalAlign:d}}(e,i,0,a,n.get(["label","margin"]));m(t,i,n,o,c)},e}(v);var tr={line:function(t,e,i,n){return"angle"===t.dim?{type:"Line",shape:w(e.coordToPoint([n[0],i]),e.coordToPoint([n[1],i]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:i}}},shadow:function(t,e,i,n){var o=Math.max(1,t.getBandWidth()),r=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:M(e.cx,e.cy,n[0],n[1],(-i-o/2)*r,(o/2-i)*r)}:{type:"Sector",shape:M(e.cx,e.cy,i-o/2,i+o/2,0,2*Math.PI)}}},er=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.findAxisModel=function(t){var e;return this.ecModel.eachComponent(t,(function(t){t.getCoordSysModel()===this&&(e=t)}),this),e},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(A),ir=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",C).models[0]},e.type="polarAxis",e}(A);D(ir,T);var nr=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.type="angleAxis",e}(ir),or=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.type="radiusAxis",e}(ir),rr=function(t){function e(e,i){return t.call(this,"radius",e,i)||this}return f(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e}(L);rr.prototype.dataToRadius=L.prototype.dataToCoord,rr.prototype.radiusToData=L.prototype.coordToData;var ar=P(),sr=function(t){function e(e,i){return t.call(this,"angle",e,i||[0,360])||this}return f(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,e=t.getLabelModel(),i=t.scale,n=i.getExtent(),o=i.count();if(n[1]-n[0]<1)return 0;var r=n[0],a=t.dataToCoord(r+1)-t.dataToCoord(r),s=Math.abs(a),l=N(null==r?"":r+"",e.getFont(),"center","top"),u=Math.max(l.height,7)/s;isNaN(u)&&(u=1/0);var d=Math.max(0,Math.floor(u)),h=ar(t.model),c=h.lastAutoInterval,p=h.lastTickCount;return null!=c&&null!=p&&Math.abs(c-d)<=1&&Math.abs(p-o)<=1&&c>d?d=c:(h.lastTickCount=o,h.lastAutoInterval=d),d},e}(L);sr.prototype.dataToAngle=L.prototype.dataToCoord,sr.prototype.angleToData=L.prototype.coordToData;var lr=["radius","angle"],ur=function(){function t(t){this.dimensions=lr,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new rr,this._angleAxis=new sr,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},t.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},t.prototype.getAxis=function(t){return this["_"+t+"Axis"]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(t){var e=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===t&&e.push(i),n.scale.type===t&&e.push(n),e},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},t.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},t.prototype.pointToData=function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},t.prototype.pointToCoord=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=this.getAngleAxis(),o=n.getExtent(),r=Math.min(o[0],o[1]),a=Math.max(o[0],o[1]);n.inverse?r=a-360:a=r+360;var s=Math.sqrt(e*e+i*i);e/=s,i/=s;for(var l=Math.atan2(-i,e)/Math.PI*180,u=l<r?1:-1;l<r||l>a;)l+=360*u;return[s,l]},t.prototype.coordToPoint=function(t){var e=t[0],i=t[1]/180*Math.PI;return[Math.cos(i)*e+this.cx,-Math.sin(i)*e+this.cy]},t.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var i=t.getExtent(),n=Math.PI/180,o=1e-4;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-i[0]*n,endAngle:-i[1]*n,clockwise:t.inverse,contain:function(t,e){var i=t-this.cx,n=e-this.cy,r=i*i+n*n,a=this.r,s=this.r0;return a!==s&&r-o<=a*a&&r+o>=s*s}}},t.prototype.convertToPixel=function(t,e,i){return dr(e)===this?this.dataToPoint(i):null},t.prototype.convertFromPixel=function(t,e,i){return dr(e)===this?this.pointToData(i):null},t}();function dr(t){var e=t.seriesModel,i=t.polarModel;return i&&i.coordinateSystem||e&&e.coordinateSystem}function hr(t,e){var i=this,n=i.getAngleAxis(),o=i.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),t.eachSeries((function(t){if(t.coordinateSystem===i){var e=t.getData();R(V(e,"radius"),(function(t){o.scale.unionExtentFromData(e,t)})),R(V(e,"angle"),(function(t){n.scale.unionExtentFromData(e,t)}))}})),z(n.scale,n.model),z(o.scale,o.model),"category"===n.type&&!n.onBand){var r=n.getExtent(),a=360/n.scale.count();n.inverse?r[1]+=a:r[1]-=a,n.setExtent(r[0],r[1])}}function cr(t,e){var i;if(t.type=e.get("type"),t.scale=O(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),function(t){return"angleAxis"===t.mainType}(e)){t.inverse=t.inverse!==e.get("clockwise");var n=e.get("startAngle"),o=null!==(i=e.get("endAngle"))&&void 0!==i?i:n+(t.inverse?-360:360);t.setExtent(n,o)}e.axis=t,t.model=e}var pr={dimensions:lr,create:function(t,e){var i=[];return t.eachComponent("polar",(function(t,n){var o=new ur(n+"");o.update=hr;var r=o.getRadiusAxis(),a=o.getAngleAxis(),s=t.findAxisModel("radiusAxis"),l=t.findAxisModel("angleAxis");cr(r,s),cr(a,l),function(t,e,i){var n=e.get("center"),o=i.getWidth(),r=i.getHeight();t.cx=k(n[0],o),t.cy=k(n[1],r);var a=t.getRadiusAxis(),s=Math.min(o,r)/2,l=e.get("radius");null==l?l=[0,"100%"]:E(l)||(l=[0,l]);var u=[k(l[0],s),k(l[1],s)];a.inverse?a.setExtent(u[1],u[0]):a.setExtent(u[0],u[1])}(o,t,e),i.push(o),t.coordinateSystem=o,o.model=t})),t.eachSeries((function(t){if("polar"===t.get("coordinateSystem")){var e=t.getReferringComponents("polar",C).models[0];t.coordinateSystem=e.coordinateSystem}})),i}},gr=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function fr(t,e,i){e[1]>e[0]&&(e=e.slice().reverse());var n=t.coordToPoint([e[0],i]),o=t.coordToPoint([e[1],i]);return{x1:n[0],y1:n[1],x2:o[0],y2:o[1]}}function yr(t){return t.getRadiusAxis().inverse?0:1}function mr(t){var e=t[0],i=t[t.length-1];e&&i&&Math.abs(Math.abs(e.coord-i.coord)-360)<1e-4&&t.pop()}var vr=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.axisPointerClass="PolarAxisPointer",i}return f(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var i=t.axis,n=i.polar,o=n.getRadiusAxis().getExtent(),r=i.getTicksCoords(),a=i.getMinorTicksCoords(),s=B(i.getViewLabels(),(function(t){t=W(t);var e=i.scale,n="ordinal"===e.type?e.getRawOrdinalNumber(t.tickValue):t.tickValue;return t.coord=i.dataToCoord(n),t}));mr(s),mr(r),R(gr,(function(e){!t.get([e,"show"])||i.scale.isBlank()&&"axisLine"!==e||xr[e](this.group,t,n,r,a,o,s)}),this)}},e.type="angleAxis",e}(G),xr={axisLine:function(t,e,i,n,o,r){var a,s=e.getModel(["axisLine","lineStyle"]),l=i.getAngleAxis(),u=Math.PI/180,d=l.getExtent(),h=yr(i),c=h?0:1,p=360===Math.abs(d[1]-d[0])?"Circle":"Arc";(a=0===r[c]?new F[p]({shape:{cx:i.cx,cy:i.cy,r:r[h],startAngle:-d[0]*u,endAngle:-d[1]*u,clockwise:l.inverse},style:s.getLineStyle(),z2:1,silent:!0}):new H({shape:{cx:i.cx,cy:i.cy,r:r[h],r0:r[c]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,t.add(a)},axisTick:function(t,e,i,n,o,r){var a=e.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=r[yr(i)],u=B(n,(function(t){return new Y({shape:fr(i,[l,l+s],t.coord)})}));t.add(X(u,{style:U(a.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,i,n,o,r){if(o.length){for(var a=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=r[yr(i)],d=[],h=0;h<o.length;h++)for(var c=0;c<o[h].length;c++)d.push(new Y({shape:fr(i,[u,u+l],o[h][c].coord)}));t.add(X(d,{style:U(s.getModel("lineStyle").getLineStyle(),U(a.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,i,n,o,r,a){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),d=e.get("triggerEvent");R(a,(function(n,o){var a=l,h=n.tickValue,c=r[yr(i)],p=i.coordToPoint([c+u,n.coord]),g=i.cx,f=i.cy,y=Math.abs(p[0]-g)/c<.3?"center":p[0]>g?"left":"right",m=Math.abs(p[1]-f)/c<.3?"middle":p[1]>f?"top":"bottom";if(s&&s[h]){var v=s[h];Z(v)&&v.textStyle&&(a=new j(v.textStyle,l,l.ecModel))}var x=new q({silent:S.isLabelSilent(e),style:K(a,{x:p[0],y:p[1],fill:a.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:n.formattedLabel,align:y,verticalAlign:m})});if(t.add(x),d){var b=S.makeAxisEventDataBase(e);b.targetType="axisLabel",b.value=n.rawLabel,$(x).eventData=b}}),this)},splitLine:function(t,e,i,n,o,r){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],d=0;d<n.length;d++){var h=l++%s.length;u[h]=u[h]||[],u[h].push(new Y({shape:fr(i,r,n[d].coord)}))}for(d=0;d<u.length;d++)t.add(X(u[d],{style:U({stroke:s[d%s.length]},a.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,i,n,o,r){if(o.length){for(var a=e.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<o.length;l++)for(var u=0;u<o[l].length;u++)s.push(new Y({shape:fr(i,r,o[l][u].coord)}));t.add(X(s,{style:a.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,i,n,o,r){if(n.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],d=Math.PI/180,h=-n[0].coord*d,c=Math.min(r[0],r[1]),p=Math.max(r[0],r[1]),g=e.get("clockwise"),f=1,y=n.length;f<=y;f++){var m=f===y?n[0].coord:n[f].coord,v=l++%s.length;u[v]=u[v]||[],u[v].push(new Q({shape:{cx:i.cx,cy:i.cy,r0:c,r:p,startAngle:h,endAngle:-m*d,clockwise:g},silent:!0})),h=-m*d}for(f=0;f<u.length;f++)t.add(X(u[f],{style:U({fill:s[f%s.length]},a.getAreaStyle()),silent:!0}))}}},br=["axisLine","axisTickLabel","axisName"],_r=["splitLine","splitArea","minorSplitLine"],Sr=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.axisPointerClass="PolarAxisPointer",i}return f(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var i=this._axisGroup,n=this._axisGroup=new J;this.group.add(n);var o=t.axis,r=o.polar,a=r.getAngleAxis(),s=o.getTicksCoords(),l=o.getMinorTicksCoords(),u=a.getExtent()[0],d=o.getExtent(),h=function(t,e,i){return{position:[t.cx,t.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(r,t,u),c=new S(t,h);R(br,c.add,c),n.add(c.getGroup()),tt(i,n,t),R(_r,(function(e){t.get([e,"show"])&&!o.scale.isBlank()&&wr[e](this.group,t,r,u,d,s,l)}),this)}},e.type="radiusAxis",e}(G),wr={splitLine:function(t,e,i,n,o,r){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0,u=i.getAngleAxis(),d=Math.PI/180,h=u.getExtent(),c=360===Math.abs(h[1]-h[0])?"Circle":"Arc";s=s instanceof Array?s:[s];for(var p=[],g=0;g<r.length;g++){var f=l++%s.length;p[f]=p[f]||[],p[f].push(new F[c]({shape:{cx:i.cx,cy:i.cy,r:Math.max(r[g].coord,0),startAngle:-h[0]*d,endAngle:-h[1]*d,clockwise:u.inverse}}))}for(g=0;g<p.length;g++)t.add(X(p[g],{style:U({stroke:s[g%s.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,i,n,o,r,a){if(a.length){for(var s=e.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var d=0;d<a[u].length;d++)l.push(new et({shape:{cx:i.cx,cy:i.cy,r:a[u][d].coord}}));t.add(X(l,{style:U({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(t,e,i,n,o,r){if(r.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],d=r[0].coord,h=1;h<r.length;h++){var c=l++%s.length;u[c]=u[c]||[],u[c].push(new Q({shape:{cx:i.cx,cy:i.cy,r0:d,r:r[h].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),d=r[h].coord}for(h=0;h<u.length;h++)t.add(X(u[h],{style:U({fill:s[h%s.length]},a.getAreaStyle()),silent:!0}))}}};function Mr(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function Ir(t,e){return e.dim+t.model.componentIndex}function Ar(t,e,i){var n={},o=function(t){var e={};R(t,(function(t,i){var n=t.getData(),o=t.coordinateSystem,r=o.getBaseAxis(),a=Ir(o,r),s=r.getExtent(),l="category"===r.type?r.getBandWidth():Math.abs(s[1]-s[0])/n.count(),u=e[a]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=u.stacks;e[a]=u;var h=Mr(t);d[h]||u.autoWidthCount++,d[h]=d[h]||{width:0,maxWidth:0};var c=k(t.get("barWidth"),l),p=k(t.get("barMaxWidth"),l),g=t.get("barGap"),f=t.get("barCategoryGap");c&&!d[h].width&&(c=Math.min(u.remainedWidth,c),d[h].width=c,u.remainedWidth-=c),p&&(d[h].maxWidth=p),null!=g&&(u.gap=g),null!=f&&(u.categoryGap=f)}));var i={};return R(e,(function(t,e){i[e]={};var n=t.stacks,o=t.bandWidth,r=k(t.categoryGap,o),a=k(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,u=(s-r)/(l+(l-1)*a);u=Math.max(u,0),R(n,(function(t,e){var i=t.maxWidth;i&&i<u&&(i=Math.min(i,s),t.width&&(i=Math.min(i,t.width)),s-=i,t.width=i,l--)})),u=(s-r)/(l+(l-1)*a),u=Math.max(u,0);var d,h=0;R(n,(function(t,e){t.width||(t.width=u),d=t,h+=t.width*(1+a)})),d&&(h-=d.width*a);var c=-h/2;R(n,(function(t,n){i[e][n]=i[e][n]||{offset:c,width:t.width},c+=t.width*(1+a)}))})),i}(it(e.getSeriesByType(t),(function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type})));e.eachSeriesByType(t,(function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),i=t.coordinateSystem,r=i.getBaseAxis(),a=Ir(i,r),s=Mr(t),l=o[a][s],u=l.offset,d=l.width,h=i.getOtherAxis(r),c=t.coordinateSystem.cx,p=t.coordinateSystem.cy,g=t.get("barMinHeight")||0,f=t.get("barMinAngle")||0;n[s]=n[s]||[];for(var y=e.mapDimension(h.dim),m=e.mapDimension(r.dim),v=nt(e,y),x="radius"!==r.dim||!t.get("roundCap",!0),b=h.model.get("startValue"),_=h.dataToCoord(b||0),S=0,w=e.count();S<w;S++){var M=e.get(y,S),I=e.get(m,S),A=M>=0?"p":"n",C=_;v&&(n[s][I]||(n[s][I]={p:_,n:_}),C=n[s][I][A]);var D=void 0,T=void 0,L=void 0,P=void 0;if("radius"===h.dim){var N=h.dataToCoord(M)-_,k=r.dataToCoord(I);Math.abs(N)<g&&(N=(N<0?-1:1)*g),D=C,T=C+N,P=(L=k-u)-d,v&&(n[s][I][A]=T)}else{var E=h.dataToCoord(M,x)-_,R=r.dataToCoord(I);Math.abs(E)<f&&(E=(E<0?-1:1)*f),T=(D=R+u)+d,L=C,P=C+E,v&&(n[s][I][A]=P)}e.setItemLayout(S,{cx:c,cy:p,r0:D,r:T,startAngle:-L*Math.PI/180,endAngle:-P*Math.PI/180,clockwise:L>=P})}}}))}var Cr={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Dr={splitNumber:5},Tr=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.type="polar",e}(ot);var Lr=ct.value;function Pr(t,e){return U({show:e},t)}var Nr=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),i=this.get("scale"),n=this.get("axisLine"),o=this.get("axisTick"),r=this.get("axisLabel"),a=this.get("axisName"),s=this.get(["axisName","show"]),l=this.get(["axisName","formatter"]),u=this.get("axisNameGap"),d=this.get("triggerEvent"),h=B(this.get("indicator")||[],(function(h){null!=h.max&&h.max>0&&!h.min?h.min=0:null!=h.min&&h.min<0&&!h.max&&(h.max=0);var c=a;null!=h.color&&(c=U({color:h.color},a));var p=ut(W(h),{boundaryGap:t,splitNumber:e,scale:i,axisLine:n,axisTick:o,axisLabel:r,name:h.text,showName:s,nameLocation:"end",nameGap:u,nameTextStyle:c,triggerEvent:d},!1);if(dt(l)){var g=p.name;p.name=l.replace("{value}",null!=g?g:"")}else ht(l)&&(p.name=l(p.name,p));var f=new j(p,null,this.ecModel);return D(f,T.prototype),f.mainType="radar",f.componentIndex=this.componentIndex,f}),this);this._indicatorModels=h},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:ut({lineStyle:{color:"#bbb"}},Lr.axisLine),axisLabel:Pr(Lr.axisLabel,!1),axisTick:Pr(Lr.axisTick,!1),splitLine:Pr(Lr.splitLine,!0),splitArea:Pr(Lr.splitArea,!0),indicator:[]},e}(A),kr=["axisLine","axisTickLabel","axisName"],Er=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.render=function(t,e,i){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var e=t.coordinateSystem,i=e.getIndicatorAxes(),n=B(i,(function(t){var i=t.model.get("showName")?t.name:"";return new S(t.model,{axisName:i,position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}));R(n,(function(t){R(kr,t.add,t),this.group.add(t.getGroup())}),this)},e.prototype._buildSplitLineAndArea=function(t){var e=t.coordinateSystem,i=e.getIndicatorAxes();if(i.length){var n=t.get("shape"),o=t.getModel("splitLine"),r=t.getModel("splitArea"),a=o.getModel("lineStyle"),s=r.getModel("areaStyle"),l=o.get("show"),u=r.get("show"),d=a.get("color"),h=s.get("color"),c=E(d)?d:[d],p=E(h)?h:[h],g=[],f=[];if("circle"===n)for(var y=i[0].getTicksCoords(),m=e.cx,v=e.cy,x=0;x<y.length;x++){if(l)g[C(g,c,x)].push(new et({shape:{cx:m,cy:v,r:y[x].coord}}));if(u&&x<y.length-1)f[C(f,p,x)].push(new H({shape:{cx:m,cy:v,r0:y[x].coord,r:y[x+1].coord}}))}else{var b,_=B(i,(function(t,i){var n=t.getTicksCoords();return b=null==b?n.length-1:Math.min(n.length-1,b),B(n,(function(t){return e.coordToPoint(t.coord,i)}))})),S=[];for(x=0;x<=b;x++){for(var w=[],M=0;M<i.length;M++)w.push(_[M][x]);if(w[0]&&w.push(w[0].slice()),l)g[C(g,c,x)].push(new pt({shape:{points:w}}));if(u&&S)f[C(f,p,x-1)].push(new gt({shape:{points:w.concat(S)}}));S=w.slice().reverse()}}var I=a.getLineStyle(),A=s.getAreaStyle();R(f,(function(t,e){this.group.add(X(t,{style:U({stroke:"none",fill:p[e%p.length]},A),silent:!0}))}),this),R(g,(function(t,e){this.group.add(X(t,{style:U({fill:"none",stroke:c[e%c.length]},I),silent:!0}))}),this)}function C(t,e,i){var n=i%e.length;return t[n]=t[n]||[],n}},e.type="radar",e}(ot),Rr=function(t){function e(e,i,n){var o=t.call(this,e,i,n)||this;return o.type="value",o.angle=0,o.name="",o}return f(e,t),e}(L),Vr=function(){function t(t,e,i){this.dimensions=[],this._model=t,this._indicatorAxes=B(t.getIndicatorModels(),(function(t,e){var i="indicator_"+e,n=new Rr(i,new ft);return n.name=t.get("name"),n.model=t,t.axis=n,this.dimensions.push(i),n}),this),this.resize(t,i)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(t,e){var i=this._indicatorAxes[e];return this.coordToPoint(i.dataToCoord(t),e)},t.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},t.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=Math.sqrt(e*e+i*i);e/=n,i/=n;for(var o,r=Math.atan2(-i,e),a=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],d=Math.abs(r-u.angle);d<a&&(o=u,s=l,a=d)}return[s,+(o&&o.coordToData(n))]},t.prototype.resize=function(t,e){var i=t.get("center"),n=e.getWidth(),o=e.getHeight(),r=Math.min(n,o)/2;this.cx=k(i[0],n),this.cy=k(i[1],o),this.startAngle=t.get("startAngle")*Math.PI/180;var a=t.get("radius");(dt(a)||mt(a))&&(a=[0,a]),this.r0=k(a[0],r),this.r=k(a[1],r),R(this._indicatorAxes,(function(t,e){t.setExtent(this.r0,this.r);var i=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),t.angle=i}),this)},t.prototype.update=function(t,e){var i=this._indicatorAxes,n=this._model;R(i,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeriesByType("radar",(function(e,o){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===n){var r=e.getData();R(i,(function(t){t.scale.unionExtentFromData(r,r.mapDimension(t.dim))}))}}),this);var o=n.get("splitNumber"),r=new ft;r.setExtent(0,o),r.setInterval(1),R(i,(function(t,e){yt(t.scale,t.model,r)}))},t.prototype.convertToPixel=function(t,e,i){return null},t.prototype.convertFromPixel=function(t,e,i){return null},t.prototype.containPoint=function(t){return!1},t.create=function(e,i){var n=[];return e.eachComponent("radar",(function(o){var r=new t(o,e,i);n.push(r),o.coordinateSystem=r})),e.eachSeriesByType("radar",(function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("radarIndex")||0])})),n},t.dimensions=[],t}();function zr(t){t.registerCoordinateSystem("radar",Vr),t.registerComponentModel(Nr),t.registerComponentView(Er),t.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each((function(t){e.setItemVisual(t,"legendIcon","roundRect")})),e.setVisual("legendIcon","roundRect")}})}function Or(t){!function(t){if(t.parallel)return;var e=!1;R(t.series,(function(t){t&&"parallel"===t.type&&(e=!0)})),e&&(t.parallel=[{}])}(t),function(t){var e=vt(t.parallelAxis);R(e,(function(e){if(Z(e)){var i=e.parallelIndex||0,n=vt(t.parallel)[i];n&&n.parallelAxisDefault&&ut(e,n.parallelAxisDefault,!1)}}))}(t)}var Br=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.render=function(t,e,i){this._model=t,this._api=i,this._handlers||(this._handlers={},R(Wr,(function(t,e){i.getZr().on(e,this._handlers[e]=xt(t,this))}),this)),bt(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,e){_t(this,"_throttledDispatchExpand"),R(this._handlers,(function(t,i){e.getZr().off(i,t)})),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(St({type:"parallelAxisExpand"},t))},e.type="parallel",e}(ot),Wr={mousedown:function(t){Gr(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(Gr(this,"click")&&e){var i=[t.offsetX,t.offsetY];if(Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2)>5)return;var n=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==n.behavior&&this._dispatchExpand({axisExpandWindow:n.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&Gr(this,"mousemove")){var e=this._model,i=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),n=i.behavior;"jump"===n&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===n?null:{axisExpandWindow:i.axisExpandWindow,animation:"jump"===n?null:{duration:0}})}}};function Gr(t,e){var i=t._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===e}var Fr=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var e=this.option;t&&ut(e,t,!0),this._initDimensions()},e.prototype.contains=function(t,e){var i=t.get("parallelIndex");return null!=i&&e.getComponent("parallel",i)===this},e.prototype.setAxisExpand=function(t){R(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])}),this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],i=it(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(t){return(t.get("parallelIndex")||0)===this.componentIndex}),this);R(i,(function(i){t.push("dim"+i.get("dim")),e.push(i.componentIndex)}))},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(A),Hr=function(t){function e(e,i,n,o,r){var a=t.call(this,e,i,n)||this;return a.type=o||"value",a.axisIndex=r,a}return f(e,t),e.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},e}(L),Yr=R,Xr=Math.min,Ur=Math.max,Zr=Math.floor,jr=Math.ceil,qr=At,Kr=Math.PI,$r=function(){function t(t,e,i){this.type="parallel",this._axesMap=wt(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,i)}return t.prototype._init=function(t,e,i){var n=t.dimensions,o=t.parallelAxisIndex;Yr(n,(function(t,i){var n=o[i],r=e.getComponent("parallelAxis",n),a=this._axesMap.set(t,new Hr(t,O(r),[0,0],r.get("type"),n)),s="category"===a.type;a.onBand=s&&r.get("boundaryGap"),a.inverse=r.get("inverse"),r.axis=a,a.model=r,a.coordinateSystem=r.coordinateSystem=this}),this)},t.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},t.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),i=e.axisBase,n=e.layoutBase,o=e.pixelDimIndex,r=t[1-o],a=t[o];return r>=i&&r<=i+e.axisLength&&a>=n&&a<=n+e.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(t,e){e.eachSeries((function(i){if(t.contains(i,e)){var n=i.getData();Yr(this.dimensions,(function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(n,n.mapDimension(t)),z(e.scale,e.model)}),this)}}),this)},t.prototype.resize=function(t,e){this._rect=Mt(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var t,e=this._model,i=this._rect,n=["x","y"],o=["width","height"],r=e.get("layout"),a="horizontal"===r?0:1,s=i[o[a]],l=[0,s],u=this.dimensions.length,d=Qr(e.get("axisExpandWidth"),l),h=Qr(e.get("axisExpandCount")||0,[0,u]),c=e.get("axisExpandable")&&u>3&&u>h&&h>1&&d>0&&s>0,p=e.get("axisExpandWindow");p?(t=Qr(p[1]-p[0],l),p[1]=p[0]+t):(t=Qr(d*(h-1),l),(p=[d*(e.get("axisExpandCenter")||Zr(u/2))-t/2])[1]=p[0]+t);var g=(s-t)/(u-h);g<3&&(g=0);var f=[Zr(qr(p[0]/d,1))+1,jr(qr(p[1]/d,1))-1],y=g/d*p[0];return{layout:r,pixelDimIndex:a,layoutBase:i[n[a]],layoutLength:s,axisBase:i[n[1-a]],axisLength:i[o[1-a]],axisExpandable:c,axisExpandWidth:d,axisCollapseWidth:g,axisExpandWindow:p,axisCount:u,winInnerIndices:f,axisExpandWindow0Pos:y}},t.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,i=this.dimensions,n=this._makeLayoutInfo(),o=n.layout;e.each((function(t){var e=[0,n.axisLength],i=t.inverse?1:0;t.setExtent(e[i],e[1-i])})),Yr(i,(function(e,i){var r=(n.axisExpandable?ta:Jr)(i,n),a={horizontal:{x:r.position,y:n.axisLength},vertical:{x:0,y:r.position}},s={horizontal:Kr/2,vertical:0},l=[a[o].x+t.x,a[o].y+t.y],u=s[o],d=I();x(d,d,u),b(d,d,l),this._axesLayout[e]={position:l,rotation:u,transform:d,axisNameAvailableWidth:r.axisNameAvailableWidth,axisLabelShow:r.axisLabelShow,nameTruncateMaxWidth:r.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},t.prototype.getAxis=function(t){return this._axesMap.get(t)},t.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},t.prototype.eachActiveState=function(t,e,i,n){null==i&&(i=0),null==n&&(n=t.count());var o=this._axesMap,r=this.dimensions,a=[],s=[];R(r,(function(e){a.push(t.mapDimension(e)),s.push(o.get(e).model)}));for(var l=this.hasAxisBrushed(),u=i;u<n;u++){var d=void 0;if(l){d="active";for(var h=t.getValues(a,u),c=0,p=r.length;c<p;c++){if("inactive"===s[c].getActiveState(h[c])){d="inactive";break}}}else d="normal";e(d,u)}},t.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,i=!1,n=0,o=t.length;n<o;n++)"normal"!==e.get(t[n]).model.getActiveState()&&(i=!0);return i},t.prototype.axisCoordToPoint=function(t,e){var i=this._axesLayout[e];return _([t,0],i.transform)},t.prototype.getAxisLayout=function(t){return W(this._axesLayout[t])},t.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),i=e.pixelDimIndex,n=e.axisExpandWindow.slice(),o=n[1]-n[0],r=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:n};var a,s=t[i]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",u=e.axisCollapseWidth,d=this._model.get("axisExpandSlideTriggerArea"),h=null!=d[0];if(u)h&&u&&s<o*d[0]?(l="jump",a=s-o*d[2]):h&&u&&s>o*(1-d[0])?(l="jump",a=s-o*(1-d[2])):(a=s-o*d[1])>=0&&(a=s-o*(1-d[1]))<=0&&(a=0),(a*=e.axisExpandWidth/u)?It(a,n,r,"all"):l="none";else{var c=n[1]-n[0];(n=[Ur(0,r[1]*s/c-c/2)])[1]=Xr(r[1],n[0]+c),n[0]=n[1]-c}return{axisExpandWindow:n,behavior:l}},t}();function Qr(t,e){return Xr(Ur(t,e[0]),e[1])}function Jr(t,e){var i=e.layoutLength/(e.axisCount-1);return{position:i*t,axisNameAvailableWidth:i,axisLabelShow:!0}}function ta(t,e){var i,n,o=e.layoutLength,r=e.axisExpandWidth,a=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,u=s,d=!1;return t<l[0]?(i=t*s,n=s):t<=l[1]?(i=e.axisExpandWindow0Pos+t*r-e.axisExpandWindow[0],u=r,d=!0):(i=o-(a-1-t)*s,n=s),{position:i,axisNameAvailableWidth:u,axisLabelShow:d,nameTruncateMaxWidth:n}}var ea={create:function(t,e){var i=[];return t.eachComponent("parallel",(function(n,o){var r=new $r(n,t,e);r.name="parallel_"+o,r.resize(n,e),n.coordinateSystem=r,r.model=n,i.push(r)})),t.eachSeries((function(t){if("parallel"===t.get("coordinateSystem")){var e=t.getReferringComponents("parallel",C).models[0];t.coordinateSystem=e.coordinateSystem}})),i}},ia=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.activeIntervals=[],i}return f(e,t),e.prototype.getAreaSelectStyle=function(){return Ct([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var e=this.activeIntervals=W(t);if(e)for(var i=e.length-1;i>=0;i--)Dt(e[i])},e.prototype.getActiveState=function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===e.length){var i=e[0];if(i[0]<=t&&t<=i[1])return"active"}else for(var n=0,o=e.length;n<o;n++)if(e[n][0]<=t&&t<=e[n][1])return"active";return"inactive"},e}(A);D(ia,T);var na=["axisLine","axisTickLabel","axisName"],oa=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.init=function(e,i){t.prototype.init.apply(this,arguments),(this._brushController=new Tt(i.getZr())).on("brush",xt(this._onBrush,this))},e.prototype.render=function(t,e,i,n){if(!function(t,e,i){return i&&"axisAreaSelect"===i.type&&e.findComponents({mainType:"parallelAxis",query:i})[0]===t}(t,e,n)){this.axisModel=t,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new J,this.group.add(this._axisGroup),t.get("show")){var r=function(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}(t,e),a=r.coordinateSystem,s=t.getAreaSelectStyle(),l=s.width,u=t.axis.dim,d=a.getAxisLayout(u),h=St({strokeContainThreshold:l},d),c=new S(t,h);R(na,c.add,c),this._axisGroup.add(c.getGroup()),this._refreshBrushController(h,s,t,r,l,i),tt(o,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,e,i,n,o,r){var a=i.axis.getExtent(),s=a[1]-a[0],l=Math.min(30,.1*Math.abs(s)),u=Lt.create({x:a[0],y:-o/2,width:s,height:o});u.x-=l,u.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:Pt(u),isTargetByCursor:Nt(u,r,n),getLinearBrushOtherExtent:kt(u,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(function(t){var e=t.axis;return B(t.activeIntervals,(function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}}))}(i))},e.prototype._onBrush=function(t){var e=t.areas,i=this.axisModel,n=i.axis,o=B(e,(function(t){return[n.coordToData(t.range[0],!0),n.coordToData(t.range[1],!0)]}));(!i.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(ot);var ra={type:"axisAreaSelect",event:"axisAreaSelected"};var aa={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function sa(t){t.registerComponentView(Br),t.registerComponentModel(Fr),t.registerCoordinateSystem("parallel",ea),t.registerPreprocessor(Or),t.registerComponentModel(ia),t.registerComponentView(oa),st(t,"parallel",ia,aa),function(t){t.registerAction(ra,(function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},(function(e){e.axis.model.setActiveIntervals(t.intervals)}))})),t.registerAction("parallelAxisExpand",(function(t,e){e.eachComponent({mainType:"parallel",query:t},(function(e){e.setAxisExpand(t)}))}))}(t)}var la=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.init=function(e,i,n){var o=Et(e);t.prototype.init.apply(this,arguments),ua(e,o)},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),ua(this.option,e)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(A);function ua(t,e){var i,n=t.cellSize;1===(i=E(n)?n:t.cellSize=[n,n]).length&&(i[1]=i[0]);var o=B([0,1],(function(t){return Rt(e,t)&&(i[t]="auto"),null!=i[t]&&"auto"!==i[t]}));Vt(t,e,{type:"box",ignoreSize:o})}var da=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.render=function(t,e,i){var n=this.group;n.removeAll();var o=t.coordinateSystem,r=o.getRangeInfo(),a=o.getOrient(),s=e.getLocaleModel();this._renderDayRect(t,r,n),this._renderLines(t,r,a,n),this._renderYearText(t,r,a,n),this._renderMonthText(t,s,a,n),this._renderWeekText(t,s,r,a,n)},e.prototype._renderDayRect=function(t,e,i){for(var n=t.coordinateSystem,o=t.getModel("itemStyle").getItemStyle(),r=n.getCellWidth(),a=n.getCellHeight(),s=e.start.time;s<=e.end.time;s=n.getNextNDay(s,1).time){var l=n.dataToRect([s],!1).tl,u=new zt({shape:{x:l[0],y:l[1],width:r,height:a},cursor:"default",style:o});i.add(u)}},e.prototype._renderLines=function(t,e,i,n){var o=this,r=t.coordinateSystem,a=t.getModel(["splitLine","lineStyle"]).getLineStyle(),s=t.get(["splitLine","show"]),l=a.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=e.start,d=0;u.time<=e.end.time;d++){c(u.formatedDate),0===d&&(u=r.getDateInfo(e.start.y+"-"+e.start.m));var h=u.date;h.setMonth(h.getMonth()+1),u=r.getDateInfo(h)}function c(e){o._firstDayOfMonth.push(r.getDateInfo(e)),o._firstDayPoints.push(r.dataToRect([e],!1).tl);var l=o._getLinePointsOfOneWeek(t,e,i);o._tlpoints.push(l[0]),o._blpoints.push(l[l.length-1]),s&&o._drawSplitline(l,a,n)}c(r.getNextNDay(e.end.time,1).formatedDate),s&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,l,i),a,n),s&&this._drawSplitline(o._getEdgesPoints(o._blpoints,l,i),a,n)},e.prototype._getEdgesPoints=function(t,e,i){var n=[t[0].slice(),t[t.length-1].slice()],o="horizontal"===i?0:1;return n[0][o]=n[0][o]-e/2,n[1][o]=n[1][o]+e/2,n},e.prototype._drawSplitline=function(t,e,i){var n=new pt({z2:20,shape:{points:t},style:e});i.add(n)},e.prototype._getLinePointsOfOneWeek=function(t,e,i){for(var n=t.coordinateSystem,o=n.getDateInfo(e),r=[],a=0;a<7;a++){var s=n.getNextNDay(o.time,a),l=n.dataToRect([s.time],!1);r[2*s.day]=l.tl,r[2*s.day+1]=l["horizontal"===i?"bl":"tr"]}return r},e.prototype._formatterLabel=function(t,e){return dt(t)&&t?Ot(t,e):ht(t)?t(e):e.nameMap},e.prototype._yearTextPositionControl=function(t,e,i,n,o){var r=e[0],a=e[1],s=["center","bottom"];"bottom"===n?(a+=o,s=["center","top"]):"left"===n?r-=o:"right"===n?(r+=o,s=["center","top"]):a-=o;var l=0;return"left"!==n&&"right"!==n||(l=Math.PI/2),{rotation:l,x:r,y:a,style:{align:s[0],verticalAlign:s[1]}}},e.prototype._renderYearText=function(t,e,i,n){var o=t.getModel("yearLabel");if(o.get("show")){var r=o.get("margin"),a=o.get("position");a||(a="horizontal"!==i?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,u=(s[0][1]+s[1][1])/2,d="horizontal"===i?0:1,h={top:[l,s[d][1]],bottom:[l,s[1-d][1]],left:[s[1-d][0],u],right:[s[d][0],u]},c=e.start.y;+e.end.y>+e.start.y&&(c=c+"-"+e.end.y);var p=o.get("formatter"),g={start:e.start.y,end:e.end.y,nameMap:c},f=this._formatterLabel(p,g),y=new q({z2:30,style:K(o,{text:f}),silent:o.get("silent")});y.attr(this._yearTextPositionControl(y,h[a],i,a,r)),n.add(y)}},e.prototype._monthTextPositionControl=function(t,e,i,n,o){var r="left",a="top",s=t[0],l=t[1];return"horizontal"===i?(l+=o,e&&(r="center"),"start"===n&&(a="bottom")):(s+=o,e&&(a="middle"),"start"===n&&(r="right")),{x:s,y:l,align:r,verticalAlign:a}},e.prototype._renderMonthText=function(t,e,i,n){var o=t.getModel("monthLabel");if(o.get("show")){var r=o.get("nameMap"),a=o.get("margin"),s=o.get("position"),l=o.get("align"),u=[this._tlpoints,this._blpoints];r&&!dt(r)||(r&&(e=Bt(r)||e),r=e.get(["time","monthAbbr"])||[]);var d="start"===s?0:1,h="horizontal"===i?0:1;a="start"===s?-a:a;for(var c="center"===l,p=o.get("silent"),g=0;g<u[d].length-1;g++){var f=u[d][g].slice(),y=this._firstDayOfMonth[g];if(c){var m=this._firstDayPoints[g];f[h]=(m[h]+u[0][g+1][h])/2}var v=o.get("formatter"),x=r[+y.m-1],b={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:x},_=this._formatterLabel(v,b),S=new q({z2:30,style:St(K(o,{text:_}),this._monthTextPositionControl(f,c,i,s,a)),silent:p});n.add(S)}}},e.prototype._weekTextPositionControl=function(t,e,i,n,o){var r="center",a="middle",s=t[0],l=t[1],u="start"===i;return"horizontal"===e?(s=s+n+(u?1:-1)*o[0]/2,r=u?"right":"left"):(l=l+n+(u?1:-1)*o[1]/2,a=u?"bottom":"top"),{x:s,y:l,align:r,verticalAlign:a}},e.prototype._renderWeekText=function(t,e,i,n,o){var r=t.getModel("dayLabel");if(r.get("show")){var a=t.coordinateSystem,s=r.get("position"),l=r.get("nameMap"),u=r.get("margin"),d=a.getFirstDayOfWeek();if(!l||dt(l))l&&(e=Bt(l)||e),l=e.get(["time","dayOfWeekShort"])||B(e.get(["time","dayOfWeekAbbr"]),(function(t){return t[0]}));var h=a.getNextNDay(i.end.time,7-i.lweek).time,c=[a.getCellWidth(),a.getCellHeight()];u=k(u,Math.min(c[1],c[0])),"start"===s&&(h=a.getNextNDay(i.start.time,-(7+i.fweek)).time,u=-u);for(var p=r.get("silent"),g=0;g<7;g++){var f,y=a.getNextNDay(h,g),m=a.dataToRect([y.time],!1).center;f=Math.abs((g+d)%7);var v=new q({z2:30,style:St(K(r,{text:l[f]}),this._weekTextPositionControl(m,n,s,u,c)),silent:p});o.add(v)}}},e.type="calendar",e}(ot),ha=864e5,ca=function(){function t(e,i,n){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(t){var e=(t=Wt(t)).getFullYear(),i=t.getMonth()+1,n=i<10?"0"+i:""+i,o=t.getDate(),r=o<10?"0"+o:""+o,a=t.getDay();return{y:e+"",m:n,d:r,day:a=Math.abs((a+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+n+"-"+r,date:t}},t.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},t.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,n=["width","height"],o=this._model.getCellSize().slice(),r=this._model.getBoxLayoutParams(),a="horizontal"===this._orient?[i,7]:[7,i];R([0,1],(function(t){u(o,t)&&(r[n[t]]=o[t]*a[t])}));var s={width:e.getWidth(),height:e.getHeight()},l=this._rect=Mt(r,s);function u(t,e){return null!=t[e]&&"auto"!==t[e]}R([0,1],(function(t){u(o,t)||(o[t]=l[n[t]]/a[t])})),this._sw=o[0],this._sh=o[1]},t.prototype.dataToPoint=function(t,e){E(t)&&(t=t[0]),null==e&&(e=!0);var i=this.getDateInfo(t),n=this._rangeInfo,o=i.formatedDate;if(e&&!(i.time>=n.start.time&&i.time<n.end.time+ha))return[NaN,NaN];var r=i.day,a=this._getRangeInfo([n.start.time,o]).nthWeek;return"vertical"===this._orient?[this._rect.x+r*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]},t.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},t.prototype.dataToRect=function(t,e){var i=this.dataToPoint(t,e);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},t.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,n=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,e-1,n):this._getDateByWeeksAndDay(e,i-1,n)},t.prototype.convertToPixel=function(t,e,i){var n=pa(e);return n===this?n.dataToPoint(i):null},t.prototype.convertFromPixel=function(t,e,i){var n=pa(e);return n===this?n.pointToData(i):null},t.prototype.containPoint=function(t){return!1},t.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(E(e)&&1===e.length&&(e=e[0]),E(e))t=e;else{var i=e.toString();if(/^\d{4}$/.test(i)&&(t=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var n=this.getDateInfo(i),o=n.date;o.setMonth(o.getMonth()+1);var r=this.getNextNDay(o,-1);t=[n.formatedDate,r.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(t=[i,i])}if(!t)return e;var a=this._getRangeInfo(t);return a.start.time>a.end.time&&t.reverse(),t},t.prototype._getRangeInfo=function(t){var e,i=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];i[0].time>i[1].time&&(e=!0,i.reverse());var n=Math.floor(i[1].time/ha)-Math.floor(i[0].time/ha)+1,o=new Date(i[0].time),r=o.getDate(),a=i[1].date.getDate();o.setDate(r+n-1);var s=o.getDate();if(s!==a)for(var l=o.getTime()-i[1].time>0?1:-1;(s=o.getDate())!==a&&(o.getTime()-i[1].time)*l>0;)n-=l,o.setDate(s-l);var u=Math.floor((n+i[0].day+6)/7),d=e?1-u:u-1;return e&&i.reverse(),{range:[i[0].formatedDate,i[1].formatedDate],start:i[0],end:i[1],allDay:n,weeks:u,nthWeek:d,fweek:i[0].day,lweek:i[1].day}},t.prototype._getDateByWeeksAndDay=function(t,e,i){var n=this._getRangeInfo(i);if(t>n.weeks||0===t&&e<n.fweek||t===n.weeks&&e>n.lweek)return null;var o=7*(t-1)-n.fweek+e,r=new Date(n.start.time);return r.setDate(+n.start.d+o),this.getDateInfo(r)},t.create=function(e,i){var n=[];return e.eachComponent("calendar",(function(e){var i=new t(e);n.push(i),e.coordinateSystem=i})),e.eachSeries((function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("calendarIndex")||0])})),n},t.dimensions=["time","value"],t}();function pa(t){var e=t.calendarModel,i=t.seriesModel;return e?e.coordinateSystem:i?i.coordinateSystem:null}function ga(t,e){var i;return R(e,(function(e){null!=t[e]&&"auto"!==t[e]&&(i=!0)})),i}var fa=["transition","enterFrom","leaveTo"],ya=fa.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function ma(t,e,i){if(i&&(!t[i]&&e[i]&&(t[i]={}),t=t[i],e=e[i]),t&&e)for(var n=i?fa:ya,o=0;o<n.length;o++){var r=n[o];null==t[r]&&null!=e[r]&&(t[r]=e[r])}}var va=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.preventAutoZ=!0,i}return f(e,t),e.prototype.mergeOption=function(e,i){var n=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,e,i),this.option.elements=n},e.prototype.optionUpdated=function(t,e){var i=this.option,n=(e?i:t).elements,o=i.elements=e?[]:i.elements,r=[];this._flatten(n,r,null);var a=Gt(o,r,"normalMerge"),s=this._elOptionsToUpdate=[];R(a,(function(t,e){var i=t.newOption;i&&(s.push(i),function(t,e){var i=t.existing;if(e.id=t.keyInfo.id,!e.type&&i&&(e.type=i.type),null==e.parentId){var n=e.parentOption;n?e.parentId=n.id:i&&(e.parentId=i.parentId)}e.parentOption=null}(t,i),function(t,e,i){var n=St({},i),o=t[e],r=i.$action||"merge";"merge"===r?o?(ut(o,n,!0),Vt(o,n,{ignoreSize:!0}),Ft(i,o),ma(i,o),ma(i,o,"shape"),ma(i,o,"style"),ma(i,o,"extra"),i.clipPath=o.clipPath):t[e]=n:"replace"===r?t[e]=n:"remove"===r&&o&&(t[e]=null)}(o,e,i),function(t,e){if(t&&(t.hv=e.hv=[ga(e,["left","right"]),ga(e,["top","bottom"])],"group"===t.type)){var i=t,n=e;null==i.width&&(i.width=n.width=0),null==i.height&&(i.height=n.height=0)}}(o[e],i))}),this),i.elements=it(o,(function(t){return t&&delete t.$action,null!=t}))},e.prototype._flatten=function(t,e,i){R(t,(function(t){if(t){i&&(t.parentOption=i),e.push(t);var n=t.children;n&&n.length&&this._flatten(n,e,t),delete t.children}}),this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(A);function xa(t,e,i,n){return t&&(t.legacy||!1!==t.legacy&&!i&&!n&&"tspan"!==e&&("text"===e||Ht(t,"text")))}function ba(t,e,i){var n,o,r,a=t;if("text"===e)r=a;else{r={},Ht(a,"text")&&(r.text=a.text),Ht(a,"rich")&&(r.rich=a.rich),Ht(a,"textFill")&&(r.fill=a.textFill),Ht(a,"textStroke")&&(r.stroke=a.textStroke),Ht(a,"fontFamily")&&(r.fontFamily=a.fontFamily),Ht(a,"fontSize")&&(r.fontSize=a.fontSize),Ht(a,"fontStyle")&&(r.fontStyle=a.fontStyle),Ht(a,"fontWeight")&&(r.fontWeight=a.fontWeight),o={type:"text",style:r,silent:!0},n={};var s=Ht(a,"textPosition");i?n.position=s?a.textPosition:"inside":s&&(n.position=a.textPosition),Ht(a,"textPosition")&&(n.position=a.textPosition),Ht(a,"textOffset")&&(n.offset=a.textOffset),Ht(a,"textRotation")&&(n.rotation=a.textRotation),Ht(a,"textDistance")&&(n.distance=a.textDistance)}return _a(r,t),R(r.rich,(function(t){_a(t,t)})),{textConfig:n,textContent:o}}function _a(t,e){e&&(e.font=e.textFont||e.font,Ht(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth),Ht(e,"textAlign")&&(t.align=e.textAlign),Ht(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign),Ht(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight),Ht(e,"textWidth")&&(t.width=e.textWidth),Ht(e,"textHeight")&&(t.height=e.textHeight),Ht(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor),Ht(e,"textPadding")&&(t.padding=e.textPadding),Ht(e,"textBorderColor")&&(t.borderColor=e.textBorderColor),Ht(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth),Ht(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius),Ht(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor),Ht(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur),Ht(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),Ht(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY))}function Sa(t,e,i){var n=t;n.textPosition=n.textPosition||i.position||"inside",null!=i.offset&&(n.textOffset=i.offset),null!=i.rotation&&(n.textRotation=i.rotation),null!=i.distance&&(n.textDistance=i.distance);var o=n.textPosition.indexOf("inside")>=0,r=t.fill||"#000";wa(n,e);var a=null==n.textFill;return o?a&&(n.textFill=i.insideFill||"#fff",!n.textStroke&&i.insideStroke&&(n.textStroke=i.insideStroke),!n.textStroke&&(n.textStroke=r),null==n.textStrokeWidth&&(n.textStrokeWidth=2)):(a&&(n.textFill=t.fill||i.outsideFill||"#000"),!n.textStroke&&i.outsideStroke&&(n.textStroke=i.outsideStroke)),n.text=e.text,n.rich=e.rich,R(e.rich,(function(t){wa(t,t)})),n}function wa(t,e){e&&(Ht(e,"fill")&&(t.textFill=e.fill),Ht(e,"stroke")&&(t.textStroke=e.fill),Ht(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth),Ht(e,"font")&&(t.font=e.font),Ht(e,"fontStyle")&&(t.fontStyle=e.fontStyle),Ht(e,"fontWeight")&&(t.fontWeight=e.fontWeight),Ht(e,"fontSize")&&(t.fontSize=e.fontSize),Ht(e,"fontFamily")&&(t.fontFamily=e.fontFamily),Ht(e,"align")&&(t.textAlign=e.align),Ht(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign),Ht(e,"lineHeight")&&(t.textLineHeight=e.lineHeight),Ht(e,"width")&&(t.textWidth=e.width),Ht(e,"height")&&(t.textHeight=e.height),Ht(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor),Ht(e,"padding")&&(t.textPadding=e.padding),Ht(e,"borderColor")&&(t.textBorderColor=e.borderColor),Ht(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth),Ht(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius),Ht(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor),Ht(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur),Ht(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),Ht(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),Ht(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor),Ht(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur),Ht(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX),Ht(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY))}var Ma={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Ia=Yt(Ma);Xt(Ut,(function(t,e){return t[e]=1,t}),{}),Ut.join(", ");var Aa=["","style","shape","extra"],Ca=P();function Da(t,e,i,n,o){var r=t+"Animation",a=Qt(t,n,o)||{},s=Ca(e).userDuring;return a.duration>0&&(a.during=s?xt(Ra,{el:e,userDuring:s}):null,a.setToFinal=!0,a.scope=t),St(a,i[r]),a}function Ta(t,e,i,n){var o=(n=n||{}).dataIndex,r=n.isInit,a=n.clearStyle,s=i.isAnimationEnabled(),l=Ca(t),u=e.style;l.userDuring=e.during;var d={},h={};if(function(t,e,i){for(var n=0;n<Ia.length;n++){var o=Ia[n],r=Ma[o],a=e[o];a&&(i[r[0]]=a[0],i[r[1]]=a[1])}for(n=0;n<Ut.length;n++){var s=Ut[n];null!=e[s]&&(i[s]=e[s])}}(0,e,h),za("shape",e,h),za("extra",e,h),!r&&s&&(function(t,e,i){for(var n=e.transition,o=Na(n)?Ut:vt(n||[]),r=0;r<o.length;r++){var a=o[r];if("style"!==a&&"shape"!==a&&"extra"!==a){var s=t[a];i[a]=s}}}(t,e,d),Va("shape",t,e,d),Va("extra",t,e,d),function(t,e,i,n){if(!i)return;var o,r=t.style;if(r){var a=i.transition,s=e.transition;if(a&&!Na(a)){var l=vt(a);!o&&(o=n.style={});for(var u=0;u<l.length;u++){var d=r[g=l[u]];o[g]=d}}else if(t.getAnimationStyleProps&&(Na(s)||Na(a)||qt(s,"style")>=0)){var h=t.getAnimationStyleProps(),c=h?h.style:null;if(c){!o&&(o=n.style={});var p=Yt(i);for(u=0;u<p.length;u++){var g;if(c[g=p[u]]){d=r[g];o[g]=d}}}}}}(t,e,u,d)),h.style=u,function(t,e,i){var n=e.style;if(!t.isGroup&&n){if(i){t.useStyle({});for(var o=t.animators,r=0;r<o.length;r++){var a=o[r];"style"===a.targetName&&a.changeTarget(t.style)}}t.setStyle(n)}e.style=null,t.attr(e),e.style=n}(t,h,a),function(t,e){Ht(e,"silent")&&(t.silent=e.silent),Ht(e,"ignore")&&(t.ignore=e.ignore),t instanceof Zt&&Ht(e,"invisible")&&(t.invisible=e.invisible);t instanceof jt&&Ht(e,"autoBatch")&&(t.autoBatch=e.autoBatch)}(t,e),s)if(r){var c={};R(Aa,(function(t){var i=t?e[t]:e;i&&i.enterFrom&&(t&&(c[t]=c[t]||{}),St(t?c[t]:c,i.enterFrom))}));var p=Da("enter",t,e,i,o);p.duration>0&&t.animateFrom(c,p)}else!function(t,e,i,n,o){var r=Da("update",t,e,n,i);r.duration>0&&t.animateFrom(o,r)}(t,e,o||0,i,d);La(t,e),u?t.dirty():t.markRedraw()}function La(t,e){for(var i=Ca(t).leaveToProps,n=0;n<Aa.length;n++){var o=Aa[n],r=o?e[o]:e;r&&r.leaveTo&&(i||(i=Ca(t).leaveToProps={}),o&&(i[o]=i[o]||{}),St(o?i[o]:i,r.leaveTo))}}function Pa(t,e,i,n){if(t){var o=t.parent,r=Ca(t).leaveToProps;if(r){var a=Da("update",t,e,i,0);a.done=function(){o.remove(t)},t.animateTo(r,a)}else o.remove(t)}}function Na(t){return"all"===t}var ka={},Ea={setTransform:function(t,e){return ka.el[t]=e,this},getTransform:function(t){return ka.el[t]},setShape:function(t,e){var i=ka.el;return(i.shape||(i.shape={}))[t]=e,i.dirtyShape&&i.dirtyShape(),this},getShape:function(t){var e=ka.el.shape;if(e)return e[t]},setStyle:function(t,e){var i=ka.el,n=i.style;return n&&(n[t]=e,i.dirtyStyle&&i.dirtyStyle()),this},getStyle:function(t){var e=ka.el.style;if(e)return e[t]},setExtra:function(t,e){return(ka.el.extra||(ka.el.extra={}))[t]=e,this},getExtra:function(t){var e=ka.el.extra;if(e)return e[t]}};function Ra(){var t=this,e=t.el;if(e){var i=Ca(e).userDuring,n=t.userDuring;i===n?(ka.el=e,n(Ea)):t.el=t.userDuring=null}}function Va(t,e,i,n){var o=i[t];if(o){var r,a=e[t];if(a){var s=i.transition,l=o.transition;if(l)if(!r&&(r=n[t]={}),Na(l))St(r,a);else for(var u=vt(l),d=0;d<u.length;d++){var h=a[p=u[d]];r[p]=h}else if(Na(s)||qt(s,t)>=0){!r&&(r=n[t]={});var c=Yt(a);for(d=0;d<c.length;d++){var p;h=a[p=c[d]];Oa(o[p],h)&&(r[p]=h)}}}}}function za(t,e,i){var n=e[t];if(n)for(var o=i[t]={},r=Yt(n),a=0;a<r.length;a++){var s=r[a];o[s]=Kt(n[s])}}function Oa(t,e){return $t(t)?t!==e:null!=t&&isFinite(t)}var Ba=P(),Wa=["percent","easing","shape","style","extra"];function Ga(t){t.stopAnimation("keyframe"),t.attr(Ba(t))}function Fa(t,e,i){if(i.isAnimationEnabled()&&e)if(E(e))R(e,(function(e){Fa(t,e,i)}));else{var n=e.keyframes,o=e.duration;if(i&&null==o){var r=Qt("enter",i,0);o=r&&r.duration}if(n&&o){var a=Ba(t);R(Aa,(function(i){var r;i&&!t[i]||(n.sort((function(t,e){return t.percent-e.percent})),R(n,(function(n){var s=t.animators,l=i?n[i]:n;if(l){var u=Yt(l);if(i||(u=it(u,(function(t){return qt(Wa,t)<0}))),u.length){r||((r=t.animate(i,e.loop,!0)).scope="keyframe");for(var d=0;d<s.length;d++)s[d]!==r&&s[d].targetName===r.targetName&&s[d].stopTracks(u);i&&(a[i]=a[i]||{});var h=i?a[i]:a;R(u,(function(e){h[e]=((i?t[i]:t)||{})[e]})),r.whenWithKeys(o*n.percent,l,u,n.easing)}}})),r&&r.delay(e.delay||0).duration(o).start(e.easing))}))}}}var Ha={path:null,compoundPath:null,group:J,image:ae,text:q},Ya=P(),Xa=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.init=function(){this._elMap=wt()},e.prototype.render=function(t,e,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,i)},e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(e){var i=this._elMap,n=this.group,o=t.get("z"),r=t.get("zlevel");R(e,(function(e){var a=Jt(e.id,null),s=null!=a?i.get(a):null,l=Jt(e.parentId,null),u=null!=l?i.get(l):n,d=e.type,h=e.style;"text"===d&&h&&e.hv&&e.hv[1]&&(h.textVerticalAlign=h.textBaseline=h.verticalAlign=h.align=null);var c=e.textContent,p=e.textConfig;if(h&&xa(h,d,!!p,!!c)){var g=ba(h,d,!0);!p&&g.textConfig&&(p=e.textConfig=g.textConfig),!c&&g.textContent&&(c=g.textContent)}var f=function(t){return t=St({},t),R(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(re),(function(e){delete t[e]})),t}(e),y=e.$action||"merge",m="merge"===y,v="replace"===y;if(m){var x=s;(A=!s)?x=Za(a,u,e.type,i):(x&&(Ya(x).isNew=!1),Ga(x)),x&&(Ta(x,f,t,{isInit:A}),qa(x,e,o,r))}else if(v){ja(s,e,i,t);var b=Za(a,u,e.type,i);b&&(Ta(b,f,t,{isInit:!0}),qa(b,e,o,r))}else"remove"===y&&(La(s,e),ja(s,e,i,t));var _=i.get(a);if(_&&c)if(m){var S=_.getTextContent();S?S.attr(c):_.setTextContent(new q(c))}else v&&_.setTextContent(new q(c));if(_){var w=e.clipPath;if(w){var M=w.type,I=void 0,A=!1;if(m){var C=_.getClipPath();I=(A=!C||Ya(C).type!==M)?Ua(M):C}else v&&(A=!0,I=Ua(M));_.setClipPath(I),Ta(I,w,t,{isInit:A}),Fa(I,w.keyframeAnimation,t)}var D=Ya(_);_.setTextConfig(p),D.option=e,function(t,e,i){var n=$(t).eventData;t.silent||t.ignore||n||(n=$(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name});n&&(n.info=i.info)}(_,t,e),te({el:_,componentModel:t,itemName:_.name,itemTooltipOption:e.tooltip}),Fa(_,e.keyframeAnimation,t)}}))}},e.prototype._relocate=function(t,e){for(var i=t.option.elements,n=this.group,o=this._elMap,r=e.getWidth(),a=e.getHeight(),s=["x","y"],l=0;l<i.length;l++){var u=i[l];if((g=null!=(p=Jt(u.id,null))?o.get(p):null)&&g.isGroup){var d=(f=g.parent)===n,h=Ya(g),c=Ya(f);h.width=k(h.option.width,d?r:c.width)||0,h.height=k(h.option.height,d?a:c.height)||0}}for(l=i.length-1;l>=0;l--){var p,g;u=i[l];if(g=null!=(p=Jt(u.id,null))?o.get(p):null){var f=g.parent,y=(c=Ya(f),f===n?{width:r,height:a}:{width:c.width,height:c.height}),m={},v=ee(g,u,y,null,{hv:u.hv,boundingMode:u.bounding},m);if(!Ya(g).isNew&&v){for(var x=u.transition,b={},_=0;_<s.length;_++){var S=s[_],w=m[S];x&&(Na(x)||qt(x,S)>=0)?b[S]=w:g[S]=w}ie(g,b,t,0)}else g.attr(m)}}},e.prototype._clear=function(){var t=this,e=this._elMap;e.each((function(i){ja(i,Ya(i).option,e,t._lastGraphicModel)})),this._elMap=wt()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(ot);function Ua(t){var e=new(Ht(Ha,t)?Ha[t]:ne(t))({});return Ya(e).type=t,e}function Za(t,e,i,n){var o=Ua(i);return e.add(o),n.set(t,o),Ya(o).id=t,Ya(o).isNew=!0,o}function ja(t,e,i,n){t&&t.parent&&("group"===t.type&&t.traverse((function(t){ja(t,e,i,n)})),Pa(t,e,n),i.removeKey(Ya(t).id))}function qa(t,e,i,n){t.isGroup||R([["cursor",Zt.prototype.cursor],["zlevel",n||0],["z",i||0],["z2",0]],(function(i){var n=i[0];Ht(e,n)?t[n]=oe(e[n],i[1]):null==t[n]&&(t[n]=i[1])})),R(Yt(e),(function(i){if(0===i.indexOf("on")){var n=e[i];t[i]=ht(n)?n:null}})),Ht(e,"draggable")&&(t.draggable=e.draggable),null!=e.name&&(t.name=e.name),null!=e.id&&(t.id=e.id)}var Ka=["rect","polygon","keep","clear"];function $a(t,e){var i=vt(t?t.brush:[]);if(i.length){var n=[];R(i,(function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(n=n.concat(e))}));var o=t&&t.toolbox;E(o)&&(o=o[0]),o||(o={feature:{}},t.toolbox=[o]);var r,a,s=o.feature||(o.feature={}),l=s.brush||(s.brush={}),u=l.type||(l.type=[]);u.push.apply(u,n),a={},R(r=u,(function(t){a[t]=1})),r.length=0,R(a,(function(t,e){r.push(e)})),e&&!u.length&&u.push.apply(u,Ka)}}var Qa={lineX:Ja(0),lineY:Ja(1),rect:{point:function(t,e,i){return t&&i.boundingRect.contain(t[0],t[1])},rect:function(t,e,i){return t&&i.boundingRect.intersect(t)}},polygon:{point:function(t,e,i){return t&&i.boundingRect.contain(t[0],t[1])&&eo(i.range,t[0],t[1])},rect:function(t,e,i){var n=i.range;if(!t||n.length<=1)return!1;var o=t.x,r=t.y,a=t.width,s=t.height,l=n[0];return!!(eo(n,o,r)||eo(n,o+a,r)||eo(n,o,r+s)||eo(n,o+a,r+s)||Lt.create(t).contain(l[0],l[1])||se(o,r,o+a,r,n)||se(o,r,o,r+s,n)||se(o+a,r,o+a,r+s,n)||se(o,r+s,o+a,r+s,n))||void 0}}};function Ja(t){var e=["x","y"],i=["width","height"];return{point:function(e,i,n){if(e){var o=n.range;return ts(e[t],o)}},rect:function(n,o,r){if(n){var a=r.range,s=[n[e[t]],n[e[t]]+n[i[t]]];return s[1]<s[0]&&s.reverse(),ts(s[0],a)||ts(s[1],a)||ts(a[0],s)||ts(a[1],s)}}}}function ts(t,e){return e[0]<=t&&t<=e[1]}var es=["inBrush","outOfBrush"],is="__ecBrushSelect",ns="__ecInBrushSelectEvent";function os(t){t.eachComponent({mainType:"brush"},(function(e){(e.brushTargetManager=new le(e.option,t)).setInputRanges(e.areas,t)}))}function rs(t,e,i){var n,o,r=[];t.eachComponent({mainType:"brush"},(function(t){i&&"takeGlobalCursor"===i.type&&t.setBrushOption("brush"===i.key?i.brushOption:{brushType:!1})})),os(t),t.eachComponent({mainType:"brush"},(function(e,i){var a={brushId:e.id,brushIndex:i,brushName:e.name,areas:W(e.areas),selected:[]};r.push(a);var s=e.option,l=s.brushLink,u=[],d=[],h=[],c=!1;i||(n=s.throttleType,o=s.throttleDelay);var p=B(e.areas,(function(t){var e=ls[t.brushType],i=U({boundingRect:e?e(t):void 0},t);return i.selectors=function(t){var e=t.brushType,i={point:function(n){return Qa[e].point(n,i,t)},rect:function(n){return Qa[e].rect(n,i,t)}};return i}(i),i})),g=io(e.option,es,(function(t){t.mappingMethod="fixed"}));function f(t){return"all"===l||!!u[t]}function y(t){return!!t.length}E(l)&&R(l,(function(t){u[t]=1})),t.eachSeries((function(i,n){var o=h[n]=[];"parallel"===i.subType?function(t,e){var i=t.coordinateSystem;c=c||i.hasAxisBrushed(),f(e)&&i.eachActiveState(t.getData(),(function(t,e){"active"===t&&(d[e]=1)}))}(i,n):function(i,n,o){if(!i.brushSelector||function(t,e){var i=t.option.seriesIndex;return null!=i&&"all"!==i&&(E(i)?qt(i,e)<0:e!==i)}(e,n))return;if(R(p,(function(n){e.brushTargetManager.controlSeries(n,i,t)&&o.push(n),c=c||y(o)})),f(n)&&y(o)){var r=i.getData();r.each((function(t){ss(i,o,r,t)&&(d[t]=1)}))}}(i,n,o)})),t.eachSeries((function(t,e){var i={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};a.selected.push(i);var n=h[e],o=t.getData(),r=f(e)?function(t){return d[t]?(i.dataIndex.push(o.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(e){return ss(t,n,o,e)?(i.dataIndex.push(o.getRawIndex(e)),"inBrush"):"outOfBrush"};(f(e)?c:y(n))&&no(es,g,o,r)}))})),function(t,e,i,n,o){if(!o)return;var r=t.getZr();if(r[ns])return;r[is]||(r[is]=as);var a=bt(r,is,i,e);a(t,n)}(e,n,o,r,i)}function as(t,e){if(!t.isDisposed()){var i=t.getZr();i[ns]=!0,t.dispatchAction({type:"brushSelect",batch:e}),i[ns]=!1}}function ss(t,e,i,n){for(var o=0,r=e.length;o<r;o++){var a=e[o];if(t.brushSelector(n,i,a.selectors,a))return!0}}var ls={rect:function(t){return us(t.range)},polygon:function(t){for(var e,i=t.range,n=0,o=i.length;n<o;n++){e=e||[[1/0,-1/0],[1/0,-1/0]];var r=i[n];r[0]<e[0][0]&&(e[0][0]=r[0]),r[0]>e[0][1]&&(e[0][1]=r[0]),r[1]<e[1][0]&&(e[1][0]=r[1]),r[1]>e[1][1]&&(e[1][1]=r[1])}return e&&us(e)}};function us(t){return new Lt(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var ds=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new Tt(e.getZr())).on("brush",xt(this._onBrush,this)).mount()},e.prototype.render=function(t,e,i,n){this.model=t,this._updateController(t,e,i,n)},e.prototype.updateTransform=function(t,e,i,n){os(e),this._updateController(t,e,i,n)},e.prototype.updateVisual=function(t,e,i,n){this.updateTransform(t,e,i,n)},e.prototype.updateView=function(t,e,i,n){this._updateController(t,e,i,n)},e.prototype._updateController=function(t,e,i,n){(!n||n.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var e=this.model.id,i=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:e,areas:W(i),$from:e}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:e,areas:W(i),$from:e})},e.type="brush",e}(ot),hs=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.areas=[],i.brushOption={},i}return f(e,t),e.prototype.optionUpdated=function(t,e){var i=this.option;!e&&oo(i,t,["inBrush","outOfBrush"]);var n=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:"#ddd"},n.hasOwnProperty("liftZ")||(n.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=B(t,(function(t){return cs(this.option,t)}),this))},e.prototype.setBrushOption=function(t){this.brushOption=cs(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(A);function cs(t,e){return ut({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new j(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var ps=["rect","polygon","lineX","lineY","keep","clear"],gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.render=function(t,e,i){var n,o,r;e.eachComponent({mainType:"brush"},(function(t){n=t.brushType,o=t.brushOption.brushMode||"single",r=r||!!t.areas.length})),this._brushType=n,this._brushMode=o,R(t.get("type",!0),(function(e){t.setIconStatus(e,("keep"===e?"multiple"===o:"clear"===e?r:e===n)?"emphasis":"normal")}))},e.prototype.updateView=function(t,e,i){this.render(t,e,i)},e.prototype.getIcons=function(){var t=this.model,e=t.get("icon",!0),i={};return R(t.get("type",!0),(function(t){e[t]&&(i[t]=e[t])})),i},e.prototype.onclick=function(t,e,i){var n=this._brushType,o=this._brushMode;"clear"===i?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?n:n!==i&&i,brushMode:"keep"===i?"multiple"===o?"single":"multiple":o}})},e.getDefaultOption=function(t){return{show:!0,type:ps.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},e}(ue);var fs=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.layoutMode="box",i}return f(e,t),e.prototype.init=function(t,e,i){this.mergeDefaultAndTheme(t,i),this._initData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t,e=this.option,i=e.data||[],n=e.axisType,o=this._names=[];"category"===n?(t=[],R(i,(function(e,i){var n,r=Jt(ce(e),"");Z(e)?(n=W(e)).value=i:n=i,t.push(n),o.push(r)}))):t=i;var r={category:"ordinal",time:"time",value:"number"}[n]||"number";(this._data=new pe([{name:"value",type:r}],this)).initData(t,o)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(A),ys=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.type="timeline.slider",e.defaultOption=ge(fs.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(fs);D(ys,fe.prototype);var ms=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.type="timeline",e}(ot),vs=function(t){function e(e,i,n,o){var r=t.call(this,e,i,n)||this;return r.type=o||"value",r}return f(e,t),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},e}(L),xs=Math.PI,bs=P(),_s=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.init=function(t,e){this.api=e},e.prototype.render=function(t,e,i){if(this.model=t,this.api=i,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var n=this._layout(t,i),o=this._createGroup("_mainGroup"),r=this._createGroup("_labelGroup"),a=this._axis=this._createAxis(n,t);t.formatTooltip=function(t){var e=a.scale.getLabel({value:t});return ye("nameValue",{noName:!0,value:e})},R(["AxisLine","AxisTick","Control","CurrentPointer"],(function(e){this["_render"+e](n,o,a,t)}),this),this._renderAxisLabel(n,r,a,t),this._position(n,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,e){var i,n,o,r,a=t.get(["label","position"]),s=t.get("orient"),l=function(t,e){return Mt(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}(t,e),u={horizontal:"center",vertical:(i=null==a||"auto"===a?"horizontal"===s?l.y+l.height/2<e.getHeight()/2?"-":"+":l.x+l.width/2<e.getWidth()/2?"+":"-":dt(a)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[s][a]:a)>=0||"+"===i?"left":"right"},d={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:xs/2},c="vertical"===s?l.height:l.width,p=t.getModel("controlStyle"),g=p.get("show",!0),f=g?p.get("itemSize"):0,y=g?p.get("itemGap"):0,m=f+y,v=t.get(["label","rotate"])||0;v=v*xs/180;var x=p.get("position",!0),b=g&&p.get("showPlayBtn",!0),_=g&&p.get("showPrevBtn",!0),S=g&&p.get("showNextBtn",!0),w=0,M=c;"left"===x||"bottom"===x?(b&&(n=[0,0],w+=m),_&&(o=[w,0],w+=m),S&&(r=[M-f,0],M-=m)):(b&&(n=[M-f,0],M-=m),_&&(o=[0,0],w+=m),S&&(r=[M-f,0],M-=m));var I=[w,M];return t.get("inverse")&&I.reverse(),{viewRect:l,mainLength:c,orient:s,rotation:h[s],labelRotation:v,labelPosOpt:i,labelAlign:t.get(["label","align"])||u[s],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||d[s],playPosition:n,prevBtnPosition:o,nextBtnPosition:r,axisExtent:I,controlSize:f,controlGap:y}},e.prototype._position=function(t,e){var i=this._mainGroup,n=this._labelGroup,o=t.viewRect;if("vertical"===t.orient){var r=I(),a=o.x,s=o.y+o.height;b(r,r,[-a,-s]),x(r,r,-xs/2),b(r,r,[a,s]),(o=o.clone()).applyTransform(r)}var l=y(o),u=y(i.getBoundingRect()),d=y(n.getBoundingRect()),h=[i.x,i.y],c=[n.x,n.y];c[0]=h[0]=l[0][0];var p,g=t.labelPosOpt;null==g||dt(g)?(m(h,u,l,1,p="+"===g?0:1),m(c,d,l,1,1-p)):(m(h,u,l,1,p=g>=0?0:1),c[1]=h[1]+g);function f(t){t.originX=l[0][0]-t.x,t.originY=l[1][0]-t.y}function y(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function m(t,e,i,n,o){t[n]+=i[n][o]-e[n][o]}i.setPosition(h),n.setPosition(c),i.rotation=n.rotation=t.rotation,f(i),f(n)},e.prototype._createAxis=function(t,e){var i=e.getData(),n=e.get("axisType"),o=function(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new be({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new xe({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new ft}}(e,n);o.getTicks=function(){return i.mapArray(["value"],(function(t){return{value:t}}))};var r=i.getDataExtent("value");o.setExtent(r[0],r[1]),o.calcNiceTicks();var a=new vs("value",o,t.axisExtent,n);return a.model=e,a},e.prototype._createGroup=function(t){var e=this[t]=new J;return this.group.add(e),e},e.prototype._renderAxisLine=function(t,e,i,n){var o=i.getExtent();if(n.get(["lineStyle","show"])){var r=new Y({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:St({lineCap:"round"},n.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});e.add(r);var a=this._progressLine=new Y({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:U({lineCap:"round",lineWidth:r.style.lineWidth},n.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});e.add(a)}},e.prototype._renderAxisTick=function(t,e,i,n){var o=this,r=n.getData(),a=i.scale.getTicks();this._tickSymbols=[],R(a,(function(t){var a=i.dataToCoord(t.value),s=r.getItemModel(t.value),l=s.getModel("itemStyle"),u=s.getModel(["emphasis","itemStyle"]),d=s.getModel(["progress","itemStyle"]),h={x:a,y:0,onclick:xt(o._changeTimeline,o,t.value)},c=Ss(s,l,e,h);c.ensureState("emphasis").style=u.getItemStyle(),c.ensureState("progress").style=d.getItemStyle(),me(c);var p=$(c);s.get("tooltip")?(p.dataIndex=t.value,p.dataModel=n):p.dataIndex=p.dataModel=null,o._tickSymbols.push(c)}))},e.prototype._renderAxisLabel=function(t,e,i,n){var o=this;if(i.getLabelModel().get("show")){var r=n.getData(),a=i.getViewLabels();this._tickLabels=[],R(a,(function(n){var a=n.tickValue,s=r.getItemModel(a),l=s.getModel("label"),u=s.getModel(["emphasis","label"]),d=s.getModel(["progress","label"]),h=i.dataToCoord(n.tickValue),c=new q({x:h,y:0,rotation:t.labelRotation-t.rotation,onclick:xt(o._changeTimeline,o,a),silent:!1,style:K(l,{text:n.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});c.ensureState("emphasis").style=K(u),c.ensureState("progress").style=K(d),e.add(c),me(c),bs(c).dataIndex=a,o._tickLabels.push(c)}))}},e.prototype._renderControl=function(t,e,i,n){var o=t.controlSize,r=t.rotation,a=n.getModel("controlStyle").getItemStyle(),s=n.getModel(["emphasis","controlStyle"]).getItemStyle(),l=n.getPlayState(),u=n.get("inverse",!0);function d(t,i,l,u){if(t){var d=ve(oe(n.get(["controlStyle",i+"BtnSize"]),o),o),h=function(t,e,i,n){var o=n.style,r=_e(t.get(["controlStyle",e]),n,new Lt(i[0],i[1],i[2],i[3]));o&&r.setStyle(o);return r}(n,i+"Icon",[0,-d/2,d,d],{x:t[0],y:t[1],originX:o/2,originY:0,rotation:u?-r:0,rectHover:!0,style:a,onclick:l});h.ensureState("emphasis").style=s,e.add(h),me(h)}}d(t.nextBtnPosition,"next",xt(this._changeTimeline,this,u?"-":"+")),d(t.prevBtnPosition,"prev",xt(this._changeTimeline,this,u?"+":"-")),d(t.playPosition,l?"stop":"play",xt(this._handlePlayClick,this,!l),!0)},e.prototype._renderCurrentPointer=function(t,e,i,n){var o=n.getData(),r=n.getCurrentIndex(),a=o.getItemModel(r).getModel("checkpointStyle"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=xt(s._handlePointerDrag,s),t.ondragend=xt(s._handlePointerDragend,s),ws(t,s._progressLine,r,i,n,!0)},onUpdate:function(t){ws(t,s._progressLine,r,i,n)}};this._currentPointer=Ss(a,a,this._mainGroup,{},this._currentPointer,l)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,e,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,e){var i=this._toAxisCoord(t)[0],n=this._axis,o=Dt(n.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var r=this._progressLine;r&&(r.shape.x2=i,r.dirty());var a=this._findNearestTick(i),s=this.model;(e||a!==s.getCurrentIndex()&&s.get("realtime"))&&this._changeTimeline(a)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var e=this._mainGroup.getLocalTransform();return _(t,e,!0)},e.prototype._findNearestTick=function(t){var e,i=this.model.getData(),n=1/0,o=this._axis;return i.each(["value"],(function(i,r){var a=o.dataToCoord(i),s=Math.abs(a-t);s<n&&(n=s,e=r)})),e},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),e=this._tickSymbols,i=this._tickLabels;if(e)for(var n=0;n<e.length;n++)e&&e[n]&&e[n].toggleState("progress",n<t);if(i)for(n=0;n<i.length;n++)i&&i[n]&&i[n].toggleState("progress",bs(i[n]).dataIndex<=t)},e.type="timeline.slider",e}(ms);function Ss(t,e,i,n,o,r){var a=e.get("color");if(o)o.setColor(a),i.add(o),r&&r.onUpdate(o);else{var s=t.get("symbol");(o=Se(s,-1,-1,2,2,a)).setStyle("strokeNoScale",!0),i.add(o),r&&r.onCreate(o)}var l=e.getItemStyle(["color"]);o.setStyle(l),n=ut({rectHover:!0,z2:100},n,!0);var u=we(t.get("symbolSize"));n.scaleX=u[0]/2,n.scaleY=u[1]/2;var d=Me(t.get("symbolOffset"),u);d&&(n.x=(n.x||0)+d[0],n.y=(n.y||0)+d[1]);var h=t.get("symbolRotate");return n.rotation=(h||0)*Math.PI/180||0,o.attr(n),o.updateTransform(),o}function ws(t,e,i,n,o,r){if(!t.dragging){var a=o.getModel("checkpointStyle"),s=n.dataToCoord(o.getData().get("value",i));if(r||!a.get("animation",!0))t.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}function Ms(t){var e=t&&t.timeline;E(e)||(e=e?[e]:[]),R(e,(function(t){t&&function(t){var e=t.type,i={number:"value",time:"time"};i[e]&&(t.axisType=i[e],delete t.type);if(Is(t),As(t,"controlPosition")){var n=t.controlStyle||(t.controlStyle={});As(n,"position")||(n.position=t.controlPosition),"none"!==n.position||As(n,"show")||(n.show=!1,delete n.position),delete t.controlPosition}R(t.data||[],(function(t){Z(t)&&!E(t)&&(!As(t,"value")&&As(t,"name")&&(t.value=t.name),Is(t))}))}(t)}))}function Is(t){var e=t.itemStyle||(t.itemStyle={}),i=e.emphasis||(e.emphasis={}),n=t.label||t.label||{},o=n.normal||(n.normal={}),r={normal:1,emphasis:1};R(n,(function(t,e){r[e]||As(o,e)||(o[e]=t)})),i.label&&!As(n,"emphasis")&&(n.emphasis=i.label,delete i.label)}function As(t,e){return t.hasOwnProperty(e)}function Cs(t,e){if(!t)return!1;for(var i=E(t)?t:[t],n=0;n<i.length;n++)if(i[n]&&i[n][e])return!0;return!1}function Ds(t){Ae(t,"label",["show"])}var Ts=P(),Ls=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.createdBySelf=!1,i}return f(e,t),e.prototype.init=function(t,e,i){this.mergeDefaultAndTheme(t,i),this._mergeOption(t,i,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Ie.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,e){this._mergeOption(t,e,!1,!1)},e.prototype._mergeOption=function(t,e,i,n){var o=this.mainType;i||e.eachSeries((function(t){var i=t.get(this.mainType,!0),r=Ts(t)[o];i&&i.data?(r?r._mergeOption(i,e,!0):(n&&Ds(i),R(i.data,(function(t){t instanceof Array?(Ds(t[0]),Ds(t[1])):Ds(t)})),r=this.createMarkerModelFromSeries(i,this,e),St(r,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),r.__hostSeries=t),Ts(t)[o]=r):Ts(t)[o]=null}),this)},e.prototype.formatTooltip=function(t,e,i){var n=this.getData(),o=this.getRawValue(t),r=n.getName(t);return ye("section",{header:this.name,blocks:[ye("nameValue",{name:r,value:o,noName:!r,noValue:null==o})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,e){var i=fe.prototype.getDataParams.call(this,t,e),n=this.__hostSeries;return n&&(i.seriesId=n.id,i.seriesName=n.name,i.seriesType=n.subType),i},e.getMarkerModelFromSeries=function(t,e){return Ts(t)[e]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(A);D(Ls,fe.prototype);var Ps=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.createMarkerModelFromSeries=function(t,i,n){return new e(t,i,n)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(Ls);function Ns(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function ks(t,e,i,n,o,r){var a=[],s=nt(e,n)?e.getCalculationInfo("stackResultDimension"):n,l=Bs(e,s,t),u=e.indicesOfNearest(s,l)[0];a[o]=e.get(i,u),a[r]=e.get(s,u);var d=e.get(n,u),h=Ce(e.get(n,u));return(h=Math.min(h,20))>=0&&(a[r]=+a[r].toFixed(h)),[a,d]}var Es={min:lt(ks,"min"),max:lt(ks,"max"),average:lt(ks,"average"),median:lt(ks,"median")};function Rs(t,e){if(e){var i=t.getData(),n=t.coordinateSystem,o=n&&n.dimensions;if(!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!E(e.coord)&&E(o)){var r=Vs(e,i,n,t);if((e=W(e)).type&&Es[e.type]&&r.baseAxis&&r.valueAxis){var a=qt(o,r.baseAxis.dim),s=qt(o,r.valueAxis.dim),l=Es[e.type](i,r.baseDataDim,r.valueDataDim,a,s);e.coord=l[0],e.value=l[1]}else e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]}if(null!=e.coord&&E(o))for(var u=e.coord,d=0;d<2;d++)Es[u[d]]&&(u[d]=Bs(i,i.mapDimension(o[d]),u[d]));else e.coord=[];return e}}function Vs(t,e,i,n){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=i.getAxis(function(t,e){var i=t.getData().getDimensionInfo(e);return i&&i.coordDim}(n,o.valueDataDim)),o.baseAxis=i.getOtherAxis(o.valueAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim)):(o.baseAxis=n.getBaseAxis(),o.valueAxis=i.getOtherAxis(o.baseAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim),o.valueDataDim=e.mapDimension(o.valueAxis.dim)),o}function zs(t,e){return!(t&&t.containData&&e.coord&&!Ns(e))||t.containData(e.coord)}function Os(t,e){return t?function(t,i,n,o){var r=o<2?t.coord&&t.coord[o]:t.value;return De(r,e[o])}:function(t,i,n,o){return De(t.value,e[o])}}function Bs(t,e,i){if("average"===i){var n=0,o=0;return t.each(e,(function(t,e){isNaN(t)||(n+=t,o++)})),n/o}return"median"===i?t.getMedian(e):t.getDataExtent(e)["max"===i?1:0]}var Ws=P(),Gs=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.init=function(){this.markerGroupMap=wt()},e.prototype.render=function(t,e,i){var n=this,o=this.markerGroupMap;o.each((function(t){Ws(t).keep=!1})),e.eachSeries((function(t){var o=Ls.getMarkerModelFromSeries(t,n.type);o&&n.renderSeries(t,o,e,i)})),o.each((function(t){!Ws(t).keep&&n.group.remove(t.group)}))},e.prototype.markKeep=function(t){Ws(t).keep=!0},e.prototype.toggleBlurSeries=function(t,e){var i=this;R(t,(function(t){var n=Ls.getMarkerModelFromSeries(t,i.type);n&&n.getData().eachItemGraphicEl((function(t){t&&(e?Te(t):Le(t))}))}))},e.type="marker",e}(ot);function Fs(t,e,i){var n=e.coordinateSystem;t.each((function(o){var r,a=t.getItemModel(o),s=k(a.get("x"),i.getWidth()),l=k(a.get("y"),i.getHeight());if(isNaN(s)||isNaN(l)){if(e.getMarkerPosition)r=e.getMarkerPosition(t.getValues(t.dimensions,o));else if(n){var u=t.get(n.dimensions[0],o),d=t.get(n.dimensions[1],o);r=n.dataToPoint([u,d])}}else r=[s,l];isNaN(s)||(r[0]=s),isNaN(l)||(r[1]=l),t.setItemLayout(o,r)}))}var Hs=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.updateTransform=function(t,e,i){e.eachSeries((function(t){var e=Ls.getMarkerModelFromSeries(t,"markPoint");e&&(Fs(e.getData(),t,i),this.markerGroupMap.get(t.id).updateLayout())}),this)},e.prototype.renderSeries=function(t,e,i,n){var o=t.coordinateSystem,r=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(r)||s.set(r,new Pe),u=function(t,e,i){var n;n=t?B(t&&t.dimensions,(function(t){var i=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return St(St({},i),{name:t,ordinalMeta:null})})):[{name:"value",type:"float"}];var o=new pe(n,i),r=B(i.get("data"),lt(Rs,e));t&&(r=it(r,lt(zs,t)));var a=Os(!!t,n);return o.initData(r,null,a),o}(o,t,e);e.setData(u),Fs(e.getData(),t,n),u.each((function(t){var i=u.getItemModel(t),n=i.getShallow("symbol"),o=i.getShallow("symbolSize"),r=i.getShallow("symbolRotate"),s=i.getShallow("symbolOffset"),l=i.getShallow("symbolKeepAspect");if(ht(n)||ht(o)||ht(r)||ht(s)){var d=e.getRawValue(t),h=e.getDataParams(t);ht(n)&&(n=n(d,h)),ht(o)&&(o=o(d,h)),ht(r)&&(r=r(d,h)),ht(s)&&(s=s(d,h))}var c=i.getModel("itemStyle").getItemStyle(),p=Ne(a,"color");c.fill||(c.fill=p),u.setItemVisual(t,{symbol:n,symbolSize:o,symbolRotate:r,symbolOffset:s,symbolKeepAspect:l,style:c})})),l.updateData(u),this.group.add(l.group),u.eachItemGraphicEl((function(t){t.traverse((function(t){$(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},e.type="markPoint",e}(Gs);var Ys=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.createMarkerModelFromSeries=function(t,i,n){return new e(t,i,n)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(Ls),Xs=P(),Us=function(t,e,i,n){var o,r=t.getData();if(E(n))o=n;else{var a=n.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=n.xAxis||null!=n.yAxis){var s=void 0,l=void 0;if(null!=n.yAxis||null!=n.xAxis)s=e.getAxis(null!=n.yAxis?"y":"x"),l=ke(n.yAxis,n.xAxis);else{var u=Vs(n,r,e,t);s=u.valueAxis,l=Bs(r,Ee(r,u.valueDataDim),a)}var d="x"===s.dim?0:1,h=1-d,c=W(n),p={coord:[]};c.type=null,c.coord=[],c.coord[h]=-1/0,p.coord[h]=1/0;var g=i.get("precision");g>=0&&mt(l)&&(l=+l.toFixed(Math.min(g,20))),c.coord[d]=p.coord[d]=l,o=[c,p,{type:a,valueIndex:n.valueIndex,value:l}]}else o=[]}var f=[Rs(t,o[0]),Rs(t,o[1]),St({},o[2])];return f[2].type=f[2].type||null,ut(f[2],f[0]),ut(f[2],f[1]),f};function Zs(t){return!isNaN(t)&&!isFinite(t)}function js(t,e,i,n){var o=1-t,r=n.dimensions[t];return Zs(e[o])&&Zs(i[o])&&e[t]===i[t]&&n.getAxis(r).containData(e[t])}function qs(t,e){if("cartesian2d"===t.type){var i=e[0].coord,n=e[1].coord;if(i&&n&&(js(1,i,n,t)||js(0,i,n,t)))return!0}return zs(t,e[0])&&zs(t,e[1])}function Ks(t,e,i,n,o){var r,a=n.coordinateSystem,s=t.getItemModel(e),l=k(s.get("x"),o.getWidth()),u=k(s.get("y"),o.getHeight());if(isNaN(l)||isNaN(u)){if(n.getMarkerPosition)r=n.getMarkerPosition(t.getValues(t.dimensions,e));else{var d=a.dimensions,h=t.get(d[0],e),c=t.get(d[1],e);r=a.dataToPoint([h,c])}if(go(a,"cartesian2d")){var p=a.getAxis("x"),g=a.getAxis("y");d=a.dimensions;Zs(t.get(d[0],e))?r[0]=p.toGlobalCoord(p.getExtent()[i?0:1]):Zs(t.get(d[1],e))&&(r[1]=g.toGlobalCoord(g.getExtent()[i?0:1]))}isNaN(l)||(r[0]=l),isNaN(u)||(r[1]=u)}else r=[l,u];t.setItemLayout(e,r)}var $s=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.updateTransform=function(t,e,i){e.eachSeries((function(t){var e=Ls.getMarkerModelFromSeries(t,"markLine");if(e){var n=e.getData(),o=Xs(e).from,r=Xs(e).to;o.each((function(e){Ks(o,e,!0,t,i),Ks(r,e,!1,t,i)})),n.each((function(t){n.setItemLayout(t,[o.getItemLayout(t),r.getItemLayout(t)])})),this.markerGroupMap.get(t.id).updateLayout()}}),this)},e.prototype.renderSeries=function(t,e,i,n){var o=t.coordinateSystem,r=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(r)||s.set(r,new Po);this.group.add(l.group);var u=function(t,e,i){var n;n=t?B(t&&t.dimensions,(function(t){var i=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return St(St({},i),{name:t,ordinalMeta:null})})):[{name:"value",type:"float"}];var o=new pe(n,i),r=new pe(n,i),a=new pe([],i),s=B(i.get("data"),lt(Us,e,t,i));t&&(s=it(s,lt(qs,t)));var l=Os(!!t,n);return o.initData(B(s,(function(t){return t[0]})),null,l),r.initData(B(s,(function(t){return t[1]})),null,l),a.initData(B(s,(function(t){return t[2]}))),a.hasItemOption=!0,{from:o,to:r,line:a}}(o,t,e),d=u.from,h=u.to,c=u.line;Xs(e).from=d,Xs(e).to=h,e.setData(c);var p=e.get("symbol"),g=e.get("symbolSize"),f=e.get("symbolRotate"),y=e.get("symbolOffset");function m(e,i,o){var r=e.getItemModel(i);Ks(e,i,o,t,n);var s=r.getModel("itemStyle").getItemStyle();null==s.fill&&(s.fill=Ne(a,"color")),e.setItemVisual(i,{symbolKeepAspect:r.get("symbolKeepAspect"),symbolOffset:oe(r.get("symbolOffset",!0),y[o?0:1]),symbolRotate:oe(r.get("symbolRotate",!0),f[o?0:1]),symbolSize:oe(r.get("symbolSize"),g[o?0:1]),symbol:oe(r.get("symbol",!0),p[o?0:1]),style:s})}E(p)||(p=[p,p]),E(g)||(g=[g,g]),E(f)||(f=[f,f]),E(y)||(y=[y,y]),u.from.each((function(t){m(d,t,!0),m(h,t,!1)})),c.each((function(t){var e=c.getItemModel(t).getModel("lineStyle").getLineStyle();c.setItemLayout(t,[d.getItemLayout(t),h.getItemLayout(t)]),null==e.stroke&&(e.stroke=d.getItemVisual(t,"style").fill),c.setItemVisual(t,{fromSymbolKeepAspect:d.getItemVisual(t,"symbolKeepAspect"),fromSymbolOffset:d.getItemVisual(t,"symbolOffset"),fromSymbolRotate:d.getItemVisual(t,"symbolRotate"),fromSymbolSize:d.getItemVisual(t,"symbolSize"),fromSymbol:d.getItemVisual(t,"symbol"),toSymbolKeepAspect:h.getItemVisual(t,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(t,"symbolOffset"),toSymbolRotate:h.getItemVisual(t,"symbolRotate"),toSymbolSize:h.getItemVisual(t,"symbolSize"),toSymbol:h.getItemVisual(t,"symbol"),style:e})})),l.updateData(c),u.line.eachItemGraphicEl((function(t){$(t).dataModel=e,t.traverse((function(t){$(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},e.type="markLine",e}(Gs);var Qs=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.createMarkerModelFromSeries=function(t,i,n){return new e(t,i,n)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(Ls),Js=P(),tl=function(t,e,i,n){var o=n[0],r=n[1];if(o&&r){var a=Rs(t,o),s=Rs(t,r),l=a.coord,u=s.coord;l[0]=ke(l[0],-1/0),l[1]=ke(l[1],-1/0),u[0]=ke(u[0],1/0),u[1]=ke(u[1],1/0);var d=We([{},a,s]);return d.coord=[a.coord,s.coord],d.x0=a.x,d.y0=a.y,d.x1=s.x,d.y1=s.y,d}};function el(t){return!isNaN(t)&&!isFinite(t)}function il(t,e,i,n){var o=1-t;return el(e[o])&&el(i[o])}function nl(t,e){var i=e.coord[0],n=e.coord[1],o={coord:i,x:e.x0,y:e.y0},r={coord:n,x:e.x1,y:e.y1};return go(t,"cartesian2d")?!(!i||!n||!il(1,i,n)&&!il(0,i,n))||function(t,e,i){return!(t&&t.containZone&&e.coord&&i.coord&&!Ns(e)&&!Ns(i))||t.containZone(e.coord,i.coord)}(t,o,r):zs(t,o)||zs(t,r)}function ol(t,e,i,n,o){var r,a=n.coordinateSystem,s=t.getItemModel(e),l=k(s.get(i[0]),o.getWidth()),u=k(s.get(i[1]),o.getHeight());if(isNaN(l)||isNaN(u)){if(n.getMarkerPosition){var d=t.getValues(["x0","y0"],e),h=t.getValues(["x1","y1"],e),c=a.clampData(d),p=a.clampData(h),g=[];"x0"===i[0]?g[0]=c[0]>p[0]?h[0]:d[0]:g[0]=c[0]>p[0]?d[0]:h[0],"y0"===i[1]?g[1]=c[1]>p[1]?h[1]:d[1]:g[1]=c[1]>p[1]?d[1]:h[1],r=n.getMarkerPosition(g,i,!0)}else{var f=[v=t.get(i[0],e),x=t.get(i[1],e)];a.clampData&&a.clampData(f,f),r=a.dataToPoint(f,!0)}if(go(a,"cartesian2d")){var y=a.getAxis("x"),m=a.getAxis("y"),v=t.get(i[0],e),x=t.get(i[1],e);el(v)?r[0]=y.toGlobalCoord(y.getExtent()["x0"===i[0]?0:1]):el(x)&&(r[1]=m.toGlobalCoord(m.getExtent()["y0"===i[1]?0:1]))}isNaN(l)||(r[0]=l),isNaN(u)||(r[1]=u)}else r=[l,u];return r}var rl=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],al=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.updateTransform=function(t,e,i){e.eachSeries((function(t){var e=Ls.getMarkerModelFromSeries(t,"markArea");if(e){var n=e.getData();n.each((function(e){var o=B(rl,(function(o){return ol(n,e,o,t,i)}));n.setItemLayout(e,o),n.getItemGraphicEl(e).setShape("points",o)}))}}),this)},e.prototype.renderSeries=function(t,e,i,n){var o=t.coordinateSystem,r=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(r)||s.set(r,{group:new J});this.group.add(l.group),this.markKeep(l);var u=function(t,e,i){var n,o,r=["x0","y0","x1","y1"];if(t){var a=B(t&&t.dimensions,(function(t){var i=e.getData(),n=i.getDimensionInfo(i.mapDimension(t))||{};return St(St({},n),{name:t,ordinalMeta:null})}));o=B(r,(function(t,e){return{name:t,type:a[e%2].type}})),n=new pe(o,i)}else n=new pe(o=[{name:"value",type:"float"}],i);var s=B(i.get("data"),lt(tl,e,t,i));t&&(s=it(s,lt(nl,t)));var l=t?function(t,e,i,n){var r=t.coord[Math.floor(n/2)][n%2];return De(r,o[n])}:function(t,e,i,n){return De(t.value,o[n])};return n.initData(s,null,l),n.hasItemOption=!0,n}(o,t,e);e.setData(u),u.each((function(e){var i=B(rl,(function(i){return ol(u,e,i,t,n)})),r=o.getAxis("x").scale,s=o.getAxis("y").scale,l=r.getExtent(),d=s.getExtent(),h=[r.parse(u.get("x0",e)),r.parse(u.get("x1",e))],c=[s.parse(u.get("y0",e)),s.parse(u.get("y1",e))];Dt(h),Dt(c);var p=!!(l[0]>h[1]||l[1]<h[0]||d[0]>c[1]||d[1]<c[0]);u.setItemLayout(e,{points:i,allClipped:p});var g=u.getItemModel(e).getModel("itemStyle").getItemStyle(),f=Ne(a,"color");g.fill||(g.fill=f,dt(g.fill)&&(g.fill=Re(g.fill,.4))),g.stroke||(g.stroke=f),u.setItemVisual(e,"style",g)})),u.diff(Js(l).data).add((function(t){var e=u.getItemLayout(t);if(!e.allClipped){var i=new gt({shape:{points:e.points}});u.setItemGraphicEl(t,i),l.group.add(i)}})).update((function(t,i){var n=Js(l).data.getItemGraphicEl(i),o=u.getItemLayout(t);o.allClipped?n&&l.group.remove(n):(n?ie(n,{shape:{points:o.points}},e,t):n=new gt({shape:{points:o.points}}),u.setItemGraphicEl(t,n),l.group.add(n))})).remove((function(t){var e=Js(l).data.getItemGraphicEl(t);l.group.remove(e)})).execute(),u.eachItemGraphicEl((function(t,i){var n=u.getItemModel(i),o=u.getItemVisual(i,"style");t.useStyle(u.getItemVisual(i,"style")),Ve(t,ze(n),{labelFetcher:e,labelDataIndex:i,defaultText:u.getName(i)||"",inheritColor:dt(o.fill)?Re(o.fill,1):"#000"}),Oe(t,n),Be(t,null,null,n.get(["emphasis","disabled"])),$(t).dataModel=e})),Js(l).data=u,l.group.silent=e.get("silent")||t.get("silent")},e.type="markArea",e}(Gs);var sl={label:{enabled:!0},decal:{show:!1}},ll=P(),ul={};function dl(t,e){var i=t.getModel("aria");if(i.get("enabled")){var n=W(sl);ut(n.label,t.getLocaleModel().get("aria"),!1),ut(i.option,n,!1),function(){if(i.getModel("decal").get("show")){var e=wt();t.eachSeries((function(t){if(!t.isColorBySeries()){var i=e.get(t.type);i||(i={},e.set(t.type,i)),ll(t).scope=i}})),t.eachRawSeries((function(e){if(!t.isSeriesFiltered(e))if(ht(e.enableAriaDecal))e.enableAriaDecal();else{var i=e.getData();if(e.isColorBySeries()){var n=Ge(e.ecModel,e.name,ul,t.getSeriesCount()),o=i.getVisual("decal");i.setVisual("decal",u(o,n))}else{var r=e.getRawData(),a={},s=ll(e).scope;i.each((function(t){var e=i.getRawIndex(t);a[e]=t}));var l=r.count();r.each((function(t){var n=a[t],o=r.getName(t)||t+"",d=Ge(e.ecModel,o,s,l),h=i.getItemVisual(n,"decal");i.setItemVisual(n,"decal",u(h,d))}))}}function u(t,e){var i=t?St(St({},e),t):e;return i.dirty=!0,i}}))}}(),function(){var n=e.getZr().dom;if(!n)return;var r=t.getLocaleModel().get("aria"),a=i.getModel("label");if(a.option=U(a.option,r),!a.get("enabled"))return;if(n.setAttribute("role","img"),a.get("description"))return void n.setAttribute("aria-label",a.get("description"));var s,l=t.getSeriesCount(),u=a.get(["data","maxCount"])||10,d=a.get(["series","maxCount"])||10,h=Math.min(l,d);if(l<1)return;var c=function(){var e=t.get("title");e&&e.length&&(e=e[0]);return e&&e.text}();s=c?o(a.get(["general","withTitle"]),{title:c}):a.get(["general","withoutTitle"]);var p=[];s+=o(l>1?a.get(["series","multiple","prefix"]):a.get(["series","single","prefix"]),{seriesCount:l}),t.eachSeries((function(e,i){if(i<h){var n=void 0,r=e.get("name")?"withName":"withoutName";n=o(n=l>1?a.get(["series","multiple",r]):a.get(["series","single",r]),{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:(b=e.subType,_=t.getLocaleModel().get(["series","typeNames"]),_[b]||_.chart)});var s=e.getData();if(s.count()>u)n+=o(a.get(["data","partialData"]),{displayCnt:u});else n+=a.get(["data","allData"]);for(var d=a.get(["data","separator","middle"]),c=a.get(["data","separator","end"]),g=a.get(["data","excludeDimensionId"]),f=[],y=0;y<s.count();y++)if(y<u){var m=s.getName(y),v=g?it(s.getValues(y),(function(t,e){return-1===qt(g,e)})):s.getValues(y),x=a.get(["data",m?"withName":"withoutName"]);f.push(o(x,{name:m,value:v.join(d)}))}n+=f.join(d)+c,p.push(n)}var b,_}));var g=a.getModel(["series","multiple","separator"]),f=g.get("middle"),y=g.get("end");s+=p.join(f)+y,n.setAttribute("aria-label",s)}()}function o(t,e){if(!dt(t))return t;var i=t;return R(e,(function(t,e){i=i.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)})),i}}function hl(t){if(t&&t.aria){var e=t.aria;null!=e.show&&(e.enabled=e.show),e.label=e.label||{},R(["description","general","series","data"],(function(t){null!=e[t]&&(e.label[t]=e[t])}))}}var cl={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},pl=function(){function t(t){if(null==(this._condVal=dt(t)?new RegExp(t):Xe(t)?t:null)){Fe("")}}return t.prototype.evaluate=function(t){var e=typeof t;return dt(e)?this._condVal.test(t):!!mt(e)&&this._condVal.test(t+"")},t}(),gl=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),fl=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},t}(),yl=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},t}(),ml=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),vl=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),i=t?this.valueParser(e):null,n=0;n<this.subCondList.length;n++)if(!this.subCondList[n].evaluate(t?i:e))return!1;return!0},t}();function xl(t,e){if(!0===t||!1===t){var i=new gl;return i.value=t,i}return _l(t)||Fe(""),t.and?bl("and",t,e):t.or?bl("or",t,e):t.not?function(t,e){var i=t.not,n="";_l(i)||Fe(n);var o=new ml;o.child=xl(i,e),o.child||Fe(n);return o}(t,e):function(t,e){for(var i="",n=e.prepareGetValue(t),o=[],r=Yt(t),a=t.parser,s=a?He(a):null,l=0;l<r.length;l++){var u=r[l];if("parser"!==u&&!e.valueGetterAttrMap.get(u)){var d=Ht(cl,u)?cl[u]:u,h=t[u],c=s?s(h):h,p=Ye(d,c)||"reg"===d&&new pl(c);p||Fe(i),o.push(p)}}o.length||Fe(i);var g=new vl;return g.valueGetterParam=n,g.valueParser=s,g.getValue=e.getValue,g.subCondList=o,g}(t,e)}function bl(t,e,i){var n=e[t];E(n)||Fe(""),n.length||Fe("");var o="and"===t?new fl:new yl;return o.children=B(n,(function(t){return xl(t,i)})),o.children.length||Fe(""),o}function _l(t){return Z(t)&&!$t(t)}var Sl=function(){function t(t,e){this._cond=xl(t,e)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();var wl={type:"echarts:filter",transform:function(t){for(var e,i,n,o=t.upstream,r=(i=t.config,n={valueGetterAttrMap:wt({dimension:!0}),prepareGetValue:function(t){var e=t.dimension;Ht(t,"dimension")||Fe("");var i=o.getDimensionInfo(e);return i||Fe(""),{dimIdx:i.index}},getValue:function(t){return o.retrieveValueFromItem(e,t.dimIdx)}},new Sl(i,n)),a=[],s=0,l=o.count();s<l;s++)e=o.getRawDataItem(s),r.evaluate()&&a.push(e);return{data:a}}},Ml={type:"echarts:sort",transform:function(t){var e=t.upstream,i=t.config,n="",o=vt(i);o.length||Fe(n);var r=[];R(o,(function(t){var i=t.dimension,o=t.order,a=t.parser,s=t.incomparable;if(null==i&&Fe(n),"asc"!==o&&"desc"!==o&&Fe(n),s&&"min"!==s&&"max"!==s){Fe("")}if("asc"!==o&&"desc"!==o){Fe("")}var l=e.getDimensionInfo(i);l||Fe(n);var u=a?He(a):null;a&&!u&&Fe(n),r.push({dimIdx:l.index,parser:u,comparator:new Ue(o,s)})}));var a=e.sourceFormat;a!==Ze&&a!==je&&Fe(n);for(var s=[],l=0,u=e.count();l<u;l++)s.push(e.getRawDataItem(l));return s.sort((function(t,i){for(var n=0;n<r.length;n++){var o=r[n],a=e.retrieveValueFromItem(t,o.dimIdx),s=e.retrieveValueFromItem(i,o.dimIdx);o.parser&&(a=o.parser(a),s=o.parser(s));var l=o.comparator.evaluate(a,s);if(0!==l)return l}return 0})),{data:s}}};function Il(t){t.eachSeriesByType("radar",(function(t){var e=t.getData(),i=[],n=t.coordinateSystem;if(n){var o=n.getIndicatorAxes();R(o,(function(t,r){e.each(e.mapDimension(o[r].dim),(function(t,e){i[e]=i[e]||[];var o=n.dataToPoint(t,r);i[e][r]=Al(o)?o:Cl(n)}))})),e.each((function(t){var o=qe(i[t],(function(t){return Al(t)}))||Cl(n);i[t].push(o.slice()),e.setItemLayout(t,i[t])}))}}))}function Al(t){return!isNaN(t[0])&&!isNaN(t[1])}function Cl(t){return[t.cx,t.cy]}function Dl(t){var e=t.polar;if(e){E(e)||(e=[e]);var i=[];R(e,(function(e,n){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],E(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):i.push(e)})),t.polar=i}R(t.series,(function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)}))}var Tl=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.render=function(t,e,i){var n=t.coordinateSystem,o=this.group,r=t.getData(),a=this._data;function s(t,e){var i=t.getItemVisual(e,"symbol")||"circle";if("none"!==i){var n=we(t.getItemVisual(e,"symbolSize")),o=Se(i,-1,-1,2,2),r=t.getItemVisual(e,"symbolRotate")||0;return o.attr({style:{strokeNoScale:!0},z2:100,scaleX:n[0]/2,scaleY:n[1]/2,rotation:r*Math.PI/180||0}),o}}function l(e,i,n,o,r,a){n.removeAll();for(var l=0;l<i.length-1;l++){var u=s(o,r);u&&(u.__dimIdx=l,e[l]?(u.setPosition(e[l]),F[a?"initProps":"updateProps"](u,{x:i[l][0],y:i[l][1]},t,r)):u.setPosition(i[l]),n.add(u))}}function u(t){return B(t,(function(t){return[n.cx,n.cy]}))}r.diff(a).add((function(e){var i=r.getItemLayout(e);if(i){var n=new gt,o=new pt,a={shape:{points:i}};n.shape.points=u(i),o.shape.points=u(i),Ke(n,a,t,e),Ke(o,a,t,e);var s=new J,d=new J;s.add(o),s.add(n),s.add(d),l(o.shape.points,i,d,r,e,!0),r.setItemGraphicEl(e,s)}})).update((function(e,i){var n=a.getItemGraphicEl(i),o=n.childAt(0),s=n.childAt(1),u=n.childAt(2),d={shape:{points:r.getItemLayout(e)}};d.shape.points&&(l(o.shape.points,d.shape.points,u,r,e,!1),$e(s),$e(o),ie(o,d,t),ie(s,d,t),r.setItemGraphicEl(e,n))})).remove((function(t){o.remove(a.getItemGraphicEl(t))})).execute(),r.eachItemGraphicEl((function(t,e){var i=r.getItemModel(e),n=t.childAt(0),a=t.childAt(1),s=t.childAt(2),l=r.getItemVisual(e,"style"),u=l.fill;o.add(t),n.useStyle(U(i.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:u})),Oe(n,i,"lineStyle"),Oe(a,i,"areaStyle");var d=i.getModel("areaStyle"),h=d.isEmpty()&&d.parentModel.isEmpty();a.ignore=h,R(["emphasis","select","blur"],(function(t){var e=i.getModel([t,"areaStyle"]),n=e.isEmpty()&&e.parentModel.isEmpty();a.ensureState(t).ignore=n&&h})),a.useStyle(U(d.getAreaStyle(),{fill:u,opacity:.7,decal:l.decal}));var c=i.getModel("emphasis"),p=c.getModel("itemStyle").getItemStyle();s.eachChild((function(t){if(t instanceof ae){var n=t.style;t.useStyle(St({image:n.image,x:n.x,y:n.y,width:n.width,height:n.height},l))}else t.useStyle(l),t.setColor(u),t.style.strokeNoScale=!0;t.ensureState("emphasis").style=W(p);var o=r.getStore().get(r.getDimensionIndex(t.__dimIdx),e);(null==o||isNaN(o))&&(o=""),Ve(t,ze(i),{labelFetcher:r.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:o,inheritColor:u,defaultOpacity:l.opacity})})),Be(t,c.get("focus"),c.get("blurScope"),c.get("disabled"))})),this._data=r},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(Qe),Ll=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.hasSymbolVisual=!0,i}return f(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Co(xt(this.getData,this),xt(this.getRawData,this))},e.prototype.getInitialData=function(t,e){return Je(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,e,i){var n=this.getData(),o=this.coordinateSystem.getIndicatorAxes(),r=this.getData().getName(t),a=""===r?this.name:r,s=ti(this,t);return ye("section",{header:a,sortBlocks:!0,blocks:B(o,(function(e){var i=n.get(n.mapDimension(e.dim),t);return ye("nameValue",{markerType:"subItem",markerColor:s,name:e.name,value:i,sortParam:i})}))})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var e=this.getData(),i=this.coordinateSystem,n=e.getValues(B(i.dimensions,(function(t){return e.mapDimension(t)})),t),o=0,r=n.length;o<r;o++)if(!isNaN(n[o])){var a=i.getIndicatorAxes();return i.coordToPoint(a[o].dataToCoord(n[o]),o)}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(ei);function Pl(t,e){var i=t.isExpand?t.children:[],n=t.parentNode.children,o=t.hierNode.i?n[t.hierNode.i-1]:null;if(i.length){!function(t){var e=t.children,i=e.length,n=0,o=0;for(;--i>=0;){var r=e[i];r.hierNode.prelim+=n,r.hierNode.modifier+=n,o+=r.hierNode.change,n+=r.hierNode.shift+o}}(t);var r=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;o?(t.hierNode.prelim=o.hierNode.prelim+e(t,o),t.hierNode.modifier=t.hierNode.prelim-r):t.hierNode.prelim=r}else o&&(t.hierNode.prelim=o.hierNode.prelim+e(t,o));t.parentNode.hierNode.defaultAncestor=function(t,e,i,n){if(e){for(var o=t,r=t,a=r.parentNode.children[0],s=e,l=o.hierNode.modifier,u=r.hierNode.modifier,d=a.hierNode.modifier,h=s.hierNode.modifier;s=Rl(s),r=Vl(r),s&&r;){o=Rl(o),a=Vl(a),o.hierNode.ancestor=t;var c=s.hierNode.prelim+h-r.hierNode.prelim-u+n(s,r);c>0&&(Ol(zl(s,t,i),t,c),u+=c,l+=c),h+=s.hierNode.modifier,u+=r.hierNode.modifier,l+=o.hierNode.modifier,d+=a.hierNode.modifier}s&&!Rl(o)&&(o.hierNode.thread=s,o.hierNode.modifier+=h-l),r&&!Vl(a)&&(a.hierNode.thread=r,a.hierNode.modifier+=u-d,i=t)}return i}(t,o,t.parentNode.hierNode.defaultAncestor||n[0],e)}function Nl(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function kl(t){return arguments.length?t:Bl}function El(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function Rl(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function Vl(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function zl(t,e,i){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:i}function Ol(t,e,i){var n=i/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=n,e.hierNode.shift+=i,e.hierNode.modifier+=i,e.hierNode.prelim+=i,t.hierNode.change+=n}function Bl(t,e){return t.parentNode===e.parentNode?1:2}var Wl=function(){return function(){this.parentPoint=[],this.childPoints=[]}}(),Gl=function(t){function e(e){return t.call(this,e)||this}return f(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Wl},e.prototype.buildPath=function(t,e){var i=e.childPoints,n=i.length,o=e.parentPoint,r=i[0],a=i[n-1];if(1===n)return t.moveTo(o[0],o[1]),void t.lineTo(r[0],r[1]);var s=e.orient,l="TB"===s||"BT"===s?0:1,u=1-l,d=k(e.forkPosition,1),h=[];h[l]=o[l],h[u]=o[u]+(a[u]-o[u])*d,t.moveTo(o[0],o[1]),t.lineTo(h[0],h[1]),t.moveTo(r[0],r[1]),h[l]=r[l],t.lineTo(h[0],h[1]),h[l]=a[l],t.lineTo(h[0],h[1]),t.lineTo(a[0],a[1]);for(var c=1;c<n-1;c++){var p=i[c];t.moveTo(p[0],p[1]),h[l]=p[l],t.lineTo(h[0],h[1])}},e}(jt),Fl=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._mainGroup=new J,i}return f(e,t),e.prototype.init=function(t,e){this._controller=new fo(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,e,i){var n=t.getData(),o=t.layoutInfo,r=this._mainGroup;"radial"===t.get("layout")?(r.x=o.x+o.width/2,r.y=o.y+o.height/2):(r.x=o.x,r.y=o.y),this._updateViewCoordSys(t,i),this._updateController(t,e,i);var a=this._data;n.diff(a).add((function(e){Hl(n,e)&&Yl(n,e,null,r,t)})).update((function(e,i){var o=a.getItemGraphicEl(i);Hl(n,e)?Yl(n,e,o,r,t):o&&Zl(a,i,o,r,t)})).remove((function(e){var i=a.getItemGraphicEl(e);i&&Zl(a,e,i,r,t)})).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&n.eachItemGraphicEl((function(e,n){e.off("click").on("click",(function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:n})}))})),this._data=n},e.prototype._updateViewCoordSys=function(t,e){var i=t.getData(),n=[];i.each((function(t){var e=i.getItemLayout(t);!e||isNaN(e.x)||isNaN(e.y)||n.push([+e.x,+e.y])}));var o=[],r=[];ii(n,o,r);var a=this._min,s=this._max;r[0]-o[0]==0&&(o[0]=a?a[0]:o[0]-1,r[0]=s?s[0]:r[0]+1),r[1]-o[1]==0&&(o[1]=a?a[1]:o[1]-1,r[1]=s?s[1]:r[1]+1);var l=t.coordinateSystem=new yo;l.zoomLimit=t.get("scaleLimit"),l.setBoundingRect(o[0],o[1],r[0]-o[0],r[1]-o[1]),l.setCenter(t.get("center"),e),l.setZoom(t.get("zoom")),this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY}),this._min=o,this._max=r},e.prototype._updateController=function(t,e,i){var n=this,o=this._controller,r=this._controllerHost,a=this.group;o.setPointerChecker((function(e,n,o){var r=a.getBoundingRect();return r.applyTransform(a.transform),r.contain(n,o)&&!ni(e,i,t)})),o.enable(t.get("roam")),r.zoomLimit=t.get("scaleLimit"),r.zoom=t.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(e){mo(r,e.dx,e.dy),i.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){vo(r,e.scale,e.originX,e.originY),i.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),n._updateNodeAndLinkScale(t),i.updateLabelLayout()}))},e.prototype._updateNodeAndLinkScale=function(t){var e=t.getData(),i=this._getNodeGlobalScale(t);e.eachItemGraphicEl((function(t,e){t.setSymbolScale(i)}))},e.prototype._getNodeGlobalScale=function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var i=this._nodeScaleRatio,n=e.scaleX||1;return((e.getZoom()-1)*i+1)/n},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(Qe);function Hl(t,e){var i=t.getItemLayout(e);return i&&!isNaN(i.x)&&!isNaN(i.y)}function Yl(t,e,i,n,o){var r=!i,a=t.tree.getNodeByDataIndex(e),s=a.getModel(),l=a.getVisual("style").fill,u=!1===a.isExpand&&0!==a.children.length?l:"#fff",d=t.tree.root,h=a.parentNode===d?a:a.parentNode||a,c=t.getItemGraphicEl(h.dataIndex),p=h.getLayout(),g=c?{x:c.__oldX,y:c.__oldY,rawX:c.__radialOldRawX,rawY:c.__radialOldRawY}:p,f=a.getLayout();r?((i=new oi(t,e,null,{symbolInnerColor:u,useNameLabel:!0})).x=g.x,i.y=g.y):i.updateData(t,e,null,{symbolInnerColor:u,useNameLabel:!0}),i.__radialOldRawX=i.__radialRawX,i.__radialOldRawY=i.__radialRawY,i.__radialRawX=f.rawX,i.__radialRawY=f.rawY,n.add(i),t.setItemGraphicEl(e,i),i.__oldX=i.x,i.__oldY=i.y,ie(i,{x:f.x,y:f.y},o);var y=i.getSymbolPath();if("radial"===o.get("layout")){var m=d.children[0],v=m.getLayout(),x=m.children.length,b=void 0,_=void 0;if(f.x===v.x&&!0===a.isExpand&&m.children.length){var S={x:(m.children[0].getLayout().x+m.children[x-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[x-1].getLayout().y)/2};(b=Math.atan2(S.y-v.y,S.x-v.x))<0&&(b=2*Math.PI+b),(_=S.x<v.x)&&(b-=Math.PI)}else(b=Math.atan2(f.y-v.y,f.x-v.x))<0&&(b=2*Math.PI+b),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(_=f.x<v.x)&&(b-=Math.PI):(_=f.x>v.x)||(b-=Math.PI);var w=_?"left":"right",M=s.getModel("label"),I=M.get("rotate"),A=I*(Math.PI/180),C=y.getTextContent();C&&(y.setTextConfig({position:M.get("position")||w,rotation:null==I?-b:A,origin:"center"}),C.setStyle("verticalAlign","middle"))}var D=s.get(["emphasis","focus"]),T="relative"===D?ri(a.getAncestorsIndices(),a.getDescendantIndices()):"ancestor"===D?a.getAncestorsIndices():"descendant"===D?a.getDescendantIndices():null;T&&($(i).focus=T),function(t,e,i,n,o,r,a,s){var l=e.getModel(),u=t.get("edgeShape"),d=t.get("layout"),h=t.getOrient(),c=t.get(["lineStyle","curveness"]),p=t.get("edgeForkPosition"),g=l.getModel("lineStyle").getLineStyle(),f=n.__edge;if("curve"===u)e.parentNode&&e.parentNode!==i&&(f||(f=n.__edge=new li({shape:jl(d,h,c,o,o)})),ie(f,{shape:jl(d,h,c,r,a)},t));else if("polyline"===u&&"orthogonal"===d&&e!==i&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var y=e.children,m=[],v=0;v<y.length;v++){var x=y[v].getLayout();m.push([x.x,x.y])}f||(f=n.__edge=new Gl({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:h,forkPosition:p}})),ie(f,{shape:{parentPoint:[a.x,a.y],childPoints:m}},t)}f&&("polyline"!==u||e.isExpand)&&(f.useStyle(U({strokeNoScale:!0,fill:null},g)),Oe(f,l,"lineStyle"),ui(f),s.add(f))}(o,a,d,i,g,p,f,n),i.__edge&&(i.onHoverStateChange=function(e){if("blur"!==e){var n=a.parentNode&&t.getItemGraphicEl(a.parentNode.dataIndex);n&&n.hoverState===ai||si(i.__edge,e)}})}function Xl(t,e,i,n,o){var r=Ul(e.tree.root,t),a=r.source,s=r.sourceLayout,l=e.getItemGraphicEl(t.dataIndex);if(l){var u=e.getItemGraphicEl(a.dataIndex).__edge,d=l.__edge||(!1===a.isExpand||1===a.children.length?u:void 0),h=n.get("edgeShape"),c=n.get("layout"),p=n.get("orient"),g=n.get(["lineStyle","curveness"]);d&&("curve"===h?di(d,{shape:jl(c,p,g,s,s),style:{opacity:0}},n,{cb:function(){i.remove(d)},removeOpt:o}):"polyline"===h&&"orthogonal"===n.get("layout")&&di(d,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},n,{cb:function(){i.remove(d)},removeOpt:o}))}}function Ul(t,e){for(var i,n=e.parentNode===t?e:e.parentNode||e;null==(i=n.getLayout());)n=n.parentNode===t?n:n.parentNode||n;return{source:n,sourceLayout:i}}function Zl(t,e,i,n,o){var r=t.tree.getNodeByDataIndex(e),a=Ul(t.tree.root,r).sourceLayout,s={duration:o.get("animationDurationUpdate"),easing:o.get("animationEasingUpdate")};di(i,{x:a.x+1,y:a.y+1},o,{cb:function(){n.remove(i),t.setItemGraphicEl(e,null)},removeOpt:s}),i.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:s}),r.children.forEach((function(e){Xl(e,t,n,o,s)})),Xl(r,t,n,o,s)}function jl(t,e,i,n,o){var r,a,s,l,u,d,h,c;if("radial"===t){u=n.rawX,h=n.rawY,d=o.rawX,c=o.rawY;var p=El(u,h),g=El(u,h+(c-h)*i),f=El(d,c+(h-c)*i),y=El(d,c);return{x1:p.x||0,y1:p.y||0,x2:y.x||0,y2:y.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:f.x||0,cpy2:f.y||0}}return u=n.x,h=n.y,d=o.x,c=o.y,"LR"!==e&&"RL"!==e||(r=u+(d-u)*i,a=h,s=d+(u-d)*i,l=c),"TB"!==e&&"BT"!==e||(r=u,a=h+(c-h)*i,s=d,l=c+(h-c)*i),{x1:u,y1:h,x2:d,y2:c,cpx1:r,cpy1:a,cpx2:s,cpy2:l}}var ql=function(){function t(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(t,e,i){ht(t)&&(i=e,e=t,t=null),dt(t=t||{})&&(t={order:t});var n,o=t.order||"preorder",r=this[t.attr||"children"];"preorder"===o&&(n=e.call(i,this));for(var a=0;!n&&a<r.length;a++)r[a].eachNode(t,e,i);"postorder"===o&&e.call(i,this)},t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height)}this.height=e+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].getNodeById(t);if(o)return o}},t.prototype.contains=function(t){if(t===this)return!0;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].contains(t);if(o)return o}},t.prototype.getAncestors=function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},t.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode((function(e){t.push(e.dataIndex)})),t},t.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},t.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}(),Kl=function(){function t(t){this.type="tree",this._nodes=[],this.hostModel=t}return t.prototype.eachNode=function(t,e,i){this.root.eachNode(t,e,i)},t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var t=this.data,e=this._nodes,i=0,n=e.length;i<n;i++)e[i].dataIndex=-1;for(i=0,n=t.count();i<n;i++)e[t.getRawIndex(i)].dataIndex=i},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,i,n){var o=new t(i),r=[],a=1;!function t(e,i){var n=e.value;a=Math.max(a,E(n)?n.length:1),r.push(e);var s=new ql(Jt(e.name,""),o);i?function(t,e){var i=e.children;if(t.parentNode===e)return;i.push(t),t.parentNode=e}(s,i):o.root=s,o._nodes.push(s);var l=e.children;if(l)for(var u=0;u<l.length;u++)t(l[u],s)}(e),o.root.updateDepthAndHeight(0);var s=hi(r,{coordDimensions:["value"],dimensionsCount:a}).dimensions,l=new pe(s,i);return l.initData(r),n&&n(l),No({mainData:l,struct:o,structAttr:"tree"}),o.update(),o},t}();function $l(t,e,i){if(t&&qt(e,t.type)>=0){var n=i.getData().tree.root,o=t.targetNode;if(dt(o)&&(o=n.getNodeById(o)),o&&n.contains(o))return{node:o};var r=t.targetNodeId;if(null!=r&&(o=n.getNodeById(r)))return{node:o}}}function Ql(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function Jl(t,e){var i=Ql(t);return qt(i,e)>=0}function tu(t,e){for(var i=[];t;){var n=t.dataIndex;i.push({name:t.name,dataIndex:n,value:e.getRawValue(n)}),t=t.parentNode}return i.reverse(),i}var eu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return f(e,t),e.prototype.getInitialData=function(t){var e={name:t.name,children:t.data},i=t.leaves||{},n=new j(i,this,this.ecModel),o=Kl.createTree(e,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var i=o.getNodeByDataIndex(e);return i&&i.children.length&&i.isExpand||(t.parentModel=n),t}))}));var r=0;o.eachNode("preorder",(function(t){t.depth>r&&(r=t.depth)}));var a=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:r;return o.root.eachNode("preorder",(function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=a})),o.data},e.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,e,i){for(var n=this.getData().tree,o=n.root.children[0],r=n.getNodeByDataIndex(t),a=r.getValue(),s=r.name;r&&r!==o;)s=r.parentNode.name+"."+s,r=r.parentNode;return ye("nameValue",{name:s,value:a,noValue:isNaN(a)||null==a})},e.prototype.getDataParams=function(e){var i=t.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return i.treeAncestors=tu(n,this),i.collapsed=!n.isExpand,i},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(ei);function iu(t,e){for(var i,n=[t];i=n.pop();)if(e(i),i.isExpand){var o=i.children;if(o.length)for(var r=o.length-1;r>=0;r--)n.push(o[r])}}function nu(t,e){t.eachSeriesByType("tree",(function(t){!function(t,e){var i=function(t,e){return Mt(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=i;var n=t.get("layout"),o=0,r=0,a=null;"radial"===n?(o=2*Math.PI,r=Math.min(i.height,i.width)/2,a=kl((function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth}))):(o=i.width,r=i.height,a=kl());var s=t.getData().tree.root,l=s.children[0];if(l){!function(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var i,n,o=[e];i=o.pop();)if(n=i.children,i.isExpand&&n.length)for(var r=n.length-1;r>=0;r--){var a=n[r];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:r,thread:null},o.push(a)}}(s),function(t,e,i){for(var n,o=[t],r=[];n=o.pop();)if(r.push(n),n.isExpand){var a=n.children;if(a.length)for(var s=0;s<a.length;s++)o.push(a[s])}for(;n=r.pop();)e(n,i)}(l,Pl,a),s.hierNode.modifier=-l.hierNode.prelim,iu(l,Nl);var u=l,d=l,h=l;iu(l,(function(t){var e=t.getLayout().x;e<u.getLayout().x&&(u=t),e>d.getLayout().x&&(d=t),t.depth>h.depth&&(h=t)}));var c=u===d?1:a(u,d)/2,p=c-u.getLayout().x,g=0,f=0,y=0,m=0;if("radial"===n)g=o/(d.getLayout().x+c+p),f=r/(h.depth-1||1),iu(l,(function(t){y=(t.getLayout().x+p)*g,m=(t.depth-1)*f;var e=El(y,m);t.setLayout({x:e.x,y:e.y,rawX:y,rawY:m},!0)}));else{var v=t.getOrient();"RL"===v||"LR"===v?(f=r/(d.getLayout().x+c+p),g=o/(h.depth-1||1),iu(l,(function(t){m=(t.getLayout().x+p)*f,y="LR"===v?(t.depth-1)*g:o-(t.depth-1)*g,t.setLayout({x:y,y:m},!0)}))):"TB"!==v&&"BT"!==v||(g=o/(d.getLayout().x+c+p),f=r/(h.depth-1||1),iu(l,(function(t){y=(t.getLayout().x+p)*g,m="TB"===v?(t.depth-1)*f:r-(t.depth-1)*f,t.setLayout({x:y,y:m},!0)})))}}}(t,e)}))}function ou(t){t.eachSeriesByType("tree",(function(t){var e=t.getData();e.tree.eachNode((function(t){var i=t.getModel().getModel("itemStyle").getItemStyle(),n=e.ensureUniqueItemVisual(t.dataIndex,"style");St(n,i)}))}))}var ru=["treemapZoomToNode","treemapRender","treemapMove"];function au(t){var e=t.getData().tree,i={};e.eachNode((function(e){for(var n=e;n&&n.depth>1;)n=n.parentNode;var o=Ge(t.ecModel,n.name||n.dataIndex+"",i);e.setVisual("decal",o)}))}var su=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.preventUsingHoverLayer=!0,i}return f(e,t),e.prototype.getInitialData=function(t,e){var i={name:t.name,children:t.data};lu(i);var n=t.levels||[],o=this.designatedVisualItemStyle={},r=new j({itemStyle:o},this,e);n=t.levels=function(t,e){var i,n,o=vt(e.get("color")),r=vt(e.get(["aria","decal","decals"]));if(!o)return;t=t||[],R(t,(function(t){var e=new j(t),o=e.get("color"),r=e.get("decal");(e.get(["itemStyle","color"])||o&&"none"!==o)&&(i=!0),(e.get(["itemStyle","decal"])||r&&"none"!==r)&&(n=!0)}));var a=t[0]||(t[0]={});i||(a.color=o.slice());!n&&r&&(a.decal=r.slice());return t}(n,e);var a=B(n||[],(function(t){return new j(t,r,e)}),this),s=Kl.createTree(i,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var i=s.getNodeByDataIndex(e),n=i?a[i.depth]:null;return t.parentModel=n||r,t}))}));return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,e,i){var n=this.getData(),o=this.getRawValue(t),r=n.getName(t);return ye("nameValue",{name:r,value:o})},e.prototype.getDataParams=function(e){var i=t.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return i.treeAncestors=tu(n,this),i.treePathInfo=i.treeAncestors,i},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},St(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=wt(),this._idIndexMapCount=0);var i=e.get(t);return null==i&&e.set(t,i=this._idIndexMapCount++),i},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){au(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(ei);function lu(t){var e=0;R(t.children,(function(t){lu(t);var i=t.value;E(i)&&(i=i[0]),e+=i}));var i=t.value;E(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=e),i<0&&(i=0),E(t.value)?t.value[0]=i:t.value=i}var uu=function(){function t(t){this.group=new J,t.add(this.group)}return t.prototype.render=function(t,e,i,n){var o=t.getModel("breadcrumb"),r=this.group;if(r.removeAll(),o.get("show")&&i){var a=o.getModel("itemStyle"),s=o.getModel("emphasis"),l=a.getModel("textStyle"),u=s.getModel(["itemStyle","textStyle"]),d={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,d,l),this._renderContent(t,d,a,s,l,u,n),ee(r,d.pos,d.box)}},t.prototype._prepare=function(t,e,i){for(var n=t;n;n=n.parentNode){var o=Jt(n.getModel().get("name"),""),r=i.getTextRect(o),a=Math.max(r.width+16,e.emptyItemWidth);e.totalWidth+=a+8,e.renderList.push({node:n,text:o,width:a})}},t.prototype._renderContent=function(t,e,i,n,o,r,a){for(var s=0,l=e.emptyItemWidth,u=t.get(["breadcrumb","height"]),d=ci(e.pos,e.box),h=e.totalWidth,c=e.renderList,p=n.getModel("itemStyle").getItemStyle(),g=c.length-1;g>=0;g--){var f=c[g],y=f.node,m=f.width,v=f.text;h>d.width&&(h-=m-l,m=l,v=null);var x=new gt({shape:{points:du(s,0,m,u,g===c.length-1,0===g)},style:U(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new q({style:K(o,{text:v})}),textConfig:{position:"inside"},z2:1e4*pi,onclick:lt(a,y)});x.disableLabelAnimation=!0,x.getTextContent().ensureState("emphasis").style=K(r,{text:v}),x.ensureState("emphasis").style=p,Be(x,n.get("focus"),n.get("blurScope"),n.get("disabled")),this.group.add(x),hu(x,t,y),s+=m+8}},t.prototype.remove=function(){this.group.removeAll()},t}();function du(t,e,i,n,o,r){var a=[[o?t:t-5,e],[t+i,e],[t+i,e+n],[o?t:t-5,e+n]];return!r&&a.splice(2,0,[t+i+5,e+n/2]),!o&&a.push([t,e+n/2]),a}function hu(t,e,i){$(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&tu(i,e)}}var cu=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(t,e,i,n,o){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:i,delay:n,easing:o}),!0)},t.prototype.finished=function(t){return this._finishedCallback=t,this},t.prototype.start=function(){for(var t=this,e=this._storage.length,i=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},n=0,o=this._storage.length;n<o;n++){var r=this._storage[n];r.el.animateTo(r.target,{duration:r.duration,delay:r.delay,easing:r.easing,setToFinal:!0,done:i,aborted:i})}return this},t}();var pu=J,gu=zt,fu="label",yu="upperLabel",mu=10*pi,vu=2*pi,xu=3*pi,bu=Ct([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),_u=function(t){var e=bu(t);return e.stroke=e.fill=e.lineWidth=null,e},Su=P(),wu=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._state="ready",i._storage={nodeGroup:[],background:[],content:[]},i}return f(e,t),e.prototype.render=function(t,e,i,n){var o=e.findComponents({mainType:"series",subType:"treemap",query:n});if(!(qt(o,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=e;var r=$l(n,["treemapZoomToNode","treemapRootToNode"],t),a=n&&n.type,s=t.layoutInfo,l=!this._oldTree,u=this._storage,d="treemapRootToNode"===a&&r&&u?{rootNodeGroup:u.nodeGroup[r.node.getRawIndex()],direction:n.direction}:null,h=this._giveContainerGroup(s),c=t.get("animation"),p=this._doRender(h,t,d);!c||l||a&&"treemapZoomToNode"!==a&&"treemapRootToNode"!==a?p.renderFinally():this._doAnimation(h,p,t,d),this._resetController(i),this._renderBreadcrumb(t,i,r)}},e.prototype._giveContainerGroup=function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new pu,this._initEvents(e),this.group.add(e)),e.x=t.x,e.y=t.y,e},e.prototype._doRender=function(t,e,i){var n=e.getData().tree,o=this._oldTree,r={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,l=[];function u(t,n,o,u){return function(t,e,i,n,o,r,a,s,l,u){if(!a)return;var d=a.getLayout(),h=t.getData(),c=a.getModel();if(h.setItemGraphicEl(a.dataIndex,null),!d||!d.isInView)return;var p=d.width,g=d.height,f=d.borderWidth,y=d.invisible,m=a.getRawIndex(),v=s&&s.getRawIndex(),x=a.viewChildren,b=d.upperHeight,_=x&&x.length,S=c.getModel("itemStyle"),w=c.getModel(["emphasis","itemStyle"]),M=c.getModel(["blur","itemStyle"]),I=c.getModel(["select","itemStyle"]),A=S.get("borderRadius")||0,C=G("nodeGroup",pu);if(!C)return;if(l.add(C),C.x=d.x||0,C.y=d.y||0,C.markRedraw(),Su(C).nodeWidth=p,Su(C).nodeHeight=g,d.isAboveViewRoot)return C;var D=G("background",gu,u,vu);D&&V(C,D,_&&d.upperLabelHeight);var T=c.getModel("emphasis"),L=T.get("focus"),P=T.get("blurScope"),N=T.get("disabled"),k="ancestor"===L?a.getAncestorsIndices():"descendant"===L?a.getDescendantIndices():L;if(_)mi(C)&&vi(C,!1),D&&(vi(D,!N),h.setItemGraphicEl(a.dataIndex,D),xi(D,k,P));else{var E=G("content",gu,u,xu);E&&z(C,E),D.disableMorphing=!0,D&&mi(D)&&vi(D,!1),vi(C,!N),h.setItemGraphicEl(a.dataIndex,C);var R=c.getShallow("cursor");R&&E.attr("cursor",R),xi(C,k,P)}return C;function V(e,i,n){var o=$(i);if(o.dataIndex=a.dataIndex,o.seriesIndex=t.seriesIndex,i.setShape({x:0,y:0,width:p,height:g,r:A}),y)O(i);else{i.invisible=!1;var r=a.getVisual("style"),s=r.stroke,l=_u(S);l.fill=s;var u=bu(w);u.fill=w.get("borderColor");var d=bu(M);d.fill=M.get("borderColor");var h=bu(I);if(h.fill=I.get("borderColor"),n){var c=p-2*f;B(i,s,r.opacity,{x:f,y:0,width:c,height:b})}else i.removeTextContent();i.setStyle(l),i.ensureState("emphasis").style=u,i.ensureState("blur").style=d,i.ensureState("select").style=h,ui(i)}e.add(i)}function z(e,i){var n=$(i);n.dataIndex=a.dataIndex,n.seriesIndex=t.seriesIndex;var o=Math.max(p-2*f,0),r=Math.max(g-2*f,0);if(i.culling=!0,i.setShape({x:f,y:f,width:o,height:r,r:A}),y)O(i);else{i.invisible=!1;var s=a.getVisual("style"),l=s.fill,u=_u(S);u.fill=l,u.decal=s.decal;var d=bu(w),h=bu(M),c=bu(I);B(i,l,s.opacity,null),i.setStyle(u),i.ensureState("emphasis").style=d,i.ensureState("blur").style=h,i.ensureState("select").style=c,ui(i)}e.add(i)}function O(t){!t.invisible&&r.push(t)}function B(e,i,n,o){var r=c.getModel(o?yu:fu),s=Jt(c.get("name"),null),l=r.getShallow("show");Ve(e,ze(c,o?yu:fu),{defaultText:l?s:null,inheritColor:i,defaultOpacity:n,labelFetcher:t,labelDataIndex:a.dataIndex});var u=e.getTextContent();if(u){var h=u.style,p=bi(h.padding||0);o&&(e.setTextConfig({layoutRect:o}),u.disableLabelLayout=!0),u.beforeUpdate=function(){var t=Math.max((o?o.width:e.shape.width)-p[1]-p[3],0),i=Math.max((o?o.height:e.shape.height)-p[0]-p[2],0);h.width===t&&h.height===i||u.setStyle({width:t,height:i})},h.truncateMinChar=2,h.lineOverflow="truncate",W(h,o,d);var g=u.getState("emphasis");W(g?g.style:null,o,d)}}function W(e,i,n){var o=e?e.text:null;if(!i&&n.isLeafRoot&&null!=o){var r=t.get("drillDownIcon",!0);e.text=r?r+" "+o:o}}function G(t,n,r,a){var s=null!=v&&i[t][v],l=o[t];return s?(i[t][v]=null,F(l,s)):y||((s=new n)instanceof Zt&&(s.z2=function(t,e){return t*mu+e}(r,a)),H(l,s)),e[t][m]=s}function F(t,e){var i=t[m]={};e instanceof pu?(i.oldX=e.x,i.oldY=e.y):i.oldShape=St({},e.shape)}function H(t,e){var i=t[m]={},r=a.parentNode,s=e instanceof J;if(r&&(!n||"drillDown"===n.direction)){var l=0,u=0,d=o.background[r.getRawIndex()];!n&&d&&d.oldShape&&(l=d.oldShape.width,u=d.oldShape.height),s?(i.oldX=0,i.oldY=u):i.oldShape={x:l,y:u,width:0,height:0}}i.fadein=!s}}(e,a,s,i,r,l,t,n,o,u)}!function t(e,i,n,o,r){o?(i=e,R(e,(function(t,e){!t.isRemoved()&&s(e,e)}))):new gi(i,e,a,a).add(s).update(s).remove(lt(s,null)).execute();function a(t){return t.getId()}function s(a,s){var l=null!=a?e[a]:null,d=null!=s?i[s]:null,h=u(l,d,n,r);h&&t(l&&l.viewChildren||[],d&&d.viewChildren||[],h,o,r+1)}}(n.root?[n.root]:[],o&&o.root?[o.root]:[],t,n===o||!o,0);var d,h,c=(h={nodeGroup:[],background:[],content:[]},(d=s)&&R(d,(function(t,e){var i=h[e];R(t,(function(t){t&&(i.push(t),Su(t).willDelete=!0)}))})),h);if(this._oldTree=n,this._storage=a,this._controllerHost){var p=this.seriesModel.layoutInfo,g=n.root.getLayout();g.width===p.width&&g.height===p.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:r,willDeleteEls:c,renderFinally:function(){R(c,(function(t){R(t,(function(t){t.parent&&t.parent.remove(t)}))})),R(l,(function(t){t.invisible=!0,t.dirty()}))}}},e.prototype._doAnimation=function(t,e,i,n){var o=i.get("animationDurationUpdate"),r=i.get("animationEasing"),a=(ht(o)?0:o)||0,s=(ht(r)?null:r)||"cubicOut",l=new cu;R(e.willDeleteEls,(function(t,e){R(t,(function(t,i){if(!t.invisible){var o,r=t.parent,u=Su(r);if(n&&"drillDown"===n.direction)o=r===n.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var d=0,h=0;u.willDelete||(d=u.nodeWidth/2,h=u.nodeHeight/2),o="nodeGroup"===e?{x:d,y:h,style:{opacity:0}}:{shape:{x:d,y:h,width:0,height:0},style:{opacity:0}}}o&&l.add(t,o,a,0,s)}}))})),R(this._storage,(function(t,i){R(t,(function(t,n){var o=e.lastsForAnimation[i][n],r={};o&&(t instanceof J?null!=o.oldX&&(r.x=t.x,r.y=t.y,t.x=o.oldX,t.y=o.oldY):(o.oldShape&&(r.shape=St({},t.shape),t.setShape(o.oldShape)),o.fadein?(t.setStyle("opacity",0),r.style={opacity:1}):1!==t.style.opacity&&(r.style={opacity:1})),l.add(t,r,a,0,s))}))}),this),this._state="animating",l.finished(xt((function(){this._state="ready",e.renderFinally()}),this)).start()},e.prototype._resetController=function(t){var e=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),e||((e=this._controller=new fo(t.getZr())).enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),e.on("pan",xt(this._onPan,this)),e.on("zoom",xt(this._onZoom,this)));var n=new Lt(0,0,t.getWidth(),t.getHeight());e.setPointerChecker((function(t,e,i){return n.contain(e,i)}))},e.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var e=this.seriesModel.getData().tree.root;if(!e)return;var i=e.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+t.dx,y:i.y+t.dy,width:i.width,height:i.height}})}},e.prototype._onZoom=function(t){var e=t.originX,i=t.originY,n=t.scale;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var r=o.getLayout();if(!r)return;var a,s=new Lt(r.x,r.y,r.width,r.height),l=this._controllerHost;a=l.zoomLimit;var u=l.zoom=l.zoom||1;if(u*=n,a){var d=a.min||0,h=a.max||1/0;u=Math.max(Math.min(h,u),d)}var c=u/l.zoom;l.zoom=u;var p=this.seriesModel.layoutInfo;e-=p.x,i-=p.y;var g=I();b(g,g,[-e,-i]),fi(g,g,[c,c]),b(g,g,[e,i]),s.applyTransform(g),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},e.prototype._initEvents=function(t){var e=this;t.on("click",(function(t){if("ready"===e._state){var i=e.seriesModel.get("nodeClick",!0);if(i){var n=e.findTarget(t.offsetX,t.offsetY);if(n){var o=n.node;if(o.getLayout().isLeafRoot)e._rootToNode(n);else if("zoomToNode"===i)e._zoomToNode(n);else if("link"===i){var r=o.hostTree.data.getItemModel(o.dataIndex),a=r.get("link",!0),s=r.get("target",!0)||"blank";a&&yi(a,s)}}}}}),this)},e.prototype._renderBreadcrumb=function(t,e,i){var n=this;i||(i=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(i={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new uu(this.group))).render(t,e,i.node,(function(e){"animating"!==n._state&&(Jl(t.getViewRoot(),e)?n._rootToNode({node:e}):n._zoomToNode({node:e}))}))},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,e){var i;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(n){var o=this._storage.background[n.getRawIndex()];if(o){var r=o.transformCoordToLocal(t,e),a=o.shape;if(!(a.x<=r[0]&&r[0]<=a.x+a.width&&a.y<=r[1]&&r[1]<=a.y+a.height))return!1;i={node:n,offsetX:r[0],offsetY:r[1]}}}),this),i},e.type="treemap",e}(Qe);var Mu=P();const Iu={seriesType:"treemap",reset:function(t){var e=t.getData().tree.root;e.isRemoved()||Au(e,{},t.getViewRoot().getAncestors(),t)}};function Au(t,e,i,n){var o=t.getModel(),r=t.getLayout(),a=t.hostTree.data;if(r&&!r.invisible&&r.isInView){var s,l=o.getModel("itemStyle"),u=function(t,e,i){var n=St({},e),o=i.designatedVisualItemStyle;return R(["color","colorAlpha","colorSaturation"],(function(i){o[i]=e[i];var r=t.get(i);o[i]=null,null!=r&&(n[i]=r)})),n}(l,e,n),d=a.ensureUniqueItemVisual(t.dataIndex,"style"),h=l.get("borderColor"),c=l.get("borderColorSaturation");null!=c&&(h=function(t,e){return null!=e?_i(e,null,null,t):null}(c,s=Cu(u))),d.stroke=h;var p=t.viewChildren;if(p&&p.length){var g=function(t,e,i,n,o,r){if(!r||!r.length)return;var a=Tu(e,"color")||null!=o.color&&"none"!==o.color&&(Tu(e,"colorAlpha")||Tu(e,"colorSaturation"));if(!a)return;var s=e.get("visualMin"),l=e.get("visualMax"),u=i.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var d=e.get("colorMappingBy"),h={type:a.name,dataExtent:u,visual:a.range};"color"!==h.type||"index"!==d&&"id"!==d?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var c=new bo(h);return Mu(c).drColorMappingBy=d,c}(0,o,r,0,u,p);R(p,(function(t,e){if(t.depth>=i.length||t===i[t.depth]){var r=function(t,e,i,n,o,r){var a=St({},e);if(o){var s=o.type,l="color"===s&&Mu(o).drColorMappingBy,u="index"===l?n:"id"===l?r.mapIdToIndex(i.getId()):i.getValue(t.get("visualDimension"));a[s]=o.mapValueToVisual(u)}return a}(o,u,t,e,g,n);Au(t,r,i,n)}}))}else s=Cu(u),d.fill=s}}function Cu(t){var e=Du(t,"color");if(e){var i=Du(t,"colorAlpha"),n=Du(t,"colorSaturation");return n&&(e=_i(e,null,null,n)),i&&(e=Re(e,i)),e}}function Du(t,e){var i=t[e];if(null!=i&&"none"!==i)return i}function Tu(t,e){var i=t.get(e);return E(i)&&i.length?{name:e,range:i}:null}var Lu=Math.max,Pu=Math.min,Nu=ke,ku=R,Eu=["itemStyle","borderWidth"],Ru=["itemStyle","gapWidth"],Vu=["upperLabel","show"],zu=["upperLabel","height"];const Ou={seriesType:"treemap",reset:function(t,e,i,n){var o=i.getWidth(),r=i.getHeight(),a=t.option,s=Mt(t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),l=a.size||[],u=k(Nu(s.width,l[0]),o),d=k(Nu(s.height,l[1]),r),h=n&&n.type,c=$l(n,["treemapZoomToNode","treemapRootToNode"],t),p="treemapRender"===h||"treemapMove"===h?n.rootRect:null,g=t.getViewRoot(),f=Ql(g);if("treemapMove"!==h){var y="treemapZoomToNode"===h?function(t,e,i,n,o){var r,a=(e||{}).node,s=[n,o];if(!a||a===i)return s;var l=n*o,u=l*t.option.zoomToNodeRatio;for(;r=a.parentNode;){for(var d=0,h=r.children,c=0,p=h.length;c<p;c++)d+=h[c].getValue();var g=a.getValue();if(0===g)return s;u*=d/g;var f=r.getModel(),y=f.get(Eu);(u+=4*y*y+(3*y+Math.max(y,Hu(f)))*Math.pow(u,.5))>Si&&(u=Si),a=r}u<l&&(u=l);var m=Math.pow(u/l,.5);return[n*m,o*m]}(t,c,g,u,d):p?[p.width,p.height]:[u,d],m=a.sort;m&&"asc"!==m&&"desc"!==m&&(m="desc");var v={squareRatio:a.squareRatio,sort:m,leafDepth:a.leafDepth};g.hostTree.clearLayouts();var x={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};g.setLayout(x),Bu(g,v,!1,0),x=g.getLayout(),ku(f,(function(t,e){var i=(f[e+1]||g).getValue();t.setLayout(St({dataExtent:[i,i],borderWidth:0,upperHeight:0},x))}))}var b=t.getData().tree.root;b.setLayout(function(t,e,i){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!i)return n;var o=i.node,r=o.getLayout();if(!r)return n;var a=[r.width/2,r.height/2],s=o;for(;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}(s,p,c),!0),t.setLayoutInfo(s),Fu(b,new Lt(-s.x,-s.y,o,r),f,g,0)}};function Bu(t,e,i,n){var o,r;if(!t.isRemoved()){var a=t.getLayout();o=a.width,r=a.height;var s=t.getModel(),l=s.get(Eu),u=s.get(Ru)/2,d=Hu(s),h=Math.max(l,d),c=l-u,p=h-u;t.setLayout({borderWidth:l,upperHeight:h,upperLabelHeight:d},!0);var g=(o=Lu(o-2*c,0))*(r=Lu(r-c-p,0)),f=function(t,e,i,n,o,r){var a=t.children||[],s=n.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=n.leafDepth&&n.leafDepth<=r;if(o&&!l)return t.viewChildren=[];a=it(a,(function(t){return!t.isRemoved()})),function(t,e){e&&t.sort((function(t,i){var n="asc"===e?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===n?"asc"===e?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:n}))}(a,s);var u=function(t,e,i){for(var n=0,o=0,r=e.length;o<r;o++)n+=e[o].getValue();var a,s=t.get("visualDimension");e&&e.length?"value"===s&&i?(a=[e[e.length-1].getValue(),e[0].getValue()],"asc"===i&&a.reverse()):(a=[1/0,-1/0],ku(e,(function(t){var e=t.getValue(s);e<a[0]&&(a[0]=e),e>a[1]&&(a[1]=e)}))):a=[NaN,NaN];return{sum:n,dataExtent:a}}(e,a,s);if(0===u.sum)return t.viewChildren=[];if(u.sum=function(t,e,i,n,o){if(!n)return i;for(var r=t.get("visibleMin"),a=o.length,s=a,l=a-1;l>=0;l--){var u=o["asc"===n?a-l-1:l].getValue();u/i*e<r&&(s=l,i-=u)}return"asc"===n?o.splice(0,a-s):o.splice(s,a-s),i}(e,i,u.sum,s,a),0===u.sum)return t.viewChildren=[];for(var d=0,h=a.length;d<h;d++){var c=a[d].getValue()/u.sum*i;a[d].setLayout({area:c})}l&&(a.length&&t.setLayout({isLeafRoot:!0},!0),a.length=0);return t.viewChildren=a,t.setLayout({dataExtent:u.dataExtent},!0),a}(t,s,g,e,i,n);if(f.length){var y={x:c,y:p,width:o,height:r},m=Pu(o,r),v=1/0,x=[];x.area=0;for(var b=0,_=f.length;b<_;){var S=f[b];x.push(S),x.area+=S.getLayout().area;var w=Wu(x,m,e.squareRatio);w<=v?(b++,v=w):(x.area-=x.pop().getLayout().area,Gu(x,m,y,u,!1),m=Pu(y.width,y.height),x.length=x.area=0,v=1/0)}if(x.length&&Gu(x,m,y,u,!0),!i){var M=s.get("childrenVisibleMin");null!=M&&g<M&&(i=!0)}for(b=0,_=f.length;b<_;b++)Bu(f[b],e,i,n+1)}}}function Wu(t,e,i){for(var n=0,o=1/0,r=0,a=void 0,s=t.length;r<s;r++)(a=t[r].getLayout().area)&&(a<o&&(o=a),a>n&&(n=a));var l=t.area*t.area,u=e*e*i;return l?Lu(u*n/l,l/(u*o)):1/0}function Gu(t,e,i,n,o){var r=e===i.width?0:1,a=1-r,s=["x","y"],l=["width","height"],u=i[s[r]],d=e?t.area/e:0;(o||d>i[l[a]])&&(d=i[l[a]]);for(var h=0,c=t.length;h<c;h++){var p=t[h],g={},f=d?p.getLayout().area/d:0,y=g[l[a]]=Lu(d-2*n,0),m=i[s[r]]+i[l[r]]-u,v=h===c-1||m<f?m:f,x=g[l[r]]=Lu(v-2*n,0);g[s[a]]=i[s[a]]+Pu(n,y/2),g[s[r]]=u+Pu(n,x/2),u+=v,p.setLayout(g,!0)}i[s[a]]+=d,i[l[a]]-=d}function Fu(t,e,i,n,o){var r=t.getLayout(),a=i[o],s=a&&a===t;if(!(a&&!s||o===i.length&&t!==n)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(r),isAboveViewRoot:s},!0);var l=new Lt(e.x-r.x,e.y-r.y,e.width,e.height);ku(t.viewChildren||[],(function(t){Fu(t,l,i,n,o+1)}))}}function Hu(t){return t.get(Vu)?t.get(zu):0}var Yu=function(){return function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}}(),Xu=function(t){function e(e){var i=t.call(this,e)||this;return i.type="pointer",i}return f(e,t),e.prototype.getDefaultShape=function(){return new Yu},e.prototype.buildPath=function(t,e){var i=Math.cos,n=Math.sin,o=e.r,r=e.width,a=e.angle,s=e.x-i(a)*r*(r>=o/3?1:2),l=e.y-n(a)*r*(r>=o/3?1:2);a=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+i(a)*r,e.y+n(a)*r),t.lineTo(e.x+i(e.angle)*o,e.y+n(e.angle)*o),t.lineTo(e.x-i(a)*r,e.y-n(a)*r),t.lineTo(s,l)},e}(jt);function Uu(t,e){var i=null==t?"":t+"";return e&&(dt(e)?i=e.replace("{value}",i):ht(e)&&(i=e(t))),i}var Zu=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.render=function(t,e,i){this.group.removeAll();var n=t.get(["axisLine","lineStyle","color"]),o=function(t,e){var i=t.get("center"),n=e.getWidth(),o=e.getHeight(),r=Math.min(n,o);return{cx:k(i[0],e.getWidth()),cy:k(i[1],e.getHeight()),r:k(t.get("radius"),r/2)}}(t,i);this._renderMain(t,e,i,n,o),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,e,i,n,o){var r=this.group,a=t.get("clockwise"),s=-t.get("startAngle")/180*Math.PI,l=-t.get("endAngle")/180*Math.PI,u=t.getModel("axisLine"),d=u.get("roundCap")?_o:Q,h=u.get("show"),c=u.getModel("lineStyle"),p=c.get("width"),g=[s,l];wi(g,!a);for(var f=(l=g[1])-(s=g[0]),y=s,m=[],v=0;h&&v<n.length;v++){var x=new d({shape:{startAngle:y,endAngle:l=s+f*Math.min(Math.max(n[v][0],0),1),cx:o.cx,cy:o.cy,clockwise:a,r0:o.r-p,r:o.r},silent:!0});x.setStyle({fill:n[v][1]}),x.setStyle(c.getLineStyle(["color","width"])),m.push(x),y=l}m.reverse(),R(m,(function(t){return r.add(t)}));var b=function(t){if(t<=0)return n[0][1];var e;for(e=0;e<n.length;e++)if(n[e][0]>=t&&(0===e?0:n[e-1][0])<t)return n[e][1];return n[e-1][1]};this._renderTicks(t,e,i,b,o,s,l,a,p),this._renderTitleAndDetail(t,e,i,b,o),this._renderAnchor(t,o),this._renderPointer(t,e,i,b,o,s,l,a,p)},e.prototype._renderTicks=function(t,e,i,n,o,r,a,s,l){for(var u,d,h=this.group,c=o.cx,p=o.cy,g=o.r,f=+t.get("min"),y=+t.get("max"),m=t.getModel("splitLine"),v=t.getModel("axisTick"),x=t.getModel("axisLabel"),b=t.get("splitNumber"),_=v.get("splitNumber"),S=k(m.get("length"),g),w=k(v.get("length"),g),M=r,I=(a-r)/b,A=I/_,C=m.getModel("lineStyle").getLineStyle(),D=v.getModel("lineStyle").getLineStyle(),T=m.get("distance"),L=0;L<=b;L++){if(u=Math.cos(M),d=Math.sin(M),m.get("show")){var P=new Y({shape:{x1:u*(g-(N=T?T+l:l))+c,y1:d*(g-N)+p,x2:u*(g-S-N)+c,y2:d*(g-S-N)+p},style:C,silent:!0});"auto"===C.stroke&&P.setStyle({stroke:n(L/b)}),h.add(P)}if(x.get("show")){var N=x.get("distance")+T,E=Uu(At(L/b*(y-f)+f),x.get("formatter")),R=n(L/b),V=u*(g-S-N)+c,z=d*(g-S-N)+p,O=x.get("rotate"),B=0;"radial"===O?(B=-M+2*Math.PI)>Math.PI/2&&(B+=Math.PI):"tangential"===O?B=-M-Math.PI/2:mt(O)&&(B=O*Math.PI/180),0===B?h.add(new q({style:K(x,{text:E,x:V,y:z,verticalAlign:d<-.8?"top":d>.8?"bottom":"middle",align:u<-.4?"left":u>.4?"right":"center"},{inheritColor:R}),silent:!0})):h.add(new q({style:K(x,{text:E,x:V,y:z,verticalAlign:"middle",align:"center"},{inheritColor:R}),silent:!0,originX:V,originY:z,rotation:B}))}if(v.get("show")&&L!==b){N=(N=v.get("distance"))?N+l:l;for(var W=0;W<=_;W++){u=Math.cos(M),d=Math.sin(M);var G=new Y({shape:{x1:u*(g-N)+c,y1:d*(g-N)+p,x2:u*(g-w-N)+c,y2:d*(g-w-N)+p},silent:!0,style:D});"auto"===D.stroke&&G.setStyle({stroke:n((L+W/_)/b)}),h.add(G),M+=A}M-=A}else M+=I}},e.prototype._renderPointer=function(t,e,i,n,o,r,a,s,l){var u=this.group,d=this._data,h=this._progressEls,c=[],p=t.get(["pointer","show"]),g=t.getModel("progress"),f=g.get("show"),y=t.getData(),m=y.mapDimension("value"),v=+t.get("min"),x=+t.get("max"),b=[v,x],_=[r,a];function S(e,i){var n,r=y.getItemModel(e).getModel("pointer"),a=k(r.get("width"),o.r),s=k(r.get("length"),o.r),l=t.get(["pointer","icon"]),u=r.get("offsetCenter"),d=k(u[0],o.r),h=k(u[1],o.r),c=r.get("keepAspect");return(n=l?Se(l,d-a/2,h-s,a,s,null,c):new Xu({shape:{angle:-Math.PI/2,width:a,r:s,x:d,y:h}})).rotation=-(i+Math.PI/2),n.x=o.cx,n.y=o.cy,n}function w(t,e){var i=g.get("roundCap")?_o:Q,n=g.get("overlap"),a=n?g.get("width"):l/y.count(),u=n?o.r-a:o.r-(t+1)*a,d=n?o.r:o.r-t*a,h=new i({shape:{startAngle:r,endAngle:e,cx:o.cx,cy:o.cy,clockwise:s,r0:u,r:d}});return n&&(h.z2=Mi(y.get(m,t),[v,x],[100,0],!0)),h}(f||p)&&(y.diff(d).add((function(e){var i=y.get(m,e);if(p){var n=S(e,r);Ke(n,{rotation:-((isNaN(+i)?_[0]:Mi(i,b,_,!0))+Math.PI/2)},t),u.add(n),y.setItemGraphicEl(e,n)}if(f){var o=w(e,r),a=g.get("clip");Ke(o,{shape:{endAngle:Mi(i,b,_,a)}},t),u.add(o),Ii(t.seriesIndex,y.dataType,e,o),c[e]=o}})).update((function(e,i){var n=y.get(m,e);if(p){var o=d.getItemGraphicEl(i),a=o?o.rotation:r,s=S(e,a);s.rotation=a,ie(s,{rotation:-((isNaN(+n)?_[0]:Mi(n,b,_,!0))+Math.PI/2)},t),u.add(s),y.setItemGraphicEl(e,s)}if(f){var l=h[i],v=w(e,l?l.shape.endAngle:r),x=g.get("clip");ie(v,{shape:{endAngle:Mi(n,b,_,x)}},t),u.add(v),Ii(t.seriesIndex,y.dataType,e,v),c[e]=v}})).execute(),y.each((function(t){var e=y.getItemModel(t),i=e.getModel("emphasis"),o=i.get("focus"),r=i.get("blurScope"),a=i.get("disabled");if(p){var s=y.getItemGraphicEl(t),l=y.getItemVisual(t,"style"),u=l.fill;if(s instanceof ae){var d=s.style;s.useStyle(St({image:d.image,x:d.x,y:d.y,width:d.width,height:d.height},l))}else s.useStyle(l),"pointer"!==s.type&&s.setColor(u);s.setStyle(e.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===s.style.fill&&s.setStyle("fill",n(Mi(y.get(m,t),b,[0,1],!0))),s.z2EmphasisLift=0,Oe(s,e),Be(s,o,r,a)}if(f){var h=c[t];h.useStyle(y.getItemVisual(t,"style")),h.setStyle(e.getModel(["progress","itemStyle"]).getItemStyle()),h.z2EmphasisLift=0,Oe(h,e),Be(h,o,r,a)}})),this._progressEls=c)},e.prototype._renderAnchor=function(t,e){var i=t.getModel("anchor");if(i.get("show")){var n=i.get("size"),o=i.get("icon"),r=i.get("offsetCenter"),a=i.get("keepAspect"),s=Se(o,e.cx-n/2+k(r[0],e.r),e.cy-n/2+k(r[1],e.r),n,n,null,a);s.z2=i.get("showAbove")?1:0,s.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(s)}},e.prototype._renderTitleAndDetail=function(t,e,i,n,o){var r=this,a=t.getData(),s=a.mapDimension("value"),l=+t.get("min"),u=+t.get("max"),d=new J,h=[],c=[],p=t.isAnimationEnabled(),g=t.get(["pointer","showAbove"]);a.diff(this._data).add((function(t){h[t]=new q({silent:!0}),c[t]=new q({silent:!0})})).update((function(t,e){h[t]=r._titleEls[e],c[t]=r._detailEls[e]})).execute(),a.each((function(e){var i=a.getItemModel(e),r=a.get(s,e),f=new J,y=n(Mi(r,[l,u],[0,1],!0)),m=i.getModel("title");if(m.get("show")){var v=m.get("offsetCenter"),x=o.cx+k(v[0],o.r),b=o.cy+k(v[1],o.r);(D=h[e]).attr({z2:g?0:2,style:K(m,{x:x,y:b,text:a.getName(e),align:"center",verticalAlign:"middle"},{inheritColor:y})}),f.add(D)}var _=i.getModel("detail");if(_.get("show")){var S=_.get("offsetCenter"),w=o.cx+k(S[0],o.r),M=o.cy+k(S[1],o.r),I=k(_.get("width"),o.r),A=k(_.get("height"),o.r),C=t.get(["progress","show"])?a.getItemVisual(e,"style").fill:y,D=c[e],T=_.get("formatter");D.attr({z2:g?0:2,style:K(_,{x:w,y:M,text:Uu(r,T),width:isNaN(I)?null:I,height:isNaN(A)?null:A,align:"center",verticalAlign:"middle"},{inheritColor:C})}),Ai(D,{normal:_},r,(function(t){return Uu(t,T)})),p&&Ci(D,e,a,t,{getFormattedLabel:function(t,e,i,n,o,a){return Uu(a?a.interpolatedValue:r,T)}}),f.add(D)}d.add(f)})),this.group.add(d),this._titleEls=h,this._detailEls=c},e.type="gauge",e}(Qe),ju=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.visualStyleAccessPath="itemStyle",i}return f(e,t),e.prototype.getInitialData=function(t,e){return Je(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(ei);var qu=["itemStyle","opacity"],Ku=function(t){function e(e,i){var n=t.call(this)||this,o=n,r=new pt,a=new q;return o.setTextContent(a),n.setTextGuideLine(r),n.updateData(e,i,!0),n}return f(e,t),e.prototype.updateData=function(t,e,i){var n=this,o=t.hostModel,r=t.getItemModel(e),a=t.getItemLayout(e),s=r.getModel("emphasis"),l=r.get(qu);l=null==l?1:l,i||$e(n),n.useStyle(t.getItemVisual(e,"style")),n.style.lineJoin="round",i?(n.setShape({points:a.points}),n.style.opacity=0,Ke(n,{style:{opacity:l}},o,e)):ie(n,{style:{opacity:l},shape:{points:a.points}},o,e),Oe(n,r),this._updateLabel(t,e),Be(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))},e.prototype._updateLabel=function(t,e){var i=this,n=this.getTextGuideLine(),o=i.getTextContent(),r=t.hostModel,a=t.getItemModel(e),s=t.getItemLayout(e).label,l=t.getItemVisual(e,"style"),u=l.fill;Ve(o,ze(a),{labelFetcher:t.hostModel,labelDataIndex:e,defaultOpacity:l.opacity,defaultText:t.getName(e)},{normal:{align:s.textAlign,verticalAlign:s.verticalAlign}}),i.setTextConfig({local:!0,inside:!!s.inside,insideStroke:u,outsideFill:u});var d=s.linePoints;n.setShape({points:d}),i.textGuideLineConfig={anchor:d?new Di(d[0][0],d[0][1]):null},ie(o,{style:{x:s.x,y:s.y}},r,e),o.attr({rotation:s.rotation,originX:s.x,originY:s.y,z2:10}),Ti(i,Li(a),{stroke:u})},e}(gt),$u=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.ignoreLabelLineUpdate=!0,i}return f(e,t),e.prototype.render=function(t,e,i){var n=t.getData(),o=this._data,r=this.group;n.diff(o).add((function(t){var e=new Ku(n,t);n.setItemGraphicEl(t,e),r.add(e)})).update((function(t,e){var i=o.getItemGraphicEl(e);i.updateData(n,t),r.add(i),n.setItemGraphicEl(t,i)})).remove((function(e){var i=o.getItemGraphicEl(e);Pi(i,t,e)})).execute(),this._data=n},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(Qe),Qu=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Co(xt(this.getData,this),xt(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.getInitialData=function(t,e){return Je(this,{coordDimensions:["value"],encodeDefaulter:lt(Ni,this)})},e.prototype._defaultLabelLine=function(t){Ae(t,"labelLine",["show"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.prototype.getDataParams=function(e){var i=this.getData(),n=t.prototype.getDataParams.call(this,e),o=i.mapDimension("value"),r=i.getSum(o);return n.percent=r?+(i.get(o,e)/r*100).toFixed(2):0,n.$vars.push("percent"),n},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(ei);function Ju(t,e){t.eachSeriesByType("funnel",(function(t){var i=t.getData(),n=i.mapDimension("value"),o=t.get("sort"),r=function(t,e){return Mt(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),a=t.get("orient"),s=r.width,l=r.height,u=function(t,e){for(var i=t.mapDimension("value"),n=t.mapArray(i,(function(t){return t})),o=[],r="ascending"===e,a=0,s=t.count();a<s;a++)o[a]=a;return ht(e)?o.sort(e):"none"!==e&&o.sort((function(t,e){return r?n[t]-n[e]:n[e]-n[t]})),o}(i,o),d=r.x,h=r.y,c="horizontal"===a?[k(t.get("minSize"),l),k(t.get("maxSize"),l)]:[k(t.get("minSize"),s),k(t.get("maxSize"),s)],p=i.getDataExtent(n),g=t.get("min"),f=t.get("max");null==g&&(g=Math.min(p[0],0)),null==f&&(f=p[1]);var y=t.get("funnelAlign"),m=t.get("gap"),v=(("horizontal"===a?s:l)-m*(i.count()-1))/i.count(),x=function(t,e){if("horizontal"===a){var o=i.get(n,t)||0,r=Mi(o,[g,f],c,!0),u=void 0;switch(y){case"top":u=h;break;case"center":u=h+(l-r)/2;break;case"bottom":u=h+(l-r)}return[[e,u],[e,u+r]]}var p,m=i.get(n,t)||0,v=Mi(m,[g,f],c,!0);switch(y){case"left":p=d;break;case"center":p=d+(s-v)/2;break;case"right":p=d+s-v}return[[p,e],[p+v,e]]};"ascending"===o&&(v=-v,m=-m,"horizontal"===a?d+=s:h+=l,u=u.reverse());for(var b=0;b<u.length;b++){var _=u[b],S=u[b+1],w=i.getItemModel(_);if("horizontal"===a){var M=w.get(["itemStyle","width"]);null==M?M=v:(M=k(M,s),"ascending"===o&&(M=-M));var I=x(_,d),A=x(S,d+M);d+=M+m,i.setItemLayout(_,{points:I.concat(A.slice().reverse())})}else{var C=w.get(["itemStyle","height"]);null==C?C=v:(C=k(C,l),"ascending"===o&&(C=-C));I=x(_,h),A=x(S,h+C);h+=C+m,i.setItemLayout(_,{points:I.concat(A.slice().reverse())})}}!function(t){var e=t.hostModel.get("orient");t.each((function(i){var n,o,r,a,s=t.getItemModel(i),l=s.getModel("label").get("position"),u=s.getModel("labelLine"),d=t.getItemLayout(i),h=d.points,c="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;if(c)"insideLeft"===l?(o=(h[0][0]+h[3][0])/2+5,r=(h[0][1]+h[3][1])/2,n="left"):"insideRight"===l?(o=(h[1][0]+h[2][0])/2-5,r=(h[1][1]+h[2][1])/2,n="right"):(o=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,r=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,n="center"),a=[[o,r],[o,r]];else{var p=void 0,g=void 0,f=void 0,y=void 0,m=u.get("length");"left"===l?(p=(h[3][0]+h[0][0])/2,g=(h[3][1]+h[0][1])/2,o=(f=p-m)-5,n="right"):"right"===l?(p=(h[1][0]+h[2][0])/2,g=(h[1][1]+h[2][1])/2,o=(f=p+m)+5,n="left"):"top"===l?(p=(h[3][0]+h[0][0])/2,r=(y=(g=(h[3][1]+h[0][1])/2)-m)-5,n="center"):"bottom"===l?(p=(h[1][0]+h[2][0])/2,r=(y=(g=(h[1][1]+h[2][1])/2)+m)+5,n="center"):"rightTop"===l?(p="horizontal"===e?h[3][0]:h[1][0],g="horizontal"===e?h[3][1]:h[1][1],"horizontal"===e?(r=(y=g-m)-5,n="center"):(o=(f=p+m)+5,n="top")):"rightBottom"===l?(p=h[2][0],g=h[2][1],"horizontal"===e?(r=(y=g+m)+5,n="center"):(o=(f=p+m)+5,n="bottom")):"leftTop"===l?(p=h[0][0],g="horizontal"===e?h[0][1]:h[1][1],"horizontal"===e?(r=(y=g-m)-5,n="center"):(o=(f=p-m)-5,n="right")):"leftBottom"===l?(p="horizontal"===e?h[1][0]:h[3][0],g="horizontal"===e?h[1][1]:h[2][1],"horizontal"===e?(r=(y=g+m)+5,n="center"):(o=(f=p-m)-5,n="right")):(p=(h[1][0]+h[2][0])/2,g=(h[1][1]+h[2][1])/2,"horizontal"===e?(r=(y=g+m)+5,n="center"):(o=(f=p+m)+5,n="left")),"horizontal"===e?o=f=p:r=y=g,a=[[p,g],[f,y]]}d.label={linePoints:a,x:o,y:r,verticalAlign:"middle",textAlign:n,inside:c}}))}(i)}))}var td=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._dataGroup=new J,i._initialized=!1,i}return f(e,t),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,e,i,n){this._progressiveEls=null;var o=this._dataGroup,r=t.getData(),a=this._data,s=t.coordinateSystem,l=s.dimensions,u=nd(t);if(r.diff(a).add((function(t){od(id(r,o,t,l,s),r,t,u)})).update((function(e,i){var n=a.getItemGraphicEl(i),o=ed(r,e,l,s);r.setItemGraphicEl(e,n),ie(n,{shape:{points:o}},t,e),$e(n),od(n,r,e,u)})).remove((function(t){var e=a.getItemGraphicEl(t);o.remove(e)})).execute(),!this._initialized){this._initialized=!0;var d=function(t,e,i){var n=t.model,o=t.getRect(),r=new zt({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),a="horizontal"===n.get("layout")?"width":"height";return r.setShape(a,0),Ke(r,{shape:{width:o.width,height:o.height}},e,i),r}(s,t,(function(){setTimeout((function(){o.removeClipPath()}))}));o.setClipPath(d)}this._data=r},e.prototype.incrementalPrepareRender=function(t,e,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,e,i){for(var n=e.getData(),o=e.coordinateSystem,r=o.dimensions,a=nd(e),s=this._progressiveEls=[],l=t.start;l<t.end;l++){var u=id(n,this._dataGroup,l,r,o);u.incremental=!0,od(u,n,l,a),s.push(u)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(Qe);function ed(t,e,i,n){for(var o,r=[],a=0;a<i.length;a++){var s=i[a],l=t.get(t.mapDimension(s),e);o=l,("category"===n.getAxis(s).type?null==o:null==o||isNaN(o))||r.push(n.dataToPoint(l,s))}return r}function id(t,e,i,n,o){var r=ed(t,i,n,o),a=new pt({shape:{points:r},z2:10});return e.add(a),t.setItemGraphicEl(i,a),a}function nd(t){var e=t.get("smooth",!0);return!0===e&&(e=.3),e=ki(e),Ei(e)&&(e=0),{smooth:e}}function od(t,e,i,n){t.useStyle(e.getItemVisual(i,"style")),t.style.fill=null,t.setShape("smooth",n.smooth);var o=e.getItemModel(i),r=o.getModel("emphasis");Oe(t,o,"lineStyle"),Be(t,r.get("focus"),r.get("blurScope"),r.get("disabled"))}var rd=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.visualStyleAccessPath="lineStyle",i.visualDrawType="stroke",i}return f(e,t),e.prototype.getInitialData=function(t,e){return Ri(null,this,{useEncodeDefaulter:xt(ad,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var e=this.coordinateSystem,i=this.getData(),n=[];return e.eachActiveState(i,(function(e,o){t===e&&n.push(i.getRawIndex(o))})),n},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(ei);function ad(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(e){var i={};return R(e.dimensions,(function(t){var e=+t.replace("dim","");i[t]=e})),i}}var sd=["lineStyle","opacity"],ld={seriesType:"parallel",reset:function(t,e){var i=t.coordinateSystem,n={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(t,e){i.eachActiveState(e,(function(t,i){var o=n[t];if("normal"===t&&e.hasItemOption){var r=e.getItemModel(i).get(sd,!0);null!=r&&(o=r)}e.ensureUniqueItemVisual(i,"style").opacity=o}),t.start,t.end)}}}};var ud=function(){function t(){}return t.prototype._hasEncodeRule=function(t){var e=this.getEncode();return e&&null!=e.get(t)},t.prototype.getInitialData=function(t,e){var i,n,o=e.getComponent("xAxis",this.get("xAxisIndex")),r=e.getComponent("yAxis",this.get("yAxisIndex")),a=o.get("type"),s=r.get("type");"category"===a?(t.layout="horizontal",i=o.getOrdinalMeta(),n=!this._hasEncodeRule("x")):"category"===s?(t.layout="vertical",i=r.getOrdinalMeta(),n=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var l=["x","y"],u="horizontal"===t.layout?0:1,d=this._baseAxisDim=l[u],h=l[1-u],c=[o,r],p=c[u].get("type"),g=c[1-u].get("type"),f=t.data;if(f&&n){var y=[];R(f,(function(t,e){var i;E(t)?(i=t.slice(),t.unshift(e)):E(t.value)?((i=St({},t)).value=i.value.slice(),t.value.unshift(e)):i=t,y.push(i)})),t.data=y}var m=this.defaultValueDimensions,v=[{name:d,type:Vi(p),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:Vi(g),dimsDef:m.slice()}];return Je(this,{coordDimensions:v,dimensionsCount:m.length+1,encodeDefaulter:lt(zi,v,this)})},t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},t}(),dd=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],i.visualDrawType="stroke",i}return f(e,t),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(ei);D(dd,ud,!0);var hd=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.render=function(t,e,i){var n=t.getData(),o=this.group,r=this._data;this._data||o.removeAll();var a="horizontal"===t.get("layout")?1:0;n.diff(r).add((function(t){if(n.hasValue(t)){var e=gd(n.getItemLayout(t),n,t,a,!0);n.setItemGraphicEl(t,e),o.add(e)}})).update((function(t,e){var i=r.getItemGraphicEl(e);if(n.hasValue(t)){var s=n.getItemLayout(t);i?($e(i),fd(s,i,n,t)):i=gd(s,n,t,a),o.add(i),n.setItemGraphicEl(t,i)}else o.remove(i)})).remove((function(t){var e=r.getItemGraphicEl(t);e&&o.remove(e)})).execute(),this._data=n},e.prototype.remove=function(t){var e=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl((function(t){t&&e.remove(t)}))},e.type="boxplot",e}(Qe),cd=function(){return function(){}}(),pd=function(t){function e(e){var i=t.call(this,e)||this;return i.type="boxplotBoxPath",i}return f(e,t),e.prototype.getDefaultShape=function(){return new cd},e.prototype.buildPath=function(t,e){var i=e.points,n=0;for(t.moveTo(i[n][0],i[n][1]),n++;n<4;n++)t.lineTo(i[n][0],i[n][1]);for(t.closePath();n<i.length;n++)t.moveTo(i[n][0],i[n][1]),n++,t.lineTo(i[n][0],i[n][1])},e}(jt);function gd(t,e,i,n,o){var r=t.ends,a=new pd({shape:{points:o?yd(r,n,t):r}});return fd(t,a,e,i,o),a}function fd(t,e,i,n,o){var r=i.hostModel;(0,F[o?"initProps":"updateProps"])(e,{shape:{points:t.ends}},r,n),e.useStyle(i.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.z2=100;var a=i.getItemModel(n),s=a.getModel("emphasis");Oe(e,a),Be(e,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function yd(t,e,i){return B(t,(function(t){return(t=t.slice())[e]=i.initBaseline,t}))}var md=R;function vd(t){var e=function(t){var e=[],i=[];return t.eachSeriesByType("boxplot",(function(t){var n=t.getBaseAxis(),o=qt(i,n);o<0&&(o=i.length,i[o]=n,e[o]={axis:n,seriesModels:[]}),e[o].seriesModels.push(t)})),e}(t);md(e,(function(t){var e=t.seriesModels;e.length&&(!function(t){var e,i=t.axis,n=t.seriesModels,o=n.length,r=t.boxWidthList=[],a=t.boxOffsetList=[],s=[];if("category"===i.type)e=i.getBandWidth();else{var l=0;md(n,(function(t){l=Math.max(l,t.getData().count())}));var u=i.getExtent();e=Math.abs(u[1]-u[0])/l}md(n,(function(t){var i=t.get("boxWidth");E(i)||(i=[i,i]),s.push([k(i[0],e)||0,k(i[1],e)||0])}));var d=.8*e-2,h=d/o*.3,c=(d-h*(o-1))/o,p=c/2-d/2;md(n,(function(t,e){a.push(p),p+=h+c,r.push(Math.min(Math.max(c,s[e][0]),s[e][1]))}))}(t),md(e,(function(e,i){!function(t,e,i){var n=t.coordinateSystem,o=t.getData(),r=i/2,a="horizontal"===t.get("layout")?0:1,s=1-a,l=["x","y"],u=o.mapDimension(l[a]),d=o.mapDimensionsAll(l[s]);if(null==u||d.length<5)return;for(var h=0;h<o.count();h++){var c=o.get(u,h),p=x(c,d[2],h),g=x(c,d[0],h),f=x(c,d[1],h),y=x(c,d[3],h),m=x(c,d[4],h),v=[];b(v,f,!1),b(v,y,!0),v.push(g,f,m,y),_(v,g),_(v,m),_(v,p),o.setItemLayout(h,{initBaseline:p[s],ends:v})}function x(t,i,r){var l,u=o.get(i,r),d=[];return d[a]=t,d[s]=u,isNaN(t)||isNaN(u)?l=[NaN,NaN]:(l=n.dataToPoint(d))[a]+=e,l}function b(t,e,i){var n=e.slice(),o=e.slice();n[a]+=r,o[a]-=r,i?t.push(n,o):t.push(o,n)}function _(t,e){var i=e.slice(),n=e.slice();i[a]-=r,n[a]+=r,t.push(i,n)}}(e,t.boxOffsetList[i],t.boxWidthList[i])})))}))}var xd={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==Ze){Fe("")}var i=function(t,e){for(var i=[],n=[],o=(e=e||{}).boundIQR,r="none"===o||0===o,a=0;a<t.length;a++){var s=Dt(t[a].slice()),l=Oi(s,.25),u=Oi(s,.5),d=Oi(s,.75),h=s[0],c=s[s.length-1],p=(null==o?1.5:o)*(d-l),g=r?h:Math.max(h,l-p),f=r?c:Math.min(c,d+p),y=e.itemNameFormatter,m=ht(y)?y({value:a}):dt(y)?y.replace("{value}",a+""):a+"";i.push([m,g,l,u,d,f]);for(var v=0;v<s.length;v++){var x=s[v];if(x<g||x>f){var b=[m,x];n.push(b)}}}return{boxData:i,outliers:n}}(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};var bd=["itemStyle","borderColor"],_d=["itemStyle","borderColor0"],Sd=["itemStyle","borderColorDoji"],wd=["itemStyle","color"],Md=["itemStyle","color0"];function Id(t,e){return e.get(t>0?wd:Md)}function Ad(t,e){return e.get(0===t?Sd:t>0?bd:_d)}var Cd={seriesType:"candlestick",plan:Bi(),performRawSeries:!0,reset:function(t,e){if(!e.isSeriesFiltered(t))return!t.pipelineContext.large&&{progress:function(t,e){for(var i;null!=(i=t.next());){var n=e.getItemModel(i),o=e.getItemLayout(i).sign,r=n.getItemStyle();r.fill=Id(o,n),r.stroke=Ad(o,n)||r.fill;var a=e.ensureUniqueItemVisual(i,"style");St(a,r)}}}}},Dd=["color","borderColor"],Td=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.render=function(t,e,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,e,i){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,e,i,n){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},e.prototype.eachRendered=function(t){Wi(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t){var e=t.getData(),i=this._data,n=this.group,o=e.getLayout("isSimpleBox"),r=t.get("clip",!0),a=t.coordinateSystem,s=a.getArea&&a.getArea();this._data||n.removeAll(),e.diff(i).add((function(i){if(e.hasValue(i)){var a=e.getItemLayout(i);if(r&&kd(s,a))return;var l=Nd(a,i,!0);Ke(l,{shape:{points:a.ends}},t,i),Ed(l,e,i,o),n.add(l),e.setItemGraphicEl(i,l)}})).update((function(a,l){var u=i.getItemGraphicEl(l);if(e.hasValue(a)){var d=e.getItemLayout(a);r&&kd(s,d)?n.remove(u):(u?(ie(u,{shape:{points:d.ends}},t,a),$e(u)):u=Nd(d),Ed(u,e,a,o),n.add(u),e.setItemGraphicEl(a,u))}else n.remove(u)})).remove((function(t){var e=i.getItemGraphicEl(t);e&&n.remove(e)})).execute(),this._data=e},e.prototype._renderLarge=function(t){this._clear(),Od(t,this.group);var e=t.get("clip",!0)?So(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,e){for(var i,n=e.getData(),o=n.getLayout("isSimpleBox");null!=(i=t.next());){var r=Nd(n.getItemLayout(i));Ed(r,n,i,o),r.incremental=!0,this.group.add(r),this._progressiveEls.push(r)}},e.prototype._incrementalRenderLarge=function(t,e){Od(e,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(Qe),Ld=function(){return function(){}}(),Pd=function(t){function e(e){var i=t.call(this,e)||this;return i.type="normalCandlestickBox",i}return f(e,t),e.prototype.getDefaultShape=function(){return new Ld},e.prototype.buildPath=function(t,e){var i=e.points;this.__simpleBox?(t.moveTo(i[4][0],i[4][1]),t.lineTo(i[6][0],i[6][1])):(t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.closePath(),t.moveTo(i[4][0],i[4][1]),t.lineTo(i[5][0],i[5][1]),t.moveTo(i[6][0],i[6][1]),t.lineTo(i[7][0],i[7][1]))},e}(jt);function Nd(t,e,i){var n=t.ends;return new Pd({shape:{points:i?Rd(n,t):n},z2:100})}function kd(t,e){for(var i=!0,n=0;n<e.ends.length;n++)if(t.contain(e.ends[n][0],e.ends[n][1])){i=!1;break}return i}function Ed(t,e,i,n){var o=e.getItemModel(i);t.useStyle(e.getItemVisual(i,"style")),t.style.strokeNoScale=!0,t.__simpleBox=n,Oe(t,o);var r=e.getItemLayout(i).sign;R(t.states,(function(t,e){var i=o.getModel(e),n=Id(r,i),a=Ad(r,i)||n,s=t.style||(t.style={});n&&(s.fill=n),a&&(s.stroke=a)}));var a=o.getModel("emphasis");Be(t,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function Rd(t,e){return B(t,(function(t){return(t=t.slice())[1]=e.initBaseline,t}))}var Vd=function(){return function(){}}(),zd=function(t){function e(e){var i=t.call(this,e)||this;return i.type="largeCandlestickBox",i}return f(e,t),e.prototype.getDefaultShape=function(){return new Vd},e.prototype.buildPath=function(t,e){for(var i=e.points,n=0;n<i.length;)if(this.__sign===i[n++]){var o=i[n++];t.moveTo(o,i[n++]),t.lineTo(o,i[n++])}else n+=3},e}(jt);function Od(t,e,i,n){var o=t.getData().getLayout("largePoints"),r=new zd({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});e.add(r);var a=new zd({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});e.add(a);var s=new zd({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});e.add(s),Bd(1,r,t),Bd(-1,a,t),Bd(0,s,t),n&&(r.incremental=!0,a.incremental=!0),i&&i.push(r,a)}function Bd(t,e,i,n){var o=Ad(t,i)||Id(t,i),r=i.getModel("itemStyle").getItemStyle(Dd);e.useStyle(r),e.style.fill=null,e.style.stroke=o}var Wd=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],i}return f(e,t),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,e,i){var n=e.getItemLayout(t);return n&&i.rect(n.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(ei);function Gd(t){t&&E(t.series)&&R(t.series,(function(t){Z(t)&&"k"===t.type&&(t.type="candlestick")}))}D(Wd,ud,!0);var Fd={seriesType:"candlestick",plan:Bi(),reset:function(t){var e=t.coordinateSystem,i=t.getData(),n=function(t,e){var i,n=t.getBaseAxis(),o="category"===n.type?n.getBandWidth():(i=n.getExtent(),Math.abs(i[1]-i[0])/e.count()),r=k(oe(t.get("barMaxWidth"),o),o),a=k(oe(t.get("barMinWidth"),1),o),s=t.get("barWidth");return null!=s?k(s,o):Math.max(Math.min(o/2,r),a)}(t,i),o=["x","y"],r=i.getDimensionIndex(i.mapDimension(o[0])),a=B(i.mapDimensionsAll(o[1]),i.getDimensionIndex,i),s=a[0],l=a[1],u=a[2],d=a[3];if(i.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),!(r<0||a.length<4))return{progress:t.pipelineContext.large?function(i,n){var o,a,h=Fi(4*i.count),c=0,p=[],g=[],f=n.getStore(),y=!!t.get(["itemStyle","borderColorDoji"]);for(;null!=(a=i.next());){var m=f.get(r,a),v=f.get(s,a),x=f.get(l,a),b=f.get(u,a),_=f.get(d,a);isNaN(m)||isNaN(b)||isNaN(_)?(h[c++]=NaN,c+=3):(h[c++]=Hd(f,a,v,x,l,y),p[0]=m,p[1]=b,o=e.dataToPoint(p,null,g),h[c++]=o?o[0]:NaN,h[c++]=o?o[1]:NaN,p[1]=_,o=e.dataToPoint(p,null,g),h[c++]=o?o[1]:NaN)}n.setLayout("largePoints",h)}:function(t,i){var o,a=i.getStore();for(;null!=(o=t.next());){var h=a.get(r,o),c=a.get(s,o),p=a.get(l,o),g=a.get(u,o),f=a.get(d,o),y=Math.min(c,p),m=Math.max(c,p),v=M(y,h),x=M(m,h),b=M(g,h),_=M(f,h),S=[];I(S,x,0),I(S,v,1),S.push(C(_),C(x),C(b),C(v));var w=!!i.getItemModel(o).get(["itemStyle","borderColorDoji"]);i.setItemLayout(o,{sign:Hd(a,o,c,p,l,w),initBaseline:c>p?x[1]:v[1],ends:S,brushRect:A(g,f,h)})}function M(t,i){var n=[];return n[0]=i,n[1]=t,isNaN(i)||isNaN(t)?[NaN,NaN]:e.dataToPoint(n)}function I(t,e,i){var o=e.slice(),r=e.slice();o[0]=Gi(o[0]+n/2,1,!1),r[0]=Gi(r[0]-n/2,1,!0),i?t.push(o,r):t.push(r,o)}function A(t,e,i){var o=M(t,i),r=M(e,i);return o[0]-=n/2,r[0]-=n/2,{x:o[0],y:o[1],width:n,height:r[1]-o[1]}}function C(t){return t[0]=Gi(t[0],1),t}}}}};function Hd(t,e,i,n,o,r){return i>n?-1:i<n?1:r?0:e>0?t.get(o,e-1)<=n?1:-1:1}var Yd=function(t){function e(e,i,n){var o=t.call(this)||this;return o.add(o.createLine(e,i,n)),o._updateEffectSymbol(e,i),o}return f(e,t),e.prototype.createLine=function(t,e,i){return new ko(t,e,i)},e.prototype._updateEffectSymbol=function(t,e){var i=t.getItemModel(e).getModel("effect"),n=i.get("symbolSize"),o=i.get("symbol");E(n)||(n=[n,n]);var r=t.getItemVisual(e,"style"),a=i.get("color")||r&&r.stroke,s=this.childAt(1);this._symbolType!==o&&(this.remove(s),(s=Se(o,-.5,-.5,1,1,a)).z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",a),s.setStyle(i.getItemStyle(["color"])),s.scaleX=n[0],s.scaleY=n[1],s.setColor(a),this._symbolType=o,this._symbolScale=n,this._updateEffectAnimation(t,i,e))},e.prototype._updateEffectAnimation=function(t,e,i){var n=this.childAt(1);if(n){var o=t.getItemLayout(i),r=1e3*e.get("period"),a=e.get("loop"),s=e.get("roundTrip"),l=e.get("constantSpeed"),u=ke(e.get("delay"),(function(e){return e/t.count()*r/3}));if(n.ignore=!0,this._updateAnimationPoints(n,o),l>0&&(r=this._getLineLength(n)/l*1e3),r!==this._period||a!==this._loop||s!==this._roundTrip){n.stopAnimation();var d=void 0;d=ht(u)?u(i):u,n.__t>0&&(d=-r*n.__t),this._animateSymbol(n,r,d,a,s)}this._period=r,this._loop=a,this._roundTrip=s}},e.prototype._animateSymbol=function(t,e,i,n,o){if(e>0){t.__t=0;var r=this,a=t.animate("",n).when(o?2*e:e,{__t:o?2:1}).delay(i).during((function(){r._updateSymbolPosition(t)}));n||a.done((function(){r.remove(t)})),a.start()}},e.prototype._getLineLength=function(t){return Hi(t.__p1,t.__cp1)+Hi(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},e.prototype.updateData=function(t,e,i){this.childAt(0).updateData(t,e,i),this._updateEffectSymbol(t,e)},e.prototype._updateSymbolPosition=function(t){var e=t.__p1,i=t.__p2,n=t.__cp1,o=t.__t<1?t.__t:2-t.__t,r=[t.x,t.y],a=r.slice(),s=Yi,l=Xi;r[0]=s(e[0],n[0],i[0],o),r[1]=s(e[1],n[1],i[1],o);var u=t.__t<1?l(e[0],n[0],i[0],o):l(i[0],n[0],e[0],1-o),d=t.__t<1?l(e[1],n[1],i[1],o):l(i[1],n[1],e[1],1-o);t.rotation=-Math.atan2(d,u)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*Hi(a,r),1===o&&(r[0]=a[0]+(r[0]-a[0])/2,r[1]=a[1]+(r[1]-a[1])/2)):1===t.__lastT?t.scaleY=2*Hi(e,r):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=r[0],t.y=r[1]},e.prototype.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var i=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,i,e)},e}(J),Xd=function(t){function e(e,i,n){var o=t.call(this)||this;return o._createPolyline(e,i,n),o}return f(e,t),e.prototype._createPolyline=function(t,e,i){var n=t.getItemLayout(e),o=new pt({shape:{points:n}});this.add(o),this._updateCommonStl(t,e,i)},e.prototype.updateData=function(t,e,i){var n=t.hostModel,o=this.childAt(0),r={shape:{points:t.getItemLayout(e)}};ie(o,r,n,e),this._updateCommonStl(t,e,i)},e.prototype._updateCommonStl=function(t,e,i){var n=this.childAt(0),o=t.getItemModel(e),r=i&&i.emphasisLineStyle,a=i&&i.focus,s=i&&i.blurScope,l=i&&i.emphasisDisabled;if(!i||t.hasItemOption){var u=o.getModel("emphasis");r=u.getModel("lineStyle").getLineStyle(),l=u.get("disabled"),a=u.get("focus"),s=u.get("blurScope")}n.useStyle(t.getItemVisual(e,"style")),n.style.fill=null,n.style.strokeNoScale=!0,n.ensureState("emphasis").style=r,Be(this,a,s,l)},e.prototype.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},e}(J),Ud=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return f(e,t),e.prototype.createLine=function(t,e,i){return new Xd(t,e,i)},e.prototype._updateAnimationPoints=function(t,e){this._points=e;for(var i=[0],n=0,o=1;o<e.length;o++){var r=e[o-1],a=e[o];n+=Hi(r,a),i.push(n)}if(0!==n){for(o=0;o<i.length;o++)i[o]/=n;this._offsets=i,this._length=n}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var e=t.__t<1?t.__t:2-t.__t,i=this._points,n=this._offsets,o=i.length;if(n){var r,a=this._lastFrame;if(e<this._lastFramePercent){for(r=Math.min(a+1,o-1);r>=0&&!(n[r]<=e);r--);r=Math.min(r,o-2)}else{for(r=a;r<o&&!(n[r]>e);r++);r=Math.min(r-1,o-2)}var s=(e-n[r])/(n[r+1]-n[r]),l=i[r],u=i[r+1];t.x=l[0]*(1-s)+s*u[0],t.y=l[1]*(1-s)+s*u[1];var d=t.__t<1?u[0]-l[0]:l[0]-u[0],h=t.__t<1?u[1]-l[1]:l[1]-u[1];t.rotation=-Math.atan2(h,d)-Math.PI/2,this._lastFrame=r,this._lastFramePercent=e,t.ignore=!1}},e}(Yd),Zd=function(){return function(){this.polyline=!1,this.curveness=0,this.segs=[]}}(),jd=function(t){function e(e){var i=t.call(this,e)||this;return i._off=0,i.hoverDataIdx=-1,i}return f(e,t),e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Zd},e.prototype.buildPath=function(t,e){var i,n=e.segs,o=e.curveness;if(e.polyline)for(i=this._off;i<n.length;){var r=n[i++];if(r>0){t.moveTo(n[i++],n[i++]);for(var a=1;a<r;a++)t.lineTo(n[i++],n[i++])}}else for(i=this._off;i<n.length;){var s=n[i++],l=n[i++],u=n[i++],d=n[i++];if(t.moveTo(s,l),o>0){var h=(s+u)/2-(l-d)*o,c=(l+d)/2-(u-s)*o;t.quadraticCurveTo(h,c,u,d)}else t.lineTo(u,d)}this.incremental&&(this._off=i,this.notClear=!0)},e.prototype.findDataIndex=function(t,e){var i=this.shape,n=i.segs,o=i.curveness,r=this.style.lineWidth;if(i.polyline)for(var a=0,s=0;s<n.length;){var l=n[s++];if(l>0)for(var u=n[s++],d=n[s++],h=1;h<l;h++){var c=n[s++],p=n[s++];if(Ui(u,d,c,p,r,t,e))return a}a++}else for(a=0,s=0;s<n.length;){u=n[s++],d=n[s++],c=n[s++],p=n[s++];if(o>0){if(Zi(u,d,(u+c)/2-(d-p)*o,(d+p)/2-(c-u)*o,c,p,r,t,e))return a}else if(Ui(u,d,c,p,r,t,e))return a;a++}return-1},e.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect();return t=i[0],e=i[1],n.contain(t,e)?(this.hoverDataIdx=this.findDataIndex(t,e))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape.segs,i=1/0,n=1/0,o=-1/0,r=-1/0,a=0;a<e.length;){var s=e[a++],l=e[a++];i=Math.min(s,i),o=Math.max(s,o),n=Math.min(l,n),r=Math.max(l,r)}t=this._rect=new Lt(i,n,o,r)}return t},e}(jt),qd=function(){function t(){this.group=new J}return t.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},t.prototype.incrementalUpdate=function(t,e){var i=this._newAdded[0],n=e.getLayout("linesPoints"),o=i&&i.shape.segs;if(o&&o.length<2e4){var r=o.length,a=new Float32Array(r+n.length);a.set(o),a.set(n,r),i.setShape({segs:a})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:n}),this._setCommon(s,e),s.__startIndex=t.start}},t.prototype.remove=function(){this._clear()},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new jd({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},t.prototype._setCommon=function(t,e,i){var n=e.hostModel;t.setShape({polyline:n.get("polyline"),curveness:n.get(["lineStyle","curveness"])}),t.useStyle(n.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=e.getVisual("style");o&&o.stroke&&t.setStyle("stroke",o.stroke),t.setStyle("fill",null);var r=$(t);r.seriesIndex=n.seriesIndex,t.on("mousemove",(function(e){r.dataIndex=null;var i=t.hoverDataIdx;i>0&&(r.dataIndex=i+t.__startIndex)}))},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),Kd={seriesType:"lines",plan:Bi(),reset:function(t){var e=t.coordinateSystem;if(e){var i=t.get("polyline"),n=t.pipelineContext.large;return{progress:function(o,r){var a=[];if(n){var s=void 0,l=o.end-o.start;if(i){for(var u=0,d=o.start;d<o.end;d++)u+=t.getLineCoordsCount(d);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var h=0,c=[];for(d=o.start;d<o.end;d++){var p=t.getLineCoords(d,a);i&&(s[h++]=p);for(var g=0;g<p;g++)c=e.dataToPoint(a[g],!1,c),s[h++]=c[0],s[h++]=c[1]}r.setLayout("linesPoints",s)}else for(d=o.start;d<o.end;d++){var f=r.getItemModel(d),y=(p=t.getLineCoords(d,a),[]);if(i)for(var m=0;m<p;m++)y.push(e.dataToPoint(a[m]));else{y[0]=e.dataToPoint(a[0]),y[1]=e.dataToPoint(a[1]);var v=f.get(["lineStyle","curveness"]);+v&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*v,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*v])}r.setItemLayout(d,y)}}}}}},$d=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.render=function(t,e,i){var n=t.getData(),o=this._updateLineDraw(n,t),r=t.get("zlevel"),a=t.get(["effect","trailLength"]),s=i.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(r).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&a>0&&(l||s.configLayer(r,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),o.updateData(n);var u=t.get("clip",!0)&&So(t.coordinateSystem,!1,t);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=r,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,i){var n=t.getData();this._updateLineDraw(n,t).incrementalPrepareUpdate(n),this._clearLayer(i),this._finished=!1},e.prototype.incrementalRender=function(t,e,i){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,e,i){var n=t.getData(),o=t.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var r=Kd.reset(t,e,i);r.progress&&r.progress({start:0,end:n.count(),count:n.count()},n),this._lineDraw.updateLayout(),this._clearLayer(i)},e.prototype._updateLineDraw=function(t,e){var i=this._lineDraw,n=this._showEffect(e),o=!!e.get("polyline"),r=e.pipelineContext.large;return i&&n===this._hasEffet&&o===this._isPolyline&&r===this._isLargeDraw||(i&&i.remove(),i=this._lineDraw=r?new qd:new Po(o?n?Ud:Xd:n?Yd:ko),this._hasEffet=n,this._isPolyline=o,this._isLargeDraw=r),this.group.add(i.group),i},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.type="lines",e}(Qe),Qd="undefined"==typeof Uint32Array?Array:Uint32Array,Jd="undefined"==typeof Float64Array?Array:Float64Array;function th(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=B(e,(function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),We([e,t[0],t[1]])})))}var eh=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.visualStyleAccessPath="lineStyle",i.visualDrawType="stroke",i}return f(e,t),e.prototype.init=function(e){e.data=e.data||[],th(e);var i=this._processFlatCoordsArray(e.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(e.data=new Float32Array(i.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(e){if(th(e),e.data){var i=this._processFlatCoordsArray(e.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(e.data=new Float32Array(i.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=ri(this._flatCoords,e.flatCoords),this._flatCoordsOffset=ri(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow("coords")},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*t],n=this._flatCoordsOffset[2*t+1],o=0;o<n;o++)e[o]=e[o]||[],e[o][0]=this._flatCoords[i+2*o],e[o][1]=this._flatCoords[i+2*o+1];return n}var r=this._getCoordsFromItemModel(t);for(o=0;o<r.length;o++)e[o]=e[o]||[],e[o][0]=r[o][0],e[o][1]=r[o][1];return r.length},e.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),mt(t[0])){for(var i=t.length,n=new Qd(i),o=new Jd(i),r=0,a=0,s=0,l=0;l<i;){s++;var u=t[l++];n[a++]=r+e,n[a++]=u;for(var d=0;d<u;d++){var h=t[l++],c=t[l++];o[r++]=h,o[r++]=c}}return{flatCoordsOffset:new Uint32Array(n.buffer,0,a),flatCoords:o,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,e){var i=new pe(["value"],this);return i.hasItemOption=!1,i.initData(t.data,[],(function(t,e,n,o){if(t instanceof Array)return NaN;i.hasItemOption=!0;var r=t.value;return null!=r?r instanceof Array?r[o]:r:void 0})),i},e.prototype.formatTooltip=function(t,e,i){var n=this.getData().getItemModel(t),o=n.get("name");if(o)return o;var r=n.get("fromName"),a=n.get("toName"),s=[];return null!=r&&s.push(r),null!=a&&s.push(a),ye("nameValue",{name:s.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),e=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&e>0?e+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(ei);function ih(t){return t instanceof Array||(t=[t,t]),t}var nh={seriesType:"lines",reset:function(t){var e=ih(t.get("symbol")),i=ih(t.get("symbolSize")),n=t.getData();return n.setVisual("fromSymbol",e&&e[0]),n.setVisual("toSymbol",e&&e[1]),n.setVisual("fromSymbolSize",i&&i[0]),n.setVisual("toSymbolSize",i&&i[1]),{dataEach:n.hasItemOption?function(t,e){var i=t.getItemModel(e),n=ih(i.getShallow("symbol",!0)),o=ih(i.getShallow("symbolSize",!0));n[0]&&t.setItemVisual(e,"fromSymbol",n[0]),n[1]&&t.setItemVisual(e,"toSymbol",n[1]),o[0]&&t.setItemVisual(e,"fromSymbolSize",o[0]),o[1]&&t.setItemVisual(e,"toSymbolSize",o[1])}:null}}};var oh=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=ji.createCanvas();this.canvas=t}return t.prototype.update=function(t,e,i,n,o,r){var a=this._getBrush(),s=this._getGradient(o,"inRange"),l=this._getGradient(o,"outOfRange"),u=this.pointSize+this.blurSize,d=this.canvas,h=d.getContext("2d"),c=t.length;d.width=e,d.height=i;for(var p=0;p<c;++p){var g=t[p],f=g[0],y=g[1],m=n(g[2]);h.globalAlpha=m,h.drawImage(a,f-u,y-u)}if(!d.width||!d.height)return d;for(var v=h.getImageData(0,0,d.width,d.height),x=v.data,b=0,_=x.length,S=this.minOpacity,w=this.maxOpacity-S;b<_;){m=x[b+3]/256;var M=4*Math.floor(255*m);if(m>0){var I=r(m)?s:l;m>0&&(m=m*w+S),x[b++]=I[M],x[b++]=I[M+1],x[b++]=I[M+2],x[b++]=I[M+3]*m*256}else b+=4}return h.putImageData(v,0,0),d},t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=ji.createCanvas()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var n=t.getContext("2d");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-e,e,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),t},t.prototype._getGradient=function(t,e){for(var i=this._gradientPixels,n=i[e]||(i[e]=new Uint8ClampedArray(1024)),o=[0,0,0,0],r=0,a=0;a<256;a++)t[e](a/255,!0,o),n[r++]=o[0],n[r++]=o[1],n[r++]=o[2],n[r++]=o[3];return n},t}();function rh(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var ah=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.render=function(t,e,i){var n;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(i){i===t&&(n=e)}))})),this._progressiveEls=null,this.group.removeAll();var o=t.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(t,i,0,t.getData().count()):rh(o)&&this._renderOnGeo(o,t,n,i)},e.prototype.incrementalPrepareRender=function(t,e,i){this.group.removeAll()},e.prototype.incrementalRender=function(t,e,i,n){var o=e.coordinateSystem;o&&(rh(o)?this.render(e,i,n):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(e,n,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Wi(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,e,i,n,o){var r,a,s,l,u=t.coordinateSystem,d=go(u,"cartesian2d");if(d){var h=u.getAxis("x"),c=u.getAxis("y");r=h.getBandWidth()+.5,a=c.getBandWidth()+.5,s=h.scale.getExtent(),l=c.scale.getExtent()}for(var p=this.group,g=t.getData(),f=t.getModel(["emphasis","itemStyle"]).getItemStyle(),y=t.getModel(["blur","itemStyle"]).getItemStyle(),m=t.getModel(["select","itemStyle"]).getItemStyle(),v=t.get(["itemStyle","borderRadius"]),x=ze(t),b=t.getModel("emphasis"),_=b.get("focus"),S=b.get("blurScope"),w=b.get("disabled"),M=d?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],I=i;I<n;I++){var A=void 0,C=g.getItemVisual(I,"style");if(d){var D=g.get(M[0],I),T=g.get(M[1],I);if(isNaN(g.get(M[2],I))||isNaN(D)||isNaN(T)||D<s[0]||D>s[1]||T<l[0]||T>l[1])continue;var L=u.dataToPoint([D,T]);A=new zt({shape:{x:L[0]-r/2,y:L[1]-a/2,width:r,height:a},style:C})}else{if(isNaN(g.get(M[1],I)))continue;A=new zt({z2:1,shape:u.dataToRect([g.get(M[0],I)]).contentShape,style:C})}if(g.hasItemOption){var P=g.getItemModel(I),N=P.getModel("emphasis");f=N.getModel("itemStyle").getItemStyle(),y=P.getModel(["blur","itemStyle"]).getItemStyle(),m=P.getModel(["select","itemStyle"]).getItemStyle(),v=P.get(["itemStyle","borderRadius"]),_=N.get("focus"),S=N.get("blurScope"),w=N.get("disabled"),x=ze(P)}A.shape.r=v;var k=t.getRawValue(I),E="-";k&&null!=k[2]&&(E=k[2]+""),Ve(A,x,{labelFetcher:t,labelDataIndex:I,defaultOpacity:C.opacity,defaultText:E}),A.ensureState("emphasis").style=f,A.ensureState("blur").style=y,A.ensureState("select").style=m,Be(A,_,S,w),A.incremental=o,o&&(A.states.emphasis.hoverLayer=!0),p.add(A),g.setItemGraphicEl(I,A),this._progressiveEls&&this._progressiveEls.push(A)}},e.prototype._renderOnGeo=function(t,e,i,n){var o=i.targetVisuals.inRange,r=i.targetVisuals.outOfRange,a=e.getData(),s=this._hmLayer||this._hmLayer||new oh;s.blurSize=e.get("blurSize"),s.pointSize=e.get("pointSize"),s.minOpacity=e.get("minOpacity"),s.maxOpacity=e.get("maxOpacity");var l=t.getViewRect().clone(),u=t.getRoamTransform();l.applyTransform(u);var d=Math.max(l.x,0),h=Math.max(l.y,0),c=Math.min(l.width+l.x,n.getWidth()),p=Math.min(l.height+l.y,n.getHeight()),g=c-d,f=p-h,y=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],m=a.mapArray(y,(function(e,i,n){var o=t.dataToPoint([e,i]);return o[0]-=d,o[1]-=h,o.push(n),o})),v=i.getExtent(),x="visualMap.continuous"===i.type?function(t,e){var i=t[1]-t[0];return e=[(e[0]-t[0])/i,(e[1]-t[0])/i],function(t){return t>=e[0]&&t<=e[1]}}(v,i.option.range):function(t,e,i){var n=t[1]-t[0],o=(e=B(e,(function(e){return{interval:[(e.interval[0]-t[0])/n,(e.interval[1]-t[0])/n]}}))).length,r=0;return function(t){var n;for(n=r;n<o;n++)if((a=e[n].interval)[0]<=t&&t<=a[1]){r=n;break}if(n===o)for(n=r-1;n>=0;n--){var a;if((a=e[n].interval)[0]<=t&&t<=a[1]){r=n;break}}return n>=0&&n<o&&i[n]}}(v,i.getPieceList(),i.option.selected);s.update(m,g,f,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:r.color.getColorMapper()},x);var b=new ae({style:{width:g,height:f,x:d,y:h,image:s.canvas},silent:!0});this.group.add(b)},e.type="heatmap",e}(Qe),sh=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.getInitialData=function(t,e){return Ri(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=qi.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(ei);var lh=["itemStyle","borderWidth"],uh=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],dh=new et,hh=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.render=function(t,e,i){var n=this.group,o=t.getData(),r=this._data,a=t.coordinateSystem,s=a.getBaseAxis().isHorizontal(),l=a.master.getRect(),u={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:a,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:uh[+s],categoryDim:uh[1-+s]};o.diff(r).add((function(t){if(o.hasValue(t)){var e=xh(o,t),i=ch(o,t,e,u),r=Sh(o,u,i);o.setItemGraphicEl(t,r),n.add(r),Ch(r,u,i)}})).update((function(t,e){var i=r.getItemGraphicEl(e);if(o.hasValue(t)){var a=xh(o,t),s=ch(o,t,a,u),l=Mh(o,s);i&&l!==i.__pictorialShapeStr&&(n.remove(i),o.setItemGraphicEl(t,null),i=null),i?function(t,e,i){var n=i.animationModel,o=i.dataIndex,r=t.__pictorialBundle;ie(r,{x:i.bundlePosition[0],y:i.bundlePosition[1]},n,o),i.symbolRepeat?fh(t,e,i,!0):yh(t,e,i,!0);mh(t,i,!0),vh(t,e,i,!0)}(i,u,s):i=Sh(o,u,s,!0),o.setItemGraphicEl(t,i),i.__pictorialSymbolMeta=s,n.add(i),Ch(i,u,s)}else n.remove(i)})).remove((function(t){var e=r.getItemGraphicEl(t);e&&wh(r,t,e.__pictorialSymbolMeta.animationModel,e)})).execute();var d=t.get("clip",!0)?So(t.coordinateSystem,!1,t):null;return d?n.setClipPath(d):n.removeClipPath(),this._data=o,this.group},e.prototype.remove=function(t,e){var i=this.group,n=this._data;t.get("animation")?n&&n.eachItemGraphicEl((function(e){wh(n,$(e).dataIndex,t,e)})):i.removeAll()},e.type="pictorialBar",e}(Qe);function ch(t,e,i,n){var o=t.getItemLayout(e),r=i.get("symbolRepeat"),a=i.get("symbolClip"),s=i.get("symbolPosition")||"start",l=(i.get("symbolRotate")||0)*Math.PI/180||0,u=i.get("symbolPatternSize")||2,d=i.isAnimationEnabled(),h={dataIndex:e,layout:o,itemModel:i,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:a,symbolRepeat:r,symbolRepeatDirection:i.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:l,animationModel:d?i:null,hoverScale:d&&i.get(["emphasis","scale"]),z2:i.getShallow("z",!0)||0};!function(t,e,i,n,o){var r,a=n.valueDim,s=t.get("symbolBoundingData"),l=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),d=1-+(i[a.wh]<=0);if(E(s)){var h=[ph(l,s[0])-u,ph(l,s[1])-u];h[1]<h[0]&&h.reverse(),r=h[d]}else r=null!=s?ph(l,s)-u:e?n.coordSysExtent[a.index][d]-u:i[a.wh];o.boundingLength=r,e&&(o.repeatCutLength=i[a.wh]);var c="x"===a.xy,p=l.inverse;o.pxSign=c&&!p||!c&&p?r>=0?1:-1:r>0?1:-1}(i,r,o,n,h),function(t,e,i,n,o,r,a,s,l,u){var d,h=l.valueDim,c=l.categoryDim,p=Math.abs(i[c.wh]),g=t.getItemVisual(e,"symbolSize");d=E(g)?g.slice():null==g?["100%","100%"]:[g,g];d[c.index]=k(d[c.index],p),d[h.index]=k(d[h.index],n?p:Math.abs(r)),u.symbolSize=d;var f=u.symbolScale=[d[0]/s,d[1]/s];f[h.index]*=(l.isHorizontal?-1:1)*a}(t,e,o,r,0,h.boundingLength,h.pxSign,u,n,h),function(t,e,i,n,o){var r=t.get(lh)||0;r&&(dh.attr({scaleX:e[0],scaleY:e[1],rotation:i}),dh.updateTransform(),r/=dh.getLineScale(),r*=e[n.valueDim.index]);o.valueLineWidth=r||0}(i,h.symbolScale,l,n,h);var c=h.symbolSize,p=Me(i.get("symbolOffset"),c);return function(t,e,i,n,o,r,a,s,l,u,d,h){var c=d.categoryDim,p=d.valueDim,g=h.pxSign,f=Math.max(e[p.index]+s,0),y=f;if(n){var m=Math.abs(l),v=ke(t.get("symbolMargin"),"15%")+"",x=!1;v.lastIndexOf("!")===v.length-1&&(x=!0,v=v.slice(0,v.length-1));var b=k(v,e[p.index]),_=Math.max(f+2*b,0),S=x?0:2*b,w=Ki(n),M=w?n:Dh((m+S)/_);_=f+2*(b=(m-M*f)/2/(x?M:Math.max(M-1,1))),S=x?0:2*b,w||"fixed"===n||(M=u?Dh((Math.abs(u)+S)/_):0),y=M*_-S,h.repeatTimes=M,h.symbolMargin=b}var I=g*(y/2),A=h.pathPosition=[];A[c.index]=i[c.wh]/2,A[p.index]="start"===a?I:"end"===a?l-I:l/2,r&&(A[0]+=r[0],A[1]+=r[1]);var C=h.bundlePosition=[];C[c.index]=i[c.xy],C[p.index]=i[p.xy];var D=h.barRectShape=St({},i);D[p.wh]=g*Math.max(Math.abs(i[p.wh]),Math.abs(A[p.index]+I)),D[c.wh]=i[c.wh];var T=h.clipShape={};T[c.xy]=-i[c.xy],T[c.wh]=d.ecSize[c.wh],T[p.xy]=0,T[p.wh]=i[p.wh]}(i,c,o,r,0,p,s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,n,h),h}function ph(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function gh(t){var e=t.symbolPatternSize,i=Se(t.symbolType,-e/2,-e/2,e,e);return i.attr({culling:!0}),"image"!==i.type&&i.setStyle({strokeNoScale:!0}),i}function fh(t,e,i,n){var o=t.__pictorialBundle,r=i.symbolSize,a=i.valueLineWidth,s=i.pathPosition,l=e.valueDim,u=i.repeatTimes||0,d=0,h=r[e.valueDim.index]+a+2*i.symbolMargin;for(Ih(t,(function(t){t.__pictorialAnimationIndex=d,t.__pictorialRepeatTimes=u,d<u?Ah(t,null,g(d),i,n):Ah(t,null,{scaleX:0,scaleY:0},i,n,(function(){o.remove(t)})),d++}));d<u;d++){var c=gh(i);c.__pictorialAnimationIndex=d,c.__pictorialRepeatTimes=u,o.add(c);var p=g(d);Ah(c,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},i,n)}function g(t){var e=s.slice(),n=i.pxSign,o=t;return("start"===i.symbolRepeatDirection?n>0:n<0)&&(o=u-1-t),e[l.index]=h*(o-u/2+.5)+s[l.index],{x:e[0],y:e[1],scaleX:i.symbolScale[0],scaleY:i.symbolScale[1],rotation:i.rotation}}}function yh(t,e,i,n){var o=t.__pictorialBundle,r=t.__pictorialMainPath;r?Ah(r,null,{x:i.pathPosition[0],y:i.pathPosition[1],scaleX:i.symbolScale[0],scaleY:i.symbolScale[1],rotation:i.rotation},i,n):(r=t.__pictorialMainPath=gh(i),o.add(r),Ah(r,{x:i.pathPosition[0],y:i.pathPosition[1],scaleX:0,scaleY:0,rotation:i.rotation},{scaleX:i.symbolScale[0],scaleY:i.symbolScale[1]},i,n))}function mh(t,e,i){var n=St({},e.barRectShape),o=t.__pictorialBarRect;o?Ah(o,null,{shape:n},e,i):((o=t.__pictorialBarRect=new zt({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,t.add(o))}function vh(t,e,i,n){if(i.symbolClip){var o=t.__pictorialClipPath,r=St({},i.clipShape),a=e.valueDim,s=i.animationModel,l=i.dataIndex;if(o)ie(o,{shape:r},s,l);else{r[a.wh]=0,o=new zt({shape:r}),t.__pictorialBundle.setClipPath(o),t.__pictorialClipPath=o;var u={};u[a.wh]=i.clipShape[a.wh],F[n?"updateProps":"initProps"](o,{shape:u},s,l)}}}function xh(t,e){var i=t.getItemModel(e);return i.getAnimationDelayParams=bh,i.isAnimationEnabled=_h,i}function bh(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function _h(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Sh(t,e,i,n){var o=new J,r=new J;return o.add(r),o.__pictorialBundle=r,r.x=i.bundlePosition[0],r.y=i.bundlePosition[1],i.symbolRepeat?fh(o,e,i):yh(o,0,i),mh(o,i,n),vh(o,e,i,n),o.__pictorialShapeStr=Mh(t,i),o.__pictorialSymbolMeta=i,o}function wh(t,e,i,n){var o=n.__pictorialBarRect;o&&o.removeTextContent();var r=[];Ih(n,(function(t){r.push(t)})),n.__pictorialMainPath&&r.push(n.__pictorialMainPath),n.__pictorialClipPath&&(i=null),R(r,(function(t){di(t,{scaleX:0,scaleY:0},i,e,(function(){n.parent&&n.parent.remove(n)}))})),t.setItemGraphicEl(e,null)}function Mh(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function Ih(t,e,i){R(t.__pictorialBundle.children(),(function(n){n!==t.__pictorialBarRect&&e.call(i,n)}))}function Ah(t,e,i,n,o,r){e&&t.attr(e),n.symbolClip&&!o?i&&t.attr(i):i&&F[o?"updateProps":"initProps"](t,i,n.animationModel,n.dataIndex,r)}function Ch(t,e,i){var n=i.dataIndex,o=i.itemModel,r=o.getModel("emphasis"),a=r.getModel("itemStyle").getItemStyle(),s=o.getModel(["blur","itemStyle"]).getItemStyle(),l=o.getModel(["select","itemStyle"]).getItemStyle(),u=o.getShallow("cursor"),d=r.get("focus"),h=r.get("blurScope"),c=r.get("scale");Ih(t,(function(t){if(t instanceof ae){var e=t.style;t.useStyle(St({image:e.image,x:e.x,y:e.y,width:e.width,height:e.height},i.style))}else t.useStyle(i.style);var n=t.ensureState("emphasis");n.style=a,c&&(n.scaleX=1.1*t.scaleX,n.scaleY=1.1*t.scaleY),t.ensureState("blur").style=s,t.ensureState("select").style=l,u&&(t.cursor=u),t.z2=i.z2}));var p=e.valueDim.posDesc[+(i.boundingLength>0)],g=t.__pictorialBarRect;g.ignoreClip=!0,Ve(g,ze(o),{labelFetcher:e.seriesModel,labelDataIndex:n,defaultText:$i(e.seriesModel.getData(),n),inheritColor:i.style.fill,defaultOpacity:i.style.opacity,defaultOutsidePosition:p}),Be(t,d,h,r.get("disabled"))}function Dh(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var Th=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.hasSymbolVisual=!0,i.defaultSymbol="roundRect",i}return f(e,t),e.prototype.getInitialData=function(e){return e.stack=null,t.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=ge(wo.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(wo);var Lh=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._layers=[],i}return f(e,t),e.prototype.render=function(t,e,i){var n=t.getData(),o=this,r=this.group,a=t.getLayerSeries(),s=n.getLayout("layoutInfo"),l=s.rect,u=s.boundaryGap;function d(t){return t.name}r.x=0,r.y=l.y+u[0];var h=new gi(this._layersSeries||[],a,d,d),c=[];function p(e,i,s){var l=o._layers;if("remove"!==e){for(var u,d,h=[],p=[],g=a[i].indices,f=0;f<g.length;f++){var y=n.getItemLayout(g[f]),m=y.x,v=y.y0,x=y.y;h.push(m,v),p.push(m,v+x),u=n.getItemVisual(g[f],"style")}var b=n.getItemLayout(g[0]),_=t.getModel("label").get("margin"),S=t.getModel("emphasis");if("add"===e){var w=c[i]=new J;d=new ro({shape:{points:h,stackedOnPoints:p,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),w.add(d),r.add(w),t.isAnimationEnabled()&&d.setClipPath(function(t,e,i){var n=new zt({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Ke(n,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,i),n}(d.getBoundingRect(),t,(function(){d.removeClipPath()})))}else{w=l[s];d=w.childAt(0),r.add(w),c[i]=w,ie(d,{shape:{points:h,stackedOnPoints:p}},t),$e(d)}Ve(d,ze(t),{labelDataIndex:g[f-1],defaultText:n.getName(g[f-1]),inheritColor:u.fill},{normal:{verticalAlign:"middle"}}),d.setTextConfig({position:null,local:!0});var M=d.getTextContent();M&&(M.x=b.x-_,M.y=b.y0+b.y/2),d.useStyle(u),n.setItemGraphicEl(i,d),Oe(d,t),Be(d,S.get("focus"),S.get("blurScope"),S.get("disabled"))}else r.remove(l[i])}h.add(xt(p,this,"add")).update(xt(p,this,"update")).remove(xt(p,this,"remove")).execute(),this._layersSeries=a,this._layers=c},e.type="themeRiver",e}(Qe);var Ph=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Co(xt(this.getData,this),xt(this.getRawData,this))},e.prototype.fixData=function(t){var e=t.length,i={},n=tn(t,(function(t){return i.hasOwnProperty(t[0]+"")||(i[t[0]+""]=-1),t[2]})),o=[];n.buckets.each((function(t,e){o.push({name:e,dataList:t})}));for(var r=o.length,a=0;a<r;++a){for(var s=o[a].name,l=0;l<o[a].dataList.length;++l){var u=o[a].dataList[l][0]+"";i[u]=a}for(var u in i)i.hasOwnProperty(u)&&i[u]!==a&&(i[u]=a,t[e]=[u,0,s],e++)}return t},e.prototype.getInitialData=function(t,e){for(var i=this.getReferringComponents("singleAxis",C).models[0].get("type"),n=it(t.data,(function(t){return void 0!==t[2]})),o=this.fixData(n||[]),r=[],a=this.nameMap=wt(),s=0,l=0;l<o.length;++l)r.push(o[l][2]),a.get(o[l][2])||(a.set(o[l][2],s),s++);var u=hi(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Vi(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,d=new pe(u,this);return d.initData(o),d},e.prototype.getLayerSeries=function(){for(var t=this.getData(),e=t.count(),i=[],n=0;n<e;++n)i[n]=n;var o=t.mapDimension("single"),r=tn(i,(function(e){return t.get("name",e)})),a=[];return r.buckets.each((function(e,i){e.sort((function(e,i){return t.get(o,e)-t.get(o,i)})),a.push({name:i,indices:e})})),a},e.prototype.getAxisTooltipData=function(t,e,i){E(t)||(t=t?[t]:[]);for(var n,o=this.getData(),r=this.getLayerSeries(),a=[],s=r.length,l=0;l<s;++l){for(var u=Number.MAX_VALUE,d=-1,h=r[l].indices.length,c=0;c<h;++c){var p=o.get(t[0],r[l].indices[c]),g=Math.abs(p-e);g<=u&&(n=p,u=g,d=r[l].indices[c])}a.push(d)}return{dataIndices:a,nestestValue:n}},e.prototype.formatTooltip=function(t,e,i){var n=this.getData(),o=n.getName(t),r=n.get(n.mapDimension("value"),t);return ye("nameValue",{name:o,value:r})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(ei);function Nh(t,e){t.eachSeriesByType("themeRiver",(function(t){var e=t.getData(),i=t.coordinateSystem,n={},o=i.getRect();n.rect=o;var r=t.get("boundaryGap"),a=i.getAxis();(n.boundaryGap=r,"horizontal"===a.orient)?(r[0]=k(r[0],o.height),r[1]=k(r[1],o.height),kh(e,t,o.height-r[0]-r[1])):(r[0]=k(r[0],o.width),r[1]=k(r[1],o.width),kh(e,t,o.width-r[0]-r[1]));e.setLayout("layoutInfo",n)}))}function kh(t,e,i){if(t.count())for(var n,o=e.coordinateSystem,r=e.getLayerSeries(),a=t.mapDimension("single"),s=t.mapDimension("value"),l=B(r,(function(e){return B(e.indices,(function(e){var i=o.dataToPoint(t.get(a,e));return i[1]=t.get(s,e),i}))})),u=function(t){for(var e=t.length,i=t[0].length,n=[],o=[],r=0,a=0;a<i;++a){for(var s=0,l=0;l<e;++l)s+=t[l][a][1];s>r&&(r=s),n.push(s)}for(var u=0;u<i;++u)o[u]=(r-n[u])/2;r=0;for(var d=0;d<i;++d){var h=n[d]+o[d];h>r&&(r=h)}return{y0:o,max:r}}(l),d=u.y0,h=i/u.max,c=r.length,p=r[0].indices.length,g=0;g<p;++g){n=d[g]*h,t.setItemLayout(r[0].indices[g],{layerIndex:0,x:l[0][g][0],y0:n,y:l[0][g][1]*h});for(var f=1;f<c;++f)n+=l[f-1][g][1]*h,t.setItemLayout(r[f].indices[g],{layerIndex:f,x:l[f][g][0],y0:n,y:l[f][g][1]*h})}}var Eh=function(t){function e(e,i,n,o){var r=t.call(this)||this;r.z2=2,r.textConfig={inside:!0},$(r).seriesIndex=i.seriesIndex;var a=new q({z2:4,silent:e.getModel().get(["label","silent"])});return r.setTextContent(a),r.updateData(!0,e,i,n,o),r}return f(e,t),e.prototype.updateData=function(t,e,i,n,o){this.node=e,e.piece=this,i=i||this._seriesModel,n=n||this._ecModel;var r=this;$(r).dataIndex=e.dataIndex;var a=e.getModel(),s=a.getModel("emphasis"),l=e.getLayout(),u=St({},l);u.label=null;var d=e.getVisual("style");d.lineJoin="bevel";var h=e.getVisual("decal");h&&(d.decal=en(h,o));var c=nn(a.getModel("itemStyle"),u,!0);St(u,c),R(on,(function(t){var e=r.ensureState(t),i=a.getModel([t,"itemStyle"]);e.style=i.getItemStyle();var n=nn(i,u);n&&(e.shape=n)})),t?(r.setShape(u),r.shape.r=l.r0,Ke(r,{shape:{r:l.r}},i,e.dataIndex)):(ie(r,{shape:u},i),$e(r)),r.useStyle(d),this._updateLabel(i);var p=a.getShallow("cursor");p&&r.attr("cursor",p),this._seriesModel=i||this._seriesModel,this._ecModel=n||this._ecModel;var g=s.get("focus"),f="relative"===g?ri(e.getAncestorsIndices(),e.getDescendantIndices()):"ancestor"===g?e.getAncestorsIndices():"descendant"===g?e.getDescendantIndices():g;Be(this,f,s.get("blurScope"),s.get("disabled"))},e.prototype._updateLabel=function(t){var e=this,i=this.node.getModel(),n=i.getModel("label"),o=this.node.getLayout(),r=o.endAngle-o.startAngle,a=(o.startAngle+o.endAngle)/2,s=Math.cos(a),l=Math.sin(a),u=this,d=u.getTextContent(),h=this.node.dataIndex,c=n.get("minAngle")/180*Math.PI,p=n.get("show")&&!(null!=c&&Math.abs(r)<c);function g(t,e){var i=t.get(e);return null==i?n.get(e):i}d.ignore=!p,R(an,(function(n){var c="normal"===n?i.getModel("label"):i.getModel([n,"label"]),p="normal"===n,f=p?d:d.ensureState(n),y=t.getFormattedLabel(h,n);p&&(y=y||e.node.name),f.style=K(c,{},null,"normal"!==n,!0),y&&(f.style.text=y);var m=c.get("show");null==m||p||(f.ignore=!m);var v,x=g(c,"position"),b=p?u:u.states[n],_=b.style.fill;b.textConfig={outsideFill:"inherit"===c.get("color")?_:null,inside:"outside"!==x};var S=g(c,"distance")||0,w=g(c,"align"),M=g(c,"rotate"),I=.5*Math.PI,A=1.5*Math.PI,C=rn("tangential"===M?Math.PI/2-a:a),D=C>I&&!sn(C-I)&&C<A;"outside"===x?(v=o.r+S,w=D?"right":"left"):w&&"center"!==w?"left"===w?(v=o.r0+S,w=D?"right":"left"):"right"===w&&(v=o.r-S,w=D?"left":"right"):(v=r===2*Math.PI&&0===o.r0?0:(o.r+o.r0)/2,w="center"),f.style.align=w,f.style.verticalAlign=g(c,"verticalAlign")||"middle",f.x=v*s+o.cx,f.y=v*l+o.cy;var T=0;"radial"===M?T=rn(-a)+(D?Math.PI:0):"tangential"===M?T=rn(Math.PI/2-a)+(D?Math.PI:0):mt(M)&&(T=M*Math.PI/180),f.rotation=rn(T)})),d.dirtyStyle()},e}(Q),Rh="sunburstRootToNode",Vh="sunburstHighlight";var zh=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.render=function(t,e,i,n){var o=this;this.seriesModel=t,this.api=i,this.ecModel=e;var r=t.getData(),a=r.tree.root,s=t.getViewRoot(),l=this.group,u=t.get("renderLabelForZeroData"),d=[];s.eachNode((function(t){d.push(t)}));var h,c,p=this._oldChildren||[];!function(n,o){if(0===n.length&&0===o.length)return;function s(t){return t.getId()}function d(s,d){!function(n,o){u||!n||n.getValue()||(n=null);if(n!==a&&o!==a)if(o&&o.piece)n?(o.piece.updateData(!1,n,t,e,i),r.setItemGraphicEl(n.dataIndex,o.piece)):function(t){if(!t)return;t.piece&&(l.remove(t.piece),t.piece=null)}(o);else if(n){var s=new Eh(n,t,e,i);l.add(s),r.setItemGraphicEl(n.dataIndex,s)}}(null==s?null:n[s],null==d?null:o[d])}new gi(o,n,s,s).add(d).update(d).remove(lt(d,null)).execute()}(d,p),h=a,(c=s).depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,h,t,e,i):(o.virtualPiece=new Eh(h,t,e,i),l.add(o.virtualPiece)),c.piece.off("click"),o.virtualPiece.on("click",(function(t){o._rootToNode(c.parentNode)}))):o.virtualPiece&&(l.remove(o.virtualPiece),o.virtualPiece=null),this._initEvents(),this._oldChildren=d},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",(function(e){var i=!1;t.seriesModel.getViewRoot().eachNode((function(n){if(!i&&n.piece&&n.piece===e.target){var o=n.getModel().get("nodeClick");if("rootToNode"===o)t._rootToNode(n);else if("link"===o){var r=n.getModel(),a=r.get("link");if(a){var s=r.get("target",!0)||"_blank";yi(a,s)}}i=!0}}))}))},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Rh,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,e){var i=e.getData().getItemLayout(0);if(i){var n=t[0]-i.cx,o=t[1]-i.cy,r=Math.sqrt(n*n+o*o);return r<=i.r&&r>=i.r0}},e.type="sunburst",e}(Qe),Oh=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.ignoreStyleOnData=!0,i}return f(e,t),e.prototype.getInitialData=function(t,e){var i={name:t.name,children:t.data};Bh(i);var n=this._levelModels=B(t.levels||[],(function(t){return new j(t,this,e)}),this),o=Kl.createTree(i,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var i=o.getNodeByDataIndex(e),r=n[i.depth];return r&&(t.parentModel=r),t}))}));return o.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(e){var i=t.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return i.treePathInfo=tu(n,this),i},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){au(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(ei);function Bh(t){var e=0;R(t.children,(function(t){Bh(t);var i=t.value;E(i)&&(i=i[0]),e+=i}));var i=t.value;E(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=e),i<0&&(i=0),E(t.value)?t.value[0]=i:t.value=i}var Wh=Math.PI/180;function Gh(t,e,i){e.eachSeriesByType(t,(function(t){var e=t.get("center"),n=t.get("radius");E(n)||(n=[0,n]),E(e)||(e=[e,e]);var o=i.getWidth(),r=i.getHeight(),a=Math.min(o,r),s=k(e[0],o),l=k(e[1],r),u=k(n[0],a/2),d=k(n[1],a/2),h=-t.get("startAngle")*Wh,c=t.get("minAngle")*Wh,p=t.getData().tree.root,g=t.getViewRoot(),f=g.depth,y=t.get("sort");null!=y&&Fh(g,y);var m=0;R(g.children,(function(t){!isNaN(t.getValue())&&m++}));var v=g.getValue(),x=Math.PI/(v||m)*2,b=g.depth>0,_=g.height-(b?-1:1),S=(d-u)/(_||1),w=t.get("clockwise"),M=t.get("stillShowZeroSum"),I=w?1:-1,A=function(e,i){if(e){var n=i;if(e!==p){var o=e.getValue(),r=0===v&&M?x:o*x;r<c&&(r=c),n=i+I*r;var d=e.depth-f-(b?-1:1),h=u+S*d,g=u+S*(d+1),y=t.getLevelModel(e);if(y){var m=y.get("r0",!0),_=y.get("r",!0),C=y.get("radius",!0);null!=C&&(m=C[0],_=C[1]),null!=m&&(h=k(m,a/2)),null!=_&&(g=k(_,a/2))}e.setLayout({angle:r,startAngle:i,endAngle:n,clockwise:w,cx:s,cy:l,r0:h,r:g})}if(e.children&&e.children.length){var D=0;R(e.children,(function(t){D+=A(t,i+D)}))}return n-i}};if(b){var C=u,D=u+S,T=2*Math.PI;p.setLayout({angle:T,startAngle:h,endAngle:h+T,clockwise:w,cx:s,cy:l,r0:C,r:D})}A(g,h)}))}function Fh(t,e){var i=t.children||[];t.children=function(t,e){if(ht(e)){var i=B(t,(function(t,e){var i=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return i}},index:e}}));return i.sort((function(t,i){return e(t.params,i.params)})),B(i,(function(e){return t[e.index]}))}var n="asc"===e;return t.sort((function(t,e){var i=(t.getValue()-e.getValue())*(n?1:-1);return 0===i?(t.dataIndex-e.dataIndex)*(n?-1:1):i}))}(i,e),i.length&&R(t.children,(function(t){Fh(t,e)}))}function Hh(t){var e={};t.eachSeriesByType("sunburst",(function(t){var i=t.getData(),n=i.tree;n.eachNode((function(o){var r=o.getModel().getModel("itemStyle").getItemStyle();r.fill||(r.fill=function(t,i,n){for(var o=t;o&&o.depth>1;)o=o.parentNode;var r=i.getColorFromPalette(o.name||o.dataIndex+"",e);return t.depth>1&&dt(r)&&(r=ln(r,(t.depth-1)/(n-1)*.5)),r}(o,t,n.root.height));var a=i.ensureUniqueItemVisual(o.dataIndex,"style");St(a,r)}))}))}var Yh={color:"fill",borderColor:"stroke"},Xh={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Uh=P(),Zh=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,e){return Ri(null,this)},e.prototype.getDataParams=function(e,i,n){var o=t.prototype.getDataParams.call(this,e,i);return n&&(o.info=Uh(n).info),o},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(ei);function jh(t,e){return e=e||[0,0],B(["x","y"],(function(i,n){var o=this.getAxis(i),r=e[n],a=t[n]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(r-a)-o.dataToCoord(r+a))}),this)}function qh(t,e){return e=e||[0,0],B([0,1],(function(i){var n=e[i],o=t[i]/2,r=[],a=[];return r[i]=n-o,a[i]=n+o,r[1-i]=a[1-i]=e[1-i],Math.abs(this.dataToPoint(r)[i]-this.dataToPoint(a)[i])}),this)}function Kh(t,e){var i=this.getAxis(),n=e instanceof Array?e[0]:e,o=(t instanceof Array?t[0]:t)/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(n-o)-i.dataToCoord(n+o))}function $h(t,e){return e=e||[0,0],B(["Radius","Angle"],(function(i,n){var o=this["get"+i+"Axis"](),r=e[n],a=t[n]/2,s="category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(r-a)-o.dataToCoord(r+a));return"Angle"===i&&(s=s*Math.PI/180),s}),this)}var Qh="emphasis",Jh="normal",tc="blur",ec="select",ic=[Jh,Qh,tc,ec],nc={normal:["itemStyle"],emphasis:[Qh,"itemStyle"],blur:[tc,"itemStyle"],select:[ec,"itemStyle"]},oc={normal:["label"],emphasis:[Qh,"label"],blur:[tc,"label"],select:[ec,"label"]},rc=["x","y"],ac={normal:{},emphasis:{},blur:{},select:{}},sc={cartesian2d:function(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:xt(jh,t)}}},geo:function(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:xt(qh,t)}}},single:function(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:xt(Kh,t)}}},polar:function(t){var e=t.getRadiusAxis(),i=t.getAngleAxis(),n=e.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:n[1],r0:n[0]},api:{coord:function(n){var o=e.dataToRadius(n[0]),r=i.dataToAngle(n[1]),a=t.coordToPoint([o,r]);return a.push(o,r*Math.PI/180),a},size:xt($h,t)}}},calendar:function(t){var e=t.getRect(),i=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:function(e,i){return t.dataToPoint(e,i)}}}}};function lc(t){return t instanceof jt}function uc(t){return t instanceof Zt}var dc=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return f(e,t),e.prototype.render=function(t,e,i,n){this._progressiveEls=null;var o=this._data,r=t.getData(),a=this.group,s=fc(t,r,e,i);o||a.removeAll(),r.diff(o).add((function(e){mc(i,null,e,s(e,n),t,a,r)})).remove((function(e){var i=o.getItemGraphicEl(e);i&&Pa(i,Uh(i).option,t)})).update((function(e,l){var u=o.getItemGraphicEl(l);mc(i,u,e,s(e,n),t,a,r)})).execute();var l=t.get("clip",!0)?So(t.coordinateSystem,!1,t):null;l?a.setClipPath(l):a.removeClipPath(),this._data=r},e.prototype.incrementalPrepareRender=function(t,e,i){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,e,i,n,o){var r=e.getData(),a=fc(e,r,i,n),s=this._progressiveEls=[];function l(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var u=t.start;u<t.end;u++){var d=mc(null,null,u,a(u,o),e,this.group,r);d&&(d.traverse(l),s.push(d))}},e.prototype.eachRendered=function(t){Wi(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,e,i,n){var o=e.element;if(null==o||i.name===o)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===o)return!0;return!1},e.type="custom",e}(Qe);function hc(t){var e,i=t.type;if("path"===i){var n=t.shape,o=null!=n.width&&null!=n.height?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,r=Cc(n);e=pn(r,null,o,n.layout||"center"),Uh(e).customPathData=r}else if("image"===i)e=new ae({}),Uh(e).customImagePath=t.style.image;else if("text"===i)e=new q({});else if("group"===i)e=new J;else{if("compoundPath"===i)throw new Error('"compoundPath" is not supported yet.');var a=ne(i);if(!a){Fe("")}e=new a}return Uh(e).customGraphicType=i,e.name=t.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function cc(t,e,i,n,o,r,a){Ga(e);var s=o&&o.normal.cfg;s&&e.setTextConfig(s),n&&null==n.transition&&(n.transition=rc);var l=n&&n.style;if(l){if("text"===e.type){var u=l;Ht(u,"textFill")&&(u.fill=u.textFill),Ht(u,"textStroke")&&(u.stroke=u.textStroke)}var d=void 0,h=lc(e)?l.decal:null;t&&h&&(h.dirty=!0,d=en(h,t)),l.__decalPattern=d}uc(e)&&(l&&(d=l.__decalPattern)&&(l.decal=d));Ta(e,n,r,{dataIndex:i,isInit:a,clearStyle:!0}),Fa(e,n.keyframeAnimation,r)}function pc(t,e,i,n,o){var r=e.isGroup?null:e,a=o&&o[t].cfg;if(r){var s=r.ensureState(t);if(!1===n){var l=r.getState(t);l&&(l.style=null)}else s.style=n||null;a&&(s.textConfig=a),ui(r)}}function gc(t,e,i){var n=i===Jh,o=n?e:_c(e,i),r=o?o.z2:null;null!=r&&((n?t:t.ensureState(i)).z2=r||0)}function fc(t,e,i,n){var o=t.get("renderItem"),r=t.coordinateSystem,a={};r&&(a=r.prepareCustoms?r.prepareCustoms(r):sc[r.type](r));for(var s,l,u=U({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:function(t,i){return null==i&&(i=s),e.getStore().get(e.getDimensionIndex(t||0),i)},style:function(i,n){null==n&&(n=s);var o=e.getItemVisual(n,"style"),r=o&&o.fill,a=o&&o.opacity,l=v(n,Jh).getItemStyle();null!=r&&(l.fill=r),null!=a&&(l.opacity=a);var u={inheritColor:dt(r)?r:"#000"},d=x(n,Jh),h=K(d,null,u,!1,!0);h.text=d.getShallow("show")?oe(t.getFormattedLabel(n,Jh),$i(e,n)):null;var c=un(d,u,!1);return _(i,l),l=Sa(l,h,c),i&&b(l,i),l.legacy=!0,l},ordinalRawValue:function(t,i){null==i&&(i=s),t=t||0;var n=e.getDimensionInfo(t);if(!n){var o=e.getDimensionIndex(t);return o>=0?e.getStore().get(o,i):void 0}var r=e.get(n.name,i),a=n&&n.ordinalMeta;return a?a.categories[r]:r},styleEmphasis:function(i,n){null==n&&(n=s);var o=v(n,Qh).getItemStyle(),r=x(n,Qh),a=K(r,null,null,!0,!0);a.text=r.getShallow("show")?dn(t.getFormattedLabel(n,Qh),t.getFormattedLabel(n,Jh),$i(e,n)):null;var l=un(r,null,!0);return _(i,o),o=Sa(o,a,l),i&&b(o,i),o.legacy=!0,o},visual:function(t,i){if(null==i&&(i=s),Ht(Yh,t)){var n=e.getItemVisual(i,"style");return n?n[Yh[t]]:null}if(Ht(Xh,t))return e.getItemVisual(i,t)},barLayout:function(t){if("cartesian2d"===r.type){var e=r.getBaseAxis();return hn(U({axis:e},t))}},currentSeriesIndices:function(){return i.getCurrentSeriesIndices()},font:function(t){return cn(t,i)}},a.api||{}),d={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:a.coordSys,dataInsideLength:e.count(),encode:yc(t.getData())},h={},c={},p={},g={},f=0;f<ic.length;f++){var y=ic[f];p[y]=t.getModel(nc[y]),g[y]=t.getModel(oc[y])}function m(t){return t===s?l||(l=e.getItemModel(t)):e.getItemModel(t)}function v(t,i){return e.hasItemOption?t===s?h[i]||(h[i]=m(t).getModel(nc[i])):m(t).getModel(nc[i]):p[i]}function x(t,i){return e.hasItemOption?t===s?c[i]||(c[i]=m(t).getModel(oc[i])):m(t).getModel(oc[i]):g[i]}return function(t,i){return s=t,l=null,h={},c={},o&&o(U({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:i?i.type:null},d),u)};function b(t,e){for(var i in e)Ht(e,i)&&(t[i]=e[i])}function _(t,e){t&&(t.textFill&&(e.textFill=t.textFill),t.textPosition&&(e.textPosition=t.textPosition))}}function yc(t){var e={};return R(t.dimensions,(function(i){var n=t.getDimensionInfo(i);if(!n.isExtraCoord){var o=n.coordDim;(e[o]=e[o]||[])[n.coordDimIndex]=t.getDimensionIndex(i)}})),e}function mc(t,e,i,n,o,r,a){if(n){var s=vc(t,e,i,n,o,r);return s&&a.setItemGraphicEl(i,s),s&&Be(s,n.focus,n.blurScope,n.emphasisDisabled),s}r.remove(e)}function vc(t,e,i,n,o,r){var a=-1,s=e;e&&xc(e,n,o)&&(a=qt(r.childrenRef(),e),e=null);var l,u,d=!e,h=e;h?h.clearStates():(h=hc(n),s&&(l=s,(u=h).copyTransform(l),uc(u)&&uc(l)&&(u.setStyle(l.style),u.z=l.z,u.z2=l.z2,u.zlevel=l.zlevel,u.invisible=l.invisible,u.ignore=l.ignore,lc(u)&&lc(l)&&u.setShape(l.shape)))),!1===n.morph?h.disableMorphing=!0:h.disableMorphing&&(h.disableMorphing=!1),ac.normal.cfg=ac.normal.conOpt=ac.emphasis.cfg=ac.emphasis.conOpt=ac.blur.cfg=ac.blur.conOpt=ac.select.cfg=ac.select.conOpt=null,ac.isLegacy=!1,function(t,e,i,n,o,r){if(t.isGroup)return;bc(i,null,r),bc(i,Qh,r);var a=r.normal.conOpt,s=r.emphasis.conOpt,l=r.blur.conOpt,u=r.select.conOpt;if(null!=a||null!=s||null!=u||null!=l){var d=t.getTextContent();if(!1===a)d&&t.removeTextContent();else{a=r.normal.conOpt=a||{type:"text"},d?d.clearStates():(d=hc(a),t.setTextContent(d)),cc(null,d,e,a,null,n,o);for(var h=a&&a.style,c=0;c<ic.length;c++){var p=ic[c];if(p!==Jh){var g=r[p].conOpt;pc(p,d,0,Sc(a,g,p),null)}}h?d.dirty():d.markRedraw()}}}(h,i,n,o,d,ac),function(t,e,i,n,o){var r=i.clipPath;if(!1===r)t&&t.getClipPath()&&t.removeClipPath();else if(r){var a=t.getClipPath();a&&xc(a,r,n)&&(a=null),a||(a=hc(r),t.setClipPath(a)),cc(null,a,e,r,null,n,o)}}(h,i,n,o,d),cc(t,h,i,n,ac,o,d),Ht(n,"info")&&(Uh(h).info=n.info);for(var c=0;c<ic.length;c++){var p=ic[c];if(p!==Jh){var g=_c(n,p);pc(p,h,0,Sc(n,g,p),ac)}}return function(t,e,i){if(!t.isGroup){var n=t,o=i.currentZ,r=i.currentZLevel;n.z=o,n.zlevel=r;var a=e.z2;null!=a&&(n.z2=a||0);for(var s=0;s<ic.length;s++)gc(n,e,ic[s])}}(h,n,o),"group"===n.type&&function(t,e,i,n,o){var r=n.children,a=r?r.length:0,s=n.$mergeChildren,l="byName"===s||n.diffChildrenByName,u=!1===s;if(!a&&!l&&!u)return;if(l)return d={api:t,oldChildren:e.children()||[],newChildren:r||[],dataIndex:i,seriesModel:o,group:e},void new gi(d.oldChildren,d.newChildren,Mc,Mc,d).add(Ic).update(Ic).remove(Ac).execute();var d;u&&e.removeAll();for(var h=0;h<a;h++){var c=r[h],p=e.childAt(h);c?(null==c.ignore&&(c.ignore=!1),vc(t,p,i,c,o,e)):p.ignore=!0}for(var g=e.childCount()-1;g>=h;g--){var f=e.childAt(g);wc(e,f,o)}}(t,h,i,n,o),a>=0?r.replaceAt(h,a):r.add(h),h}function xc(t,e,i){var n,o=Uh(t),r=e.type,a=e.shape,s=e.style;return i.isUniversalTransitionEnabled()||null!=r&&r!==o.customGraphicType||"path"===r&&((n=a)&&(Ht(n,"pathData")||Ht(n,"d")))&&Cc(a)!==o.customPathData||"image"===r&&Ht(s,"image")&&s.image!==o.customImagePath}function bc(t,e,i){var n=e?_c(t,e):t,o=e?Sc(t,n,Qh):t.style,r=t.type,a=n?n.textConfig:null,s=t.textContent,l=s?e?_c(s,e):s:null;if(o&&(i.isLegacy||xa(o,r,!!a,!!l))){i.isLegacy=!0;var u=ba(o,r,!e);!a&&u.textConfig&&(a=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var d=l;!d.type&&(d.type="text")}var h=e?i[e]:i.normal;h.cfg=a,h.conOpt=l}function _c(t,e){return e?t?t[e]:null:t}function Sc(t,e,i){var n=e&&e.style;return null==n&&i===Qh&&t&&(n=t.styleEmphasis),n}function wc(t,e,i){e&&Pa(e,Uh(t).option,i)}function Mc(t,e){var i=t&&t.name;return null!=i?i:"e\0\0"+e}function Ic(t,e){var i=this.context,n=null!=t?i.newChildren[t]:null,o=null!=e?i.oldChildren[e]:null;vc(i.api,o,i.dataIndex,n,i.seriesModel,i.group)}function Ac(t){var e=this.context,i=e.oldChildren[t];i&&Pa(i,Uh(i).option,e.seriesModel)}function Cc(t){return t&&(t.pathData||t.d)}var Dc=Math.sin,Tc=Math.cos,Lc=Math.PI,Pc=2*Math.PI,Nc=180/Lc,kc=function(){function t(){}return t.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},t.prototype.moveTo=function(t,e){this._add("M",t,e)},t.prototype.lineTo=function(t,e){this._add("L",t,e)},t.prototype.bezierCurveTo=function(t,e,i,n,o,r){this._add("C",t,e,i,n,o,r)},t.prototype.quadraticCurveTo=function(t,e,i,n){this._add("Q",t,e,i,n)},t.prototype.arc=function(t,e,i,n,o,r){this.ellipse(t,e,i,i,0,n,o,r)},t.prototype.ellipse=function(t,e,i,n,o,r,a,s){var l=a-r,u=!s,d=Math.abs(l),h=gn(d-Pc)||(u?l>=Pc:-l>=Pc),c=l>0?l%Pc:l%Pc+Pc,p=!1;p=!!h||!gn(d)&&c>=Lc==!!u;var g=t+i*Tc(r),f=e+n*Dc(r);this._start&&this._add("M",g,f);var y=Math.round(o*Nc);if(h){var m=1/this._p,v=(u?1:-1)*(Pc-m);this._add("A",i,n,y,1,+u,t+i*Tc(r+v),e+n*Dc(r+v)),m>.01&&this._add("A",i,n,y,0,+u,g,f)}else{var x=t+i*Tc(a),b=e+n*Dc(a);this._add("A",i,n,y,+p,+u,x,b)}},t.prototype.rect=function(t,e,i,n){this._add("M",t,e),this._add("l",i,0),this._add("l",0,n),this._add("l",-i,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(t,e,i,n,o,r,a,s,l){for(var u=[],d=this._p,h=1;h<arguments.length;h++){var c=arguments[h];if(isNaN(c))return void(this._invalid=!0);u.push(Math.round(c*d)/d)}this._d.push(t+u.join(" ")),this._start="Z"===t},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),Ec="none",Rc=Math.round;var Vc=["lineCap","miterLimit","lineJoin"],zc=B(Vc,(function(t){return"stroke-"+t.toLowerCase()}));function Oc(t,e,i,n){var o=null==e.opacity?1:e.opacity;if(i instanceof ae)t("opacity",o);else{if(function(t){var e=t.fill;return null!=e&&e!==Ec}(e)){var r=fn(e.fill);t("fill",r.color);var a=null!=e.fillOpacity?e.fillOpacity*r.opacity*o:r.opacity*o;a<1&&t("fill-opacity",a)}else t("fill",Ec);if(function(t){var e=t.stroke;return null!=e&&e!==Ec}(e)){var s=fn(e.stroke);t("stroke",s.color);var l=e.strokeNoScale?i.getLineScale():1,u=l?(e.lineWidth||0)/l:0,d=null!=e.strokeOpacity?e.strokeOpacity*s.opacity*o:s.opacity*o,h=e.strokeFirst;if(1!==u&&t("stroke-width",u),h&&t("paint-order",h?"stroke":"fill"),d<1&&t("stroke-opacity",d),e.lineDash){var c=yn(i),p=c[0],g=c[1];p&&(g=Rc(g||0),t("stroke-dasharray",p.join(",")),(g||n)&&t("stroke-dashoffset",g))}for(var f=0;f<Vc.length;f++){var y=Vc[f];if(e[y]!==mn[y]){var m=e[y]||mn[y];m&&t(zc[f],m)}}}}}var Bc="http://www.w3.org/2000/svg",Wc="http://www.w3.org/1999/xlink",Gc="ecmeta_";function Fc(t){return document.createElementNS(Bc,t)}function Hc(t,e,i,n,o){return{tag:t,attrs:i||{},children:n,text:o,key:e}}function Yc(t,e){var i=(e=e||{}).newline?"\n":"";return function t(e){var n=e.children,o=e.tag,r=e.attrs,a=e.text;return function(t,e){var i=[];if(e)for(var n in e){var o=e[n],r=n;!1!==o&&(!0!==o&&null!=o&&(r+='="'+o+'"'),i.push(r))}return"<"+t+" "+i.join(" ")+">"}(o,r)+("style"!==o?vn(a):a||"")+(n?""+i+B(n,(function(e){return t(e)})).join(i)+i:"")+("</"+o+">")}(t)}function Xc(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function Uc(t,e,i,n){return Hc("svg","root",{width:t,height:e,xmlns:Bc,"xmlns:xlink":Wc,version:"1.1",baseProfile:"full",viewBox:!!n&&"0 0 "+t+" "+e},i)}var Zc=0;function jc(){return Zc++}var qc={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Kc="transform-origin";function $c(t,e,i){var n=St({},t.shape);St(n,e),t.buildPath(i,n);var o=new kc;return o.reset(wn(t)),i.rebuildPath(o,1),o.generateStr(),o.getStr()}function Qc(t,e){var i=e.originX,n=e.originY;(i||n)&&(t[Kc]=i+"px "+n+"px")}var Jc={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function tp(t,e){var i=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[i]=t,i}function ep(t){return dt(t)?qc[t]?"cubic-bezier("+qc[t]+")":bn(t)?t:"":""}function ip(t,e,i,n){var o=t.animators,r=o.length,a=[];if(t instanceof xn){var s=function(t,e,i){var n,o,r=t.shape.paths,a={};if(R(r,(function(t){var e=Xc(i.zrId);e.animation=!0,ip(t,{},e,!0);var r=e.cssAnims,s=e.cssNodes,l=Yt(r),u=l.length;if(u){var d=r[o=l[u-1]];for(var h in d){var c=d[h];a[h]=a[h]||{d:""},a[h].d+=c.d||""}for(var p in s){var g=s[p].animation;g.indexOf(o)>=0&&(n=g)}}})),n){e.d=!1;var s=tp(a,i);return n.replace(o,s)}}(t,e,i);if(s)a.push(s);else if(!r)return}else if(!r)return;for(var l={},u=0;u<r;u++){var d=o[u],h=[d.getMaxTime()/1e3+"s"],c=ep(d.getClip().easing),p=d.getDelay();c?h.push(c):h.push("linear"),p&&h.push(p/1e3+"s"),d.getLoop()&&h.push("infinite");var g=h.join(" ");l[g]=l[g]||[g,[]],l[g][1].push(d)}function f(o){var r,a=o[1],s=a.length,l={},u={},d={},h="animation-timing-function";function c(t,e,i){for(var n=t.getTracks(),o=t.getMaxTime(),r=0;r<n.length;r++){var a=n[r];if(a.needsAnimate()){var s=a.keyframes,l=a.propName;if(i&&(l=i(l)),l)for(var u=0;u<s.length;u++){var d=s[u],c=Math.round(d.time/o*100)+"%",p=ep(d.easing),g=d.rawValue;(dt(g)||mt(g))&&(e[c]=e[c]||{},e[c][l]=d.rawValue,p&&(e[c][h]=p))}}}}for(var p=0;p<s;p++){(w=(S=a[p]).targetName)?"shape"===w&&c(S,u):!n&&c(S,l)}for(var g in l){var f={};_n(f,t),St(f,l[g]);var y=Sn(f),m=l[g][h];d[g]=y?{transform:y}:{},Qc(d[g],f),m&&(d[g][h]=m)}var v=!0;for(var g in u){d[g]=d[g]||{};var x=!r;m=u[g][h];x&&(r=new Mn);var b=r.len();r.reset(),d[g].d=$c(t,u[g],r);var _=r.len();if(!x&&b!==_){v=!1;break}m&&(d[g][h]=m)}if(!v)for(var g in d)delete d[g].d;if(!n)for(p=0;p<s;p++){var S,w;"style"===(w=(S=a[p]).targetName)&&c(S,d,(function(t){return Jc[t]}))}var M,I=Yt(d),A=!0;for(p=1;p<I.length;p++){var C=I[p-1],D=I[p];if(d[C][Kc]!==d[D][Kc]){A=!1;break}M=d[C][Kc]}if(A&&M){for(var g in d)d[g][Kc]&&delete d[g][Kc];e[Kc]=M}if(it(I,(function(t){return Yt(d[t]).length>0})).length)return tp(d,i)+" "+o[0]+" both"}for(var y in l){(s=f(l[y]))&&a.push(s)}if(a.length){var m=i.zrId+"-cls-"+jc();i.cssNodes["."+m]={animation:a.join(",")},e.class=m}}function np(t,e,i,n){var o=JSON.stringify(t),r=i.cssStyleCache[o];r||(r=i.zrId+"-cls-"+jc(),i.cssStyleCache[o]=r,i.cssNodes["."+r+":hover"]=t),e.class=e.class?e.class+" "+r:r}var op=Math.round;function rp(t){return t&&dt(t.src)}function ap(t){return t&&ht(t.toDataURL)}function sp(t,e,i,n){Oc((function(o,r){var a="fill"===o||"stroke"===o;a&&Gn(r)?vp(e,t,o,n):a&&Fn(r)?xp(i,t,o,n):t[o]=r,a&&n.ssr&&"none"===r&&(t["pointer-events"]="visible")}),e,i,!1),function(t,e,i){var n=t.style;if(Xn(n)){var o=Un(t),r=i.shadowCache,a=r[o];if(!a){var s=t.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var d=n.shadowOffsetX||0,h=n.shadowOffsetY||0,c=n.shadowBlur,p=fn(n.shadowColor),g=p.opacity,f=p.color,y=c/2/l+" "+c/2/u;a=i.zrId+"-s"+i.shadowIdx++,i.defs[a]=Hc("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Hc("feDropShadow","",{dx:d/l,dy:h/u,stdDeviation:y,"flood-color":f,"flood-opacity":g})]),r[o]=a}e.filter=Ln(a)}}(i,t,n)}function lp(t,e){var i=Hn(e);i&&(i.each((function(e,i){null!=e&&(t[(Gc+i).toLowerCase()]=e+"")})),e.isSilent()&&(t[Gc+"silent"]="true"))}function up(t){return gn(t[0]-1)&&gn(t[1])&&gn(t[2])&&gn(t[3]-1)}function dp(t,e,i){if(e&&(!function(t){return gn(t[4])&&gn(t[5])}(e)||!up(e))){var n=1e4;t.transform=up(e)?"translate("+op(e[4]*n)/n+" "+op(e[5]*n)/n+")":Yn(e)}}function hp(t,e,i){for(var n=t.points,o=[],r=0;r<n.length;r++)o.push(op(n[r][0]*i)/i),o.push(op(n[r][1]*i)/i);e.points=o.join(" ")}function cp(t){return!t.smooth}var pp,gp,fp={circle:[(pp=["cx","cy","r"],gp=B(pp,(function(t){return"string"==typeof t?[t,t]:t})),function(t,e,i){for(var n=0;n<gp.length;n++){var o=gp[n],r=t[o[0]];null!=r&&(e[o[1]]=op(r*i)/i)}})],polyline:[hp,cp],polygon:[hp,cp]};function yp(t,e){var i=t.style,n=t.shape,o=fp[t.type],r={},a=e.animation,s="path",l=t.style.strokePercent,u=e.compress&&wn(t)||4;if(!o||e.willUpdate||o[1]&&!o[1](n)||a&&function(t){for(var e=t.animators,i=0;i<e.length;i++)if("shape"===e[i].targetName)return!0;return!1}(t)||l<1){var d=!t.path||t.shapeChanged();t.path||t.createPathProxy();var h=t.path;d&&(h.beginPath(),t.buildPath(h,t.shape),t.pathUpdated());var c=h.getVersion(),p=t,g=p.__svgPathBuilder;p.__svgPathVersion===c&&g&&l===p.__svgPathStrokePercent||(g||(g=p.__svgPathBuilder=new kc),g.reset(u),h.rebuildPath(g,l),g.generateStr(),p.__svgPathVersion=c,p.__svgPathStrokePercent=l),r.d=g.getStr()}else{s=t.type;var f=Math.pow(10,u);o[0](n,r,f)}return dp(r,t.transform),sp(r,i,t,e),lp(r,t),e.animation&&ip(t,r,e),e.emphasis&&function(t,e,i){if(!t.ignore)if(t.isSilent())np(u={"pointer-events":"none"},e,i);else{var n=t.states.emphasis&&t.states.emphasis.style?t.states.emphasis.style:{},o=n.fill;if(!o){var r=t.style&&t.style.fill,a=t.states.select&&t.states.select.style&&t.states.select.style.fill,s=t.currentStates.indexOf("select")>=0&&a||r;s&&(o=In(s))}var l=n.lineWidth;l&&(l/=!n.strokeNoScale&&t.transform?t.transform[0]:1);var u={cursor:"pointer"};o&&(u.fill=o),n.stroke&&(u.stroke=n.stroke),l&&(u["stroke-width"]=l),np(u,e,i)}}(t,r,e),Hc(s,t.id+"",r)}function mp(t,e){return t instanceof jt?yp(t,e):t instanceof ae?function(t,e){var i=t.style,n=i.image;if(n&&!dt(n)&&(rp(n)?n=n.src:ap(n)&&(n=n.toDataURL())),n){var o=i.x||0,r=i.y||0,a={href:n,width:i.width,height:i.height};return o&&(a.x=o),r&&(a.y=r),dp(a,t.transform),sp(a,i,t,e),lp(a,t),e.animation&&ip(t,a,e),Hc("image",t.id+"",a)}}(t,e):t instanceof An?function(t,e){var i=t.style,n=i.text;if(null!=n&&(n+=""),n&&!isNaN(i.x)&&!isNaN(i.y)){var o=i.font||En,r=i.x||0,a=Rn(i.y||0,Vn(o),i.textBaseline),s={"dominant-baseline":"central","text-anchor":zn[i.textAlign]||i.textAlign};if(On(i)){var l="",u=i.fontStyle,d=Bn(i.fontSize);if(!parseFloat(d))return;var h=i.fontFamily||Wn,c=i.fontWeight;l+="font-size:"+d+";font-family:"+h+";",u&&"normal"!==u&&(l+="font-style:"+u+";"),c&&"normal"!==c&&(l+="font-weight:"+c+";"),s.style=l}else s.style="font: "+o;return n.match(/\s/)&&(s["xml:space"]="preserve"),r&&(s.x=r),a&&(s.y=a),dp(s,t.transform),sp(s,i,t,e),lp(s,t),e.animation&&ip(t,s,e),Hc("text",t.id+"",s,void 0,n)}}(t,e):void 0}function vp(t,e,i,n){var o,r=t[i],a={gradientUnits:r.global?"userSpaceOnUse":"objectBoundingBox"};if(Cn(r))o="linearGradient",a.x1=r.x,a.y1=r.y,a.x2=r.x2,a.y2=r.y2;else{if(!Dn(r))return;o="radialGradient",a.cx=oe(r.x,.5),a.cy=oe(r.y,.5),a.r=oe(r.r,.5)}for(var s=r.colorStops,l=[],u=0,d=s.length;u<d;++u){var h=100*Tn(s[u].offset)+"%",c=s[u].color,p=fn(c),g=p.color,f=p.opacity,y={offset:h};y["stop-color"]=g,f<1&&(y["stop-opacity"]=f),l.push(Hc("stop",u+"",y))}var m=Yc(Hc(o,"",a,l)),v=n.gradientCache,x=v[m];x||(x=n.zrId+"-g"+n.gradientIdx++,v[m]=x,a.id=x,n.defs[x]=Hc(o,x,a,l)),e[i]=Ln(x)}function xp(t,e,i,n){var o,r=t.style[i],a=t.getBoundingRect(),s={},l=r.repeat,u="no-repeat"===l,d="repeat-x"===l,h="repeat-y"===l;if(Pn(r)){var c=r.imageWidth,p=r.imageHeight,g=void 0,f=r.image;if(dt(f)?g=f:rp(f)?g=f.src:ap(f)&&(g=f.toDataURL()),"undefined"==typeof Image){var y="Image width/height must been given explictly in svg-ssr renderer.";Nn(c,y),Nn(p,y)}else if(null==c||null==p){var m=function(t,e){if(t){var i=t.elm,n=c||e.width,o=p||e.height;"pattern"===t.tag&&(d?(o=1,n/=a.width):h&&(n=1,o/=a.height)),t.attrs.width=n,t.attrs.height=o,i&&(i.setAttribute("width",n),i.setAttribute("height",o))}},v=kn(g,null,t,(function(t){u||m(S,t),m(o,t)}));v&&v.width&&v.height&&(c=c||v.width,p=p||v.height)}o=Hc("image","img",{href:g,width:c,height:p}),s.width=c,s.height=p}else r.svgElement&&(o=W(r.svgElement),s.width=r.svgWidth,s.height=r.svgHeight);if(o){var x,b;u?x=b=1:d?(b=1,x=s.width/a.width):h?(x=1,b=s.height/a.height):s.patternUnits="userSpaceOnUse",null==x||isNaN(x)||(s.width=x),null==b||isNaN(b)||(s.height=b);var _=Sn(r);_&&(s.patternTransform=_);var S=Hc("pattern","",s,[o]),w=Yc(S),M=n.patternCache,I=M[w];I||(I=n.zrId+"-p"+n.patternIdx++,M[w]=I,s.id=I,S=n.defs[I]=Hc("pattern",I,s,[o])),e[i]=Ln(I)}}function bp(t,e,i){var n=i.clipPathCache,o=i.defs,r=n[t.id];if(!r){var a={id:r=i.zrId+"-c"+i.clipPathIdx++};n[t.id]=r,o[r]=Hc("clipPath",r,a,[yp(t,i)])}e["clip-path"]=Ln(r)}function _p(t){return document.createTextNode(t)}function Sp(t,e,i){t.insertBefore(e,i)}function wp(t,e){t.removeChild(e)}function Mp(t,e){t.appendChild(e)}function Ip(t){return t.parentNode}function Ap(t){return t.nextSibling}function Cp(t,e){t.textContent=e}var Dp=Hc("","");function Tp(t){return void 0===t}function Lp(t){return void 0!==t}function Pp(t,e,i){for(var n={},o=e;o<=i;++o){var r=t[o].key;void 0!==r&&(n[r]=o)}return n}function Np(t,e){var i=t.key===e.key;return t.tag===e.tag&&i}function kp(t){var e,i=t.children,n=t.tag;if(Lp(n)){var o=t.elm=Fc(n);if(Vp(Dp,t),E(i))for(e=0;e<i.length;++e){var r=i[e];null!=r&&Mp(o,kp(r))}else Lp(t.text)&&!Z(t.text)&&Mp(o,_p(t.text))}else t.elm=_p(t.text);return t.elm}function Ep(t,e,i,n,o){for(;n<=o;++n){var r=i[n];null!=r&&Sp(t,kp(r),e)}}function Rp(t,e,i,n){for(;i<=n;++i){var o=e[i];if(null!=o)if(Lp(o.tag))wp(Ip(o.elm),o.elm);else wp(t,o.elm)}}function Vp(t,e){var i,n=e.elm,o=t&&t.attrs||{},r=e.attrs||{};if(o!==r){for(i in r){var a=r[i];o[i]!==a&&(!0===a?n.setAttribute(i,""):!1===a?n.removeAttribute(i):"style"===i?n.style.cssText=a:120!==i.charCodeAt(0)?n.setAttribute(i,a):"xmlns:xlink"===i||"xmlns"===i?n.setAttributeNS("http://www.w3.org/2000/xmlns/",i,a):58===i.charCodeAt(3)?n.setAttributeNS("http://www.w3.org/XML/1998/namespace",i,a):58===i.charCodeAt(5)?n.setAttributeNS(Wc,i,a):n.setAttribute(i,a))}for(i in o)i in r||n.removeAttribute(i)}}function zp(t,e){var i=e.elm=t.elm,n=t.children,o=e.children;t!==e&&(Vp(t,e),Tp(e.text)?Lp(n)&&Lp(o)?n!==o&&function(t,e,i){for(var n,o,r,a=0,s=0,l=e.length-1,u=e[0],d=e[l],h=i.length-1,c=i[0],p=i[h];a<=l&&s<=h;)null==u?u=e[++a]:null==d?d=e[--l]:null==c?c=i[++s]:null==p?p=i[--h]:Np(u,c)?(zp(u,c),u=e[++a],c=i[++s]):Np(d,p)?(zp(d,p),d=e[--l],p=i[--h]):Np(u,p)?(zp(u,p),Sp(t,u.elm,Ap(d.elm)),u=e[++a],p=i[--h]):Np(d,c)?(zp(d,c),Sp(t,d.elm,u.elm),d=e[--l],c=i[++s]):(Tp(n)&&(n=Pp(e,a,l)),Tp(o=n[c.key])||(r=e[o]).tag!==c.tag?Sp(t,kp(c),u.elm):(zp(r,c),e[o]=void 0,Sp(t,r.elm,u.elm)),c=i[++s]);(a<=l||s<=h)&&(a>l?Ep(t,null==i[h+1]?null:i[h+1].elm,i,s,h):Rp(t,e,a,l))}(i,n,o):Lp(o)?(Lp(t.text)&&Cp(i,""),Ep(i,null,o,0,o.length-1)):Lp(n)?Rp(i,n,0,n.length-1):Lp(t.text)&&Cp(i,""):t.text!==e.text&&(Lp(n)&&Rp(i,n,0,n.length-1),Cp(i,e.text)))}var Op=0,Bp=function(){function t(t,e,i){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=e,this._opts=i=St({},i),this.root=t,this._id="zr"+Op++,this._oldVNode=Uc(i.width,i.height),t&&!i.ssr){var n=this._viewport=document.createElement("div");n.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=Fc("svg");Vp(null,this._oldVNode),n.appendChild(o),t.appendChild(n)}this.resize(i.width,i.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",function(t,e){if(Np(t,e))zp(t,e);else{var i=t.elm,n=Ip(i);kp(e),null!==n&&(Sp(n,e.elm,Ap(i)),Rp(n,[t],0,0))}}(this._oldVNode,t),this._oldVNode=t}},t.prototype.renderOneToVNode=function(t){return mp(t,Xc(this._id))},t.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),i=this._width,n=this._height,o=Xc(this._id);o.animation=t.animation,o.willUpdate=t.willUpdate,o.compress=t.compress,o.emphasis=t.emphasis,o.ssr=this._opts.ssr;var r=[],a=this._bgVNode=function(t,e,i,n){var o;if(i&&"none"!==i)if(o=Hc("rect","bg",{width:t,height:e,x:"0",y:"0"}),Gn(i))vp({fill:i},o.attrs,"fill",n);else if(Fn(i))xp({style:{fill:i},dirty:de,getBoundingRect:function(){return{width:t,height:e}}},o.attrs,"fill",n);else{var r=fn(i),a=r.color,s=r.opacity;o.attrs.fill=a,s<1&&(o.attrs["fill-opacity"]=s)}return o}(i,n,this._backgroundColor,o);a&&r.push(a);var s=t.compress?null:this._mainVNode=Hc("g","main",{},[]);this._paintList(e,o,s?s.children:r),s&&r.push(s);var l=B(Yt(o.defs),(function(t){return o.defs[t]}));if(l.length&&r.push(Hc("defs","defs",{},l)),t.animation){var u=function(t,e,i){var n=(i=i||{}).newline?"\n":"",o=" {"+n,r=n+"}",a=B(Yt(t),(function(e){return e+o+B(Yt(t[e]),(function(i){return i+":"+t[e][i]+";"})).join(n)+r})).join(n),s=B(Yt(e),(function(t){return"@keyframes "+t+o+B(Yt(e[t]),(function(i){return i+o+B(Yt(e[t][i]),(function(n){var o=e[t][i][n];return"d"===n&&(o='path("'+o+'")'),n+":"+o+";"})).join(n)+r})).join(n)+r})).join(n);return a||s?["<![CDATA[",a,s,"]]>"].join(n):""}(o.cssNodes,o.cssAnims,{newline:!0});if(u){var d=Hc("style","stl",{},[],u);r.push(d)}}return Uc(i,n,r,t.useViewBox)},t.prototype.renderToString=function(t){return t=t||{},Yc(this.renderToVNode({animation:oe(t.cssAnimation,!0),emphasis:oe(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:oe(t.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(t,e,i){for(var n,o,r=t.length,a=[],s=0,l=0,u=0;u<r;u++){var d=t[u];if(!d.invisible){var h=d.__clipPaths,c=h&&h.length||0,p=o&&o.length||0,g=void 0;for(g=Math.max(c-1,p-1);g>=0&&(!h||!o||h[g]!==o[g]);g--);for(var f=p-1;f>g;f--)n=a[--s-1];for(var y=g+1;y<c;y++){var m={};bp(h[y],m,e);var v=Hc("g","clip-g-"+l++,m,[]);(n?n.children:i).push(v),a[s++]=v,n=v}o=h;var x=mp(d,e);x&&(n?n.children:i).push(x)}}},t.prototype.resize=function(t,e){var i=this._opts,n=this.root,o=this._viewport;if(null!=t&&(i.width=t),null!=e&&(i.height=e),n&&o&&(o.style.display="none",t=Zn(n,0,i),e=Zn(n,1,i),o.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,o){var r=o.style;r.width=t+"px",r.height=e+"px"}if(Fn(this._backgroundColor))this.refresh();else{var a=this._svgDom;a&&(a.setAttribute("width",t),a.setAttribute("height",e));var s=this._bgVNode&&this._bgVNode.elm;s&&(s.setAttribute("width",t),s.setAttribute("height",e))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(t){var e=this.renderToString(),i="data:image/svg+xml;";return t?(e=jn(e))&&i+"base64,"+e:i+"charset=UTF-8,"+encodeURIComponent(e)},t}();rt([qn]),rt([function(t){t.registerPainter("svg",Bp)}]),rt([ao,Mo,To,Lo,function(t){rt(zr),t.registerChartView(Tl),t.registerSeriesModel(Ll),t.registerLayout(Il),t.registerProcessor(Do("radar")),t.registerPreprocessor(Dl)},so,function(t){t.registerChartView(Fl),t.registerSeriesModel(eu),t.registerLayout(nu),t.registerVisual(ou),function(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var i=t.dataIndex,n=e.getData().tree.getNodeByDataIndex(i);n.isExpand=!n.isExpand}))})),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(t,e,i){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var n=e.coordinateSystem,o=xo(n,t,void 0,i);e.setCenter&&e.setCenter(o.center),e.setZoom&&e.setZoom(o.zoom)}))}))}(t)},function(t){t.registerSeriesModel(su),t.registerChartView(wu),t.registerVisual(Iu),t.registerLayout(Ou),function(t){for(var e=0;e<ru.length;e++)t.registerAction({type:ru[e],update:"updateView"},de);t.registerAction({type:"treemapRootToNode",update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},(function(e,i){var n=$l(t,["treemapZoomToNode","treemapRootToNode"],e);if(n){var o=e.getViewRoot();o&&(t.direction=Jl(o,n.node)?"rollUp":"drillDown"),e.resetViewRoot(n.node)}}))}))}(t)},Eo,function(t){t.registerChartView(Zu),t.registerSeriesModel(ju)},function(t){t.registerChartView($u),t.registerSeriesModel(Qu),t.registerLayout(Ju),t.registerProcessor(Do("funnel"))},function(t){rt(sa),t.registerChartView(td),t.registerSeriesModel(rd),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,ld)},Ro,function(t){t.registerSeriesModel(dd),t.registerChartView(hd),t.registerLayout(vd),t.registerTransform(xd)},function(t){t.registerChartView(Td),t.registerSeriesModel(Wd),t.registerPreprocessor(Gd),t.registerVisual(Cd),t.registerLayout(Fd)},lo,function(t){t.registerChartView($d),t.registerSeriesModel(eh),t.registerLayout(Kd),t.registerVisual(nh)},function(t){t.registerChartView(ah),t.registerSeriesModel(sh)},function(t){t.registerChartView(hh),t.registerSeriesModel(Th),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,lt(Ji,"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Qi("pictorialBar"))},function(t){t.registerChartView(Lh),t.registerSeriesModel(Ph),t.registerLayout(Nh),t.registerProcessor(Do("themeRiver"))},function(t){t.registerChartView(zh),t.registerSeriesModel(Oh),t.registerLayout(lt(Gh,"sunburst")),t.registerProcessor(lt(Do,"sunburst")),t.registerVisual(Hh),function(t){t.registerAction({type:Rh,update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(e,i){var n=$l(t,[Rh],e);if(n){var o=e.getViewRoot();o&&(t.direction=Jl(o,n.node)?"rollUp":"drillDown"),e.resetViewRoot(n.node)}}))})),t.registerAction({type:Vh,update:"none"},(function(t,e,i){t=St({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(e){var i=$l(t,[Vh],e);i&&(t.dataIndex=i.node.dataIndex)})),i.dispatchAction(St(t,{type:"highlight"}))})),t.registerAction({type:"sunburstUnhighlight",update:"updateView"},(function(t,e,i){t=St({},t),i.dispatchAction(St(t,{type:"downplay"}))}))}(t)},function(t){t.registerChartView(dc),t.registerSeriesModel(Zh)}]),rt(Io),rt((function(t){rt(at),G.registerAxisPointerClass("PolarAxisPointer",Jo),t.registerCoordinateSystem("polar",pr),t.registerComponentModel(er),t.registerComponentView(Tr),st(t,"angle",nr,Cr),st(t,"radius",or,Dr),t.registerComponentView(vr),t.registerComponentView(Sr),t.registerLayout(lt(Ar,"bar"))})),rt(uo),rt(t),rt(sa),rt((function(t){t.registerComponentModel(la),t.registerComponentView(da),t.registerCoordinateSystem("calendar",ca)})),rt((function(t){t.registerComponentModel(va),t.registerComponentView(Xa),t.registerPreprocessor((function(t){var e=t.graphic;E(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])}))})),rt(Kn),rt($n),rt(at),rt((function(t){t.registerComponentView(ds),t.registerComponentModel(hs),t.registerPreprocessor($a),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,rs),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(t,e){e.eachComponent({mainType:"brush",query:t},(function(e){e.setAreas(t.areas)}))})),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},de),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},de),he("brush",gs)})),rt(Qn),rt((function(t){t.registerComponentModel(ys),t.registerComponentView(_s),t.registerSubTypeDefaulter("timeline",(function(){return"slider"})),function(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(t,e,i){var n=e.getComponent("timeline");return n&&null!=t.currentIndex&&(n.setCurrentIndex(t.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.getPlayState()&&(n.setPlayState(!1),i.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:n.get("replaceMerge",!0)}),U({currentIndex:n.option.currentIndex},t)})),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(t,e){var i=e.getComponent("timeline");i&&null!=t.playState&&i.setPlayState(t.playState)}))}(t),t.registerPreprocessor(Ms)})),rt((function(t){t.registerComponentModel(Ps),t.registerComponentView(Hs),t.registerPreprocessor((function(t){Cs(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})}))})),rt((function(t){t.registerComponentModel(Ys),t.registerComponentView($s),t.registerPreprocessor((function(t){Cs(t.series,"markLine")&&(t.markLine=t.markLine||{})}))})),rt((function(t){t.registerComponentModel(Qs),t.registerComponentView(al),t.registerPreprocessor((function(t){Cs(t.series,"markArea")&&(t.markArea=t.markArea||{})}))})),rt(Ao),rt(Vo),rt(zo),rt(Oo),rt(ho),rt(co),rt(po),rt((function(t){t.registerPreprocessor(hl),t.registerVisual(t.PRIORITY.VISUAL.ARIA,dl)})),rt((function(t){t.registerTransform(wl),t.registerTransform(Ml)})),rt(e),rt(i),rt(Jn);const Wp={id:"bubble-chart"},Gp=Bo({__name:"BubbleChartComp",props:{words:{type:Array,required:!0}},setup(t){const e=t,i=()=>{const t=["#f3a6a6","#b2c1ae","#eac09d","#84c1c9","#e6a493","#888a8e"];return t[Math.floor(Math.random()*t.length)]},n=Wo(),o=()=>{n.value&&n.value.dispose();var t=document.getElementById("bubble-chart");t.style.width="100%",t.style.height="90%",n.value=to(t),r(e.words)},r=t=>{const e=t.slice(0,70);if(0===e.length)return;const o=e.map((t=>t.value)),r=Math.min(...o),a=Math.max(...o),s=30,l=50,u={tooltip:{trigger:"item",formatter:"{b}: {c}",textStyle:{fontFamily:"ContentFont",fontSize:18}},title:{text:"",left:"center",textStyle:{fontFamily:"TitleFont",fontSize:25}},series:[{type:"graph",layout:"force",top:"10%",bottom:"5%",data:e.map((t=>{let e;e=r===a?(s+l)/2:(t.value-r)/(a-r)*(l-s)+s;const n=Math.round(.5*e);return{name:t.name,value:t.value,symbolSize:e,label:{fontSize:n,fontWeight:"bold",fontFamily:"KaiTi, STKaiti, serif"},itemStyle:{color:i(),opacity:.8},emphasis:{label:{fontSize:Math.round(1.3*n)}}}})),roam:!1,draggable:!0,label:{show:!0,position:"inside",formatter:"{b}",color:"#333",align:"center",verticalAlign:"middle"},force:{repulsion:55,gravity:.3,edgeLength:30,layoutAnimation:!0},emphasis:{scale:!0,itemStyle:{opacity:1,shadowBlur:20,shadowColor:"rgba(0,0,0,0.5)"},label:{fontWeight:"bold"}}}]};n.value.setOption(u)};return Go((()=>e.words),(t=>{o()}),{deep:!0}),Fo(o),(t,e)=>(Ho(),Yo("div",Wp))}}),Fp={class:"analysis-container"},Hp={class:"top-row"},Yp={class:"dynasty-choose"},Xp=["onClick"],Up={class:"charts"},Zp={class:"bottom-row"},jp=Qo(Bo({__name:"PoetryView",setup(t){const e=Xo(0),i=["","",""],f=[a,s,l],y=[u,d,h],m=[c,p,g],v=Xo(f[e.value]),x=Xo(y[e.value]),b=Xo(m[e.value]);return(t,a)=>(Ho(),Yo("div",Fp,[Uo("div",Hp,[Uo("div",Yp,[(Ho(),Yo(Zo,null,jo(i,((t,i)=>Uo("button",{key:i,class:Ko(["dynasty-button",{active:e.value===i}]),onClick:t=>(t=>{e.value=t,v.value=f[t],x.value=y[t],b.value=m[t]})(i)},$o(t),11,Xp))),64))]),Uo("div",Up,[qo(Gp,{words:x.value},null,8,["words"]),qo(n,{words:v.value},null,8,["words"]),qo(o,{emotions:b.value},null,8,["emotions"])])]),Uo("div",Zp,[a[0]||(a[0]=Uo("p",null,"",-1)),qo(r)])]))}}),[["__scopeId","data-v-a018e26c"]]);export{jp as default};
