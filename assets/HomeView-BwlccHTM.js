import{a as e}from"./axios-DMXdiZgf.js";import{u as a,i as t,a as s,b as o,c as n,d as r,r as l,e as i,f as c,v as d}from"./vintage-W2u9YdUI.js";import{i as m,a as p,b as v,c as u}from"./install-BdaFpF46.js";import{d as f,r as b,o as h,a as y,c as g,b as w,_ as S,e as _,f as z,g as C}from"./index-Bas2oWue.js";import{i as x}from"./install-09CvjRxq.js";const E=S(f({__name:"ChinaMapComp",setup(i){a([t,m,s,p,v,u,o,n]);const c=[{name:"河南省",value:50}],d=[{name:"陕西省",value:30}],f=[{name:"浙江省",value:20}],S=b();let _=null;async function z(a){return(await e.get(`https://geo.datav.aliyun.com/areas_v2/bound/${a}`)).data}async function C(){if(S.value){_=r(S.value);try{const[e,a]=await Promise.all([z("all.json"),z("100000_full.json")]);!function(e,a,t){const s={};e.features.forEach((e=>{const a=e.properties.name;a&&(s[a]=e.properties.center)})),l(a,e);const o=e=>e.map((e=>{const a=s[e.name];return a?{name:e.name,value:a.concat(e.value)}:null})).filter((e=>null!==e)),n={title:{text:a,left:"center",top:"4%",textStyle:{fontFamily:"TitleFont",fontSize:25}},tooltip:{triggerOn:"mousemove",formatter:e=>{const a=isNaN(e.value)?0:e.value;return`<span>${e.name}：</span><br/><span>值：${a}</span>`},backgroundColor:"rgba(29, 38, 71)",extraCssText:"box-shadow:0 0 4px rgba(11, 19, 43,0.8)"},geo:{show:!0,top:"10%",map:a,label:{show:!1,emphasis:{show:!0,color:"#31322c"}},roam:!1,itemStyle:{areaColor:"#fff",borderColor:"#686a67",emphasis:{areaColor:"#00828B"}}},series:[{name:"唐",type:"effectScatter",coordinateSystem:"geo",data:o(c),symbolSize:e=>e[2]/5,itemStyle:{color:"red"},rippleEffect:{scale:2.5,brushType:"stroke"}},{name:"宋",type:"effectScatter",coordinateSystem:"geo",data:o(d),symbolSize:e=>e[2]/5,itemStyle:{color:"blue"},rippleEffect:{scale:2.5,brushType:"stroke"}},{name:"元",type:"effectScatter",coordinateSystem:"geo",data:o(f),symbolSize:e=>e[2]/5,itemStyle:{color:"green"},rippleEffect:{scale:2.5,brushType:"stroke"}}],legend:{data:["唐","宋","元"],bottom:"5%",right:"5%",textStyle:{fontSize:16,color:"#333"},selected:{"唐":!0,"宋":!0,"元":!0}}};t.setOption(n);const r=()=>null==t?void 0:t.resize();window.addEventListener("resize",r),w((()=>{window.removeEventListener("resize",r),null==t||t.dispose()}))}(a,"诗人籍贯分布演变",_)}catch(e){}}}return h((()=>{C()})),(e,a)=>(y(),g("div",{ref_key:"chartContainer",ref:S,class:"chart-container"},null,512))}}),[["__scopeId","data-v-72a901aa"]]),j=S(f({__name:"DynastyComparisonChart",setup(e){a([t,i,x,o]),c("vintage",d);const s=b();let n=null;return h((()=>{!function(){if(!s.value)return;n=r(s.value,"vintage"),n.setOption({tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left",data:["唐诗","宋词","元曲","唐代诗人","宋代诗人","元代诗人"]},series:[{name:"作品总量",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"36",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:57347,name:"唐诗"},{value:19484,name:"宋词"},{value:8771,name:"元曲"}]},{name:"诗人占比",type:"pie",radius:["30%","50%"],label:{show:!1},data:[{value:3662,name:"唐代诗人"},{value:1489,name:"宋代诗人"},{value:230,name:"元代诗人"}]}]});const e=()=>null==n?void 0:n.resize();window.addEventListener("resize",e),w((()=>{window.removeEventListener("resize",e),null==n||n.dispose()}))}()})),(e,a)=>(y(),g("div",{ref_key:"chartContainer",ref:s,class:"chart-container"},null,512))}}),[["__scopeId","data-v-98269d06"]]),k={class:"layout"},L={class:"content-section"},T=S({__name:"HomeView",setup:e=>(e,a)=>(y(),g("div",k,[a[0]||(a[0]=_('<div class="overview-section" data-v-66c97c97><div class="card" data-v-66c97c97><h2 class="card-title" data-v-66c97c97>诗词数量</h2><b class="card-content" data-v-66c97c97> 唐诗：57,347首，宋词：19,484首，元曲：8771首 </b></div><div class="card" data-v-66c97c97><h2 class="card-title" data-v-66c97c97>诗人数量</h2><b class="card-content" data-v-66c97c97> 唐代：3662人，宋代：1489人，元代：230人 </b></div></div>',1)),z("div",L,[C(E,{class:"map-comp"}),C(j,{class:"chart-comp"})])]))},[["__scopeId","data-v-66c97c97"]]);export{T as default};
