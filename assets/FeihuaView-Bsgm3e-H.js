import{i as e,d as t,j as r,r as i,w as s,o as n,a as o,c as a,e as l,F as u,f as h,n as c,t as d,k as g,v as p,l as m,m as A,h as f,b as _,p as E,q as T,g as y}from"./index-BDi1yBL7.js";import{M as C,u as v,E as S,P as x,C as w,O as b,T as M,a as P,b as R,A as O,c as I}from"./el-message-B8egqr7p.js";var L,B,D={},F={},N={},U={};function k(){return L||(L=1,e=U,Object.defineProperty(e,"__esModule",{value:!0}),e.FLOAT_COMPRESSION_PRECISION=1e3,e.DATE_LOW_PRECISION=1e5,e.FLOAT_FULL_PRECISION_DELIMITER=",",e.FLOAT_REDUCED_PRECISION_DELIMITER=".",e.INTEGER_TOKEN="¢",e.FLOAT_TOKEN="£",e.STRING_TOKEN="¨",e.DATE_TOKEN="ø",e.LP_DATE_TOKEN="±",e.UNREFERENCED_INTEGER_TOKEN="¤",e.UNREFERENCED_FLOAT_TOKEN="¥",e.UNREFERENCED_STRING_TOKEN="´",e.UNREFERENCED_DATE_TOKEN="¿",e.UNREFERENCED_LP_DATE_TOKEN="ÿ",e.REF_INTEGER_TOKEN="º",e.REF_FLOAT_TOKEN="Ý",e.REF_STRING_TOKEN="ß",e.REF_DATE_TOKEN="×",e.REF_LP_DATE_TOKEN="ü",e.NULL_TOKEN="§",e.UNDEFINED_TOKEN="µ",e.BOOLEAN_TRUE_TOKEN="»",e.BOOLEAN_FALSE_TOKEN="«",e.ESCAPE_CHARACTER="\\",e.ESCAPED_STRING_TOKEN=""+e.ESCAPE_CHARACTER+e.STRING_TOKEN,e.ESCAPED_UNREFERENCED_STRING_TOKEN=""+e.ESCAPE_CHARACTER+e.UNREFERENCED_STRING_TOKEN,e.REGEX_ESCAPE_CHARACTER=new RegExp(e.ESCAPE_CHARACTER.replace("\\","\\\\"),"g"),e.REGEX_ESCAPED_ESCAPE_CHARACTER=new RegExp(e.ESCAPE_CHARACTER.replace("\\","\\\\")+e.ESCAPE_CHARACTER.replace("\\","\\\\"),"g"),e.REGEX_STRING_TOKEN=new RegExp(e.STRING_TOKEN,"g"),e.REGEX_ESCAPED_STRING_TOKEN=new RegExp(e.ESCAPE_CHARACTER+e.ESCAPED_STRING_TOKEN,"g"),e.REGEX_UNREFERENCED_STRING_TOKEN=new RegExp(e.UNREFERENCED_STRING_TOKEN,"g"),e.REGEX_UNREFERENCED_ESCAPED_STRING_TOKEN=new RegExp(e.ESCAPE_CHARACTER+e.ESCAPED_UNREFERENCED_STRING_TOKEN,"g"),e.DATE_REGEX=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z/,e.OBJECT_START_TOKEN="{",e.OBJECT_END_TOKEN="}",e.TEMPLATE_OBJECT_START="¦",e.TEMPLATE_OBJECT_END="‡",e.TEMPLATE_OBJECT_FINAL="—",e.ARRAY_START_TOKEN="|",e.ARRAY_END_TOKEN="÷",e.ARRAY_REPEAT_TOKEN="þ",e.ARRAY_REPEAT_MANY_TOKEN="^",e.ARRAY_REPEAT_COUNT_THRESHOLD=4,e.REFERENCE_HEADER_LENGTH=1,e.DELIMITING_TOKENS_THRESHOLD=122,e.STRING_IDENT_PREFIX="$",e.INTEGER_SMALL_EXCLUSIVE_BOUND_LOWER=-10,e.INTEGER_SMALL_EXCLUSIVE_BOUND_UPPER=10,e.INTEGER_SMALL_TOKEN_EXCLUSIVE_BOUND_LOWER=191,e.INTEGER_SMALL_TOKEN_EXCLUSIVE_BOUND_UPPER=211,e.INTEGER_SMALL_TOKEN_OFFSET=-201,e.INTEGER_SMALL_TOKEN_ELEMENT_OFFSET=9,e.INTEGER_SMALL_TOKENS=["À","Á","Â","Ã","Ä","Å","Æ","Ç","È","É","Ê","Ë","Ì","Í","Î","Ï","Ð","Ñ","Ò"]),U;var e}var V,j={},G={};function K(){if(V)return G;V=1;var e,t=G.__extends||(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)});Object.defineProperty(G,"__esModule",{value:!0});var r=function(){return function(){}}();G.ZipsonWriter=r;var i=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.value="",t}return t(r,e),r.prototype.write=function(e){this.value+=e},r.prototype.end=function(){},r}(r);return G.ZipsonStringWriter=i,G}var Q,z,H={};function W(){if(Q)return H;Q=1,Object.defineProperty(H,"__esModule",{value:!0});var e=k();function t(e){if(0===e)return"0";for(var t,r="",i=e<0?-e:e;i>0;)i/=62,i-=t=i%1,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"[62*t+.1|0]+r;return r=e<0?"-"+r:r}function r(e){var t=0;if("0"===e[0])return t;for(var r="-"===e[0],i=1,s=r?1:0,n=e.length-1;n>=s;n--){var o=e.charCodeAt(n),a=o-48;o>=97?a-=13:o>=65&&(a-=7),t+=a*i,i*=62}return r?-t:t}return H.compressInteger=t,H.decompressInteger=r,H.compressFloat=function(r,i){if(void 0===i&&(i=!1),i){var s=r.toString().split("."),n=s[0],o=s[1];return""+("-0"===n?"-":"")+t(parseInt(n))+e.FLOAT_FULL_PRECISION_DELIMITER+o}return n=r>=2147483648?Math.floor(r):r<=-2147483649?Math.ceil(r):r|0,o=Math.round(e.FLOAT_COMPRESSION_PRECISION*(r%1)),""+t(n)+e.FLOAT_REDUCED_PRECISION_DELIMITER+t(o)},H.decompressFloat=function(t){if(t.indexOf(e.FLOAT_FULL_PRECISION_DELIMITER)>-1){var i=t.split(e.FLOAT_FULL_PRECISION_DELIMITER),s=i[0],n=i[1],o="-0"===s?-1:1,a=r(s);return o*parseFloat(a+"."+n)}var l=t.split(e.FLOAT_REDUCED_PRECISION_DELIMITER);return s=l[0],n=l[1],(a=r(s))+r(n)/e.FLOAT_COMPRESSION_PRECISION},H}var J,X={};var Y,q={};var Z,$={};var ee,te={};var re,ie,se,ne={},oe={};function ae(){if(ie)return ne;ie=1,Object.defineProperty(ne,"__esModule",{value:!0});var e=k(),t=(re||(re=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.isObject=function(e){var t=typeof e;return!("number"===t||"string"===t||"boolean"===t||null===e||Array.isArray(e)||e instanceof Date||void 0===e)}),oe),r=function(){function t(e,t){this.isTemplating=!1,this.struct=[],null!=e&&null!=t&&(this.isTemplating=i(e,t,this.struct))}return t.prototype.compressTemplate=function(e,t,r,i,s){n(e,t,r,i,s,this.struct)},t.prototype.compressTemplateValues=function(e,t,r,i,s,n){o(e,t,r,i,s,this.struct,n)},t.prototype.isNextTemplateable=function(t,r){this.isTemplating=s(this.struct,t),this.isTemplating||r.write(e.TEMPLATE_OBJECT_FINAL)},t.prototype.end=function(t){t.write(e.TEMPLATE_OBJECT_FINAL)},t}();function i(e,r,s,n){if(void 0===n&&(n=0),n>6)return!1;var o=Object.keys(e),a=Object.keys(r);if(o.length!==a.length)return!1;if(o.length>10)return!1;o.sort((function(e,t){return e.localeCompare(t)})),a.sort((function(e,t){return e.localeCompare(t)}));for(var l=0;l<o.length;l++){var u=o[l],h=a[l];if(u!==h)return!1;var c=e[u],d=r[h];if(t.isObject(c)){if(!t.isObject(d))return!1;var g=[];if(s.push([u,g]),!i(c,d,g,n+1))return!1}else{if(t.isObject(d))return!1;s.push([u])}}return n>0||t.isObject(e)}function s(e,r){if(!r)return!1;if(Object.keys(r).length!==e.length)return!1;for(var i=0;i<e.length;i++){var n=e[i][0],o=e[i].length>1;if(void 0===r[n])return!1;if(o){if(e[i][1],!s(e[i][1],r[n]))return!1}else if(t.isObject(r[n]))return!1}return!0}function n(t,r,i,s,o,a){s.write(e.TEMPLATE_OBJECT_START);for(var l=0;l<a.length;l++){var u=a[l][0],h=a[l].length>1;t.string(t,r,u,i,s,o),h&&n(t,r,i,s,o,a[l][1])}s.write(e.TEMPLATE_OBJECT_END)}function o(e,t,r,i,s,n,a){for(var l=0;l<n.length;l++){var u=a[n[l][0]];n[l].length>1?o(e,t,r,i,s,n[l][1],u):e.any(e,t,u,r,i,s)}}return ne.TemplateObject=r,ne}function le(){if(se)return F;se=1,Object.defineProperty(F,"__esModule",{value:!0});var e=function(){if(B)return N;B=1,Object.defineProperty(N,"__esModule",{value:!0});var e=k();return N.compressAny=function(t,r,i,s,n,o){var a=typeof i;"number"===a?t.number(t,r,i,s,n,o):"string"===a?t.string(t,r,i,s,n,o):"boolean"===a?n.write(i?e.BOOLEAN_TRUE_TOKEN:e.BOOLEAN_FALSE_TOKEN):null===i?n.write(e.NULL_TOKEN):void 0===i?n.write(e.UNDEFINED_TOKEN):Array.isArray(i)?t.array(t,r,i,s,n,o):i instanceof Date?t.date(t,r,i.getTime(),s,n,o):t.object(t,r,i,s,n,o)},N}(),t=function(){if(z)return j;z=1,Object.defineProperty(j,"__esModule",{value:!0});var e=k(),t=K(),r=W();return j.compressArray=function(i,s,n,o,a,l){s.arrayLevel++,s.arrayLevel>s.arrayItemWriters.length&&s.arrayItemWriters.push(new t.ZipsonStringWriter);var u=s.arrayItemWriters[s.arrayLevel-1],h=s.arrayItemWriters[s.arrayLevel-2]||a;h.write(e.ARRAY_START_TOKEN);var c="",d=0,g=0,p=new i.template.Object(n[0],n[1]);p.isTemplating&&p.compressTemplate(i,s,o,h,l);for(var m=0;m<n.length;m++){var A=n[m];u.value="",void 0===A&&(A=null),m>1&&p.isTemplating&&p.isNextTemplateable(n[m],h),p.isTemplating?p.compressTemplateValues(i,s,o,u,l,n[m]):i.any(i,s,A,o,u,l),u.value===c?++d>=e.ARRAY_REPEAT_COUNT_THRESHOLD?(0===g&&h.write(e.ARRAY_REPEAT_MANY_TOKEN),g++):h.write(e.ARRAY_REPEAT_TOKEN):(d=0,g>0&&(h.write(r.compressInteger(g)),g=0),h.write(u.value),c=u.value)}g>0&&h.write(r.compressInteger(g)),p.isTemplating&&p.end(h),h.write(e.ARRAY_END_TOKEN),s.arrayLevel--},j}(),r=function(){if(J)return X;J=1,Object.defineProperty(X,"__esModule",{value:!0});var e=k(),t=W();return X.compressString=function(r,i,s,n,o,a){var l,u=e.STRING_IDENT_PREFIX+s;if(a.detectUtcTimestamps&&"Z"===s[s.length-1]&&s.match(e.DATE_REGEX)){var h=Date.parse(s);r.date(r,i,h,n,o,a)}else if(void 0!==(l=n.stringMap[u]))o.write(""+e.REF_STRING_TOKEN+l);else{var c=t.compressInteger(n.stringCount),d=""+e.STRING_TOKEN+s.replace(e.REGEX_ESCAPE_CHARACTER,e.ESCAPE_CHARACTER+e.ESCAPE_CHARACTER).replace(e.REGEX_STRING_TOKEN,e.ESCAPED_STRING_TOKEN)+e.STRING_TOKEN;c.length+e.REFERENCE_HEADER_LENGTH+1<d.length?(n.stringMap[u]=c,n.stringCount++,o.write(d)):o.write(""+e.UNREFERENCED_STRING_TOKEN+s.replace(e.REGEX_ESCAPE_CHARACTER,e.ESCAPE_CHARACTER+e.ESCAPE_CHARACTER).replace(e.REGEX_UNREFERENCED_STRING_TOKEN,e.ESCAPED_UNREFERENCED_STRING_TOKEN)+e.UNREFERENCED_STRING_TOKEN)}},X}(),i=function(){if(Y)return q;Y=1,Object.defineProperty(q,"__esModule",{value:!0});var e=k(),t=W();return q.compressNumber=function(r,i,s,n,o,a){var l;if(s%1==0)if(s<e.INTEGER_SMALL_EXCLUSIVE_BOUND_UPPER&&s>e.INTEGER_SMALL_EXCLUSIVE_BOUND_LOWER)o.write(e.INTEGER_SMALL_TOKENS[s+e.INTEGER_SMALL_TOKEN_ELEMENT_OFFSET]);else if(void 0!==(l=n.integerMap[s]))o.write(""+e.REF_INTEGER_TOKEN+l);else{var u=t.compressInteger(n.integerCount),h=t.compressInteger(s),c=""+e.INTEGER_TOKEN+h;u.length+e.REFERENCE_HEADER_LENGTH<c.length?(n.integerMap[s]=u,n.integerCount++,o.write(c)):o.write(""+e.UNREFERENCED_INTEGER_TOKEN+h)}else{var d=t.compressFloat(s,a.fullPrecisionFloats);void 0!==(l=n.floatMap[d])?o.write(""+e.REF_FLOAT_TOKEN+l):(u=t.compressInteger(n.floatCount),c=""+e.FLOAT_TOKEN+d,u.length+e.REFERENCE_HEADER_LENGTH<c.length?(n.floatMap[d]=u,n.floatCount++,o.write(c)):o.write(""+e.UNREFERENCED_FLOAT_TOKEN+d))}},q}(),s=function(){if(Z)return $;Z=1,Object.defineProperty($,"__esModule",{value:!0});var e=k();return $.compressObject=function(t,r,i,s,n,o){n.write(e.OBJECT_START_TOKEN);var a=Object.keys(i),l=new t.template.Object(i[a[0]],i[a[1]]);l.isTemplating&&l.compressTemplate(t,r,s,n,o);for(var u=0;u<a.length;u++)if(u>1&&l.isTemplating&&l.isNextTemplateable(i[a[u]],n),l.isTemplating)t.string(t,r,a[u],s,n,o),l.compressTemplateValues(t,r,s,n,o,i[a[u]]);else{var h=a[u],c=i[h];void 0!==c&&(t.string(t,r,h,s,n,o),t.any(t,r,c,s,n,o))}l.isTemplating&&l.end(n),n.write(e.OBJECT_END_TOKEN)},$}(),n=function(){if(ee)return te;ee=1,Object.defineProperty(te,"__esModule",{value:!0});var e=k(),t=W();return te.compressDate=function(r,i,s,n,o,a){var l,u=s/e.DATE_LOW_PRECISION;if(u%1==0)if(void 0!==(l=n.lpDateMap[u]))o.write(""+e.REF_LP_DATE_TOKEN+l);else{var h=t.compressInteger(n.lpDateCount),c=t.compressInteger(u),d=""+e.LP_DATE_TOKEN+c;h.length+e.REFERENCE_HEADER_LENGTH<d.length?(n.lpDateMap[u]=h,n.lpDateCount++,o.write(d)):o.write(""+e.UNREFERENCED_LP_DATE_TOKEN+c)}else void 0!==(l=n.dateMap[s])?o.write(""+e.REF_DATE_TOKEN+l):(h=t.compressInteger(n.dateCount),c=t.compressInteger(s),d=""+e.DATE_TOKEN+c,h.length+e.REFERENCE_HEADER_LENGTH<d.length?(n.dateMap[s]=h,n.dateCount++,o.write(d)):o.write(""+e.UNREFERENCED_DATE_TOKEN+c))},te}(),o=ae(),a={any:e.compressAny,array:t.compressArray,object:s.compressObject,string:r.compressString,date:n.compressDate,number:i.compressNumber,template:{Object:o.TemplateObject}};return F.makeCompressContext=function(){return{arrayItemWriters:[],arrayLevel:0}},F.makeInvertedIndex=function(){return{stringMap:{},integerMap:{},floatMap:{},dateMap:{},lpDateMap:{},stringCount:0,integerCount:0,floatCount:0,dateCount:0,lpDateCount:0}},F.compress=function(e,t,r,i,s){a.any(a,e,t,r,i,s)},F}var ue,he={},ce={};function de(){return ue||(ue=1,e=ce,Object.defineProperty(e,"__esModule",{value:!0}),e.SKIP_SCALAR={},(t=e.TargetType||(e.TargetType={})).ARRAY="ARRAY",t.OBJECT="OBJECT",t.SCALAR="SCALAR",t.TEMPLATE_OBJECT="TEMPLATE_OBJECT",t.TEMPLATE_OBJECT_PROPERTIES="TEMPLATE_OBJECT_PROPERTIES",t.TEMPLATE_OBJECT_ELEMENTS="TEMPLATE_OBJECT_ELEMENTS"),ce;var e,t}var ge,pe={},me={};function Ae(){if(ge)return me;ge=1,Object.defineProperty(me,"__esModule",{value:!0});var e=k(),t=de(),r=W();return me.decompressScalar=function(i,s,n,o){var a,l=n.index,u=n.index+1;if(i===e.STRING_TOKEN&&(a=e.STRING_TOKEN)||i===e.UNREFERENCED_STRING_TOKEN&&(a=e.UNREFERENCED_STRING_TOKEN)){for(var h=!0;h&&u<s.length;){u=s.indexOf(a,u);var c=1;for(h=!1;s[u-c]===e.ESCAPE_CHARACTER;)h=c%2==1,c++;u++}u<=l&&(u=s.length)}else for(;!(s.charCodeAt(u)>e.DELIMITING_TOKENS_THRESHOLD)&&u<s.length;)u++;if(!n.drain&&u===s.length)return t.SKIP_SCALAR;n.index=u-1;var d=i.charCodeAt(0);if(d>e.INTEGER_SMALL_TOKEN_EXCLUSIVE_BOUND_LOWER&&d<e.INTEGER_SMALL_TOKEN_EXCLUSIVE_BOUND_UPPER)return d+e.INTEGER_SMALL_TOKEN_OFFSET;if(i===e.ARRAY_REPEAT_MANY_TOKEN)return r.decompressInteger(s.substring(l+1,u));if(i===e.REF_STRING_TOKEN)return o.strings[r.decompressInteger(s.substring(l+1,u))];if(i===e.REF_INTEGER_TOKEN)return o.integers[r.decompressInteger(s.substring(l+1,u))];if(i===e.REF_FLOAT_TOKEN)return o.floats[r.decompressInteger(s.substring(l+1,u))];if(i===e.REF_DATE_TOKEN)return o.dates[r.decompressInteger(s.substring(l+1,u))];if(i===e.REF_LP_DATE_TOKEN)return o.lpDates[r.decompressInteger(s.substring(l+1,u))];if(i===e.STRING_TOKEN)return o.strings[o.strings.length]=s.substring(l+1,u-1).replace(e.REGEX_ESCAPED_ESCAPE_CHARACTER,e.ESCAPE_CHARACTER).replace(e.REGEX_ESCAPED_STRING_TOKEN,e.STRING_TOKEN);if(i===e.INTEGER_TOKEN)return o.integers[o.integers.length]=r.decompressInteger(s.substring(l+1,u));if(i===e.FLOAT_TOKEN)return o.floats[o.floats.length]=r.decompressFloat(s.substring(l+1,u));if(i===e.DATE_TOKEN)return o.dates[o.dates.length]=new Date(r.decompressInteger(s.substring(l+1,u))).toISOString();if(i===e.LP_DATE_TOKEN)return o.lpDates[o.lpDates.length]=new Date(e.DATE_LOW_PRECISION*r.decompressInteger(s.substring(l+1,u))).toISOString();if(i===e.UNREFERENCED_STRING_TOKEN)return s.substring(l+1,u-1).replace(e.REGEX_ESCAPED_ESCAPE_CHARACTER,e.ESCAPE_CHARACTER).replace(e.REGEX_UNREFERENCED_ESCAPED_STRING_TOKEN,e.UNREFERENCED_STRING_TOKEN);if(i===e.UNREFERENCED_INTEGER_TOKEN)return r.decompressInteger(s.substring(l+1,u));if(i===e.UNREFERENCED_FLOAT_TOKEN)return r.decompressFloat(s.substring(l+1,u));if(i===e.UNREFERENCED_DATE_TOKEN)return new Date(r.decompressInteger(s.substring(l+1,u))).toISOString();if(i===e.UNREFERENCED_LP_DATE_TOKEN)return new Date(e.DATE_LOW_PRECISION*r.decompressInteger(s.substring(l+1,u))).toISOString();if(i===e.BOOLEAN_TRUE_TOKEN)return!0;if(i===e.BOOLEAN_FALSE_TOKEN)return!1;if(i===e.NULL_TOKEN)return null;if(i!==e.UNDEFINED_TOKEN)throw new Error("Unexpected scalar "+i+" at "+l+"-"+u)},me}var fe,_e,Ee,Te,ye,Ce={},ve={};function Se(){if(_e)return Ce;_e=1,Object.defineProperty(Ce,"__esModule",{value:!0});var e=k(),t=de(),r=Ae(),i=function(){if(fe)return ve;function e(e,t){for(var r=e.paths[e.currentPathIndex],i=0,s=e.currentObject;i<r.length-1;i++){var n=r[i];s=s[n]=s[n]||{}}void 0!==t&&(s[r[i]]=t)}return fe=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.appendTemplateObjectPropertiesValue=function(t,r){-1===t.currentPathIndex?t.value[r]=t.currentObject={}:e(t,r),++t.currentPathIndex===t.expectedPaths&&(t.currentPathIndex=-1)},ve.appendTemplateObjectElementsValue=function(t,r){0===t.currentPathIndex&&(t.currentObject={},t.value.push(t.currentObject)),e(t,r),++t.currentPathIndex===t.expectedPaths&&(t.currentPathIndex=0)},ve}();return Ce.decompressElement=function(s,n,o,a){var l;if(s===e.ARRAY_END_TOKEN||s===e.OBJECT_END_TOKEN)l=n.currentTarget.value,n.currentTarget=n.stack[n.pointer-1],n.pointer--;else if((l=r.decompressScalar(s,o,n,a))===t.SKIP_SCALAR)return!1;return n.currentTarget.type===t.TargetType.SCALAR?n.currentTarget.value=l:n.currentTarget.type===t.TargetType.ARRAY?n.currentTarget.value[n.currentTarget.value.length]=l:n.currentTarget.type===t.TargetType.OBJECT?null!=n.currentTarget.key?(n.currentTarget.value[n.currentTarget.key]=l,n.currentTarget.key=void 0):n.currentTarget.key=l:n.currentTarget.type===t.TargetType.TEMPLATE_OBJECT?(n.currentTarget.currentToken=l,n.currentTarget.currentTokens.push(l)):n.currentTarget.type===t.TargetType.TEMPLATE_OBJECT_PROPERTIES?i.appendTemplateObjectPropertiesValue(n.currentTarget,l):n.currentTarget.type===t.TargetType.TEMPLATE_OBJECT_ELEMENTS&&i.appendTemplateObjectElementsValue(n.currentTarget,l),!0},Ce}function xe(){if(Te)return he;Te=1,Object.defineProperty(he,"__esModule",{value:!0});var e=de(),t=function(){if(Ee)return pe;Ee=1,Object.defineProperty(pe,"__esModule",{value:!0});var e=k(),t=de(),r=Ae(),i=Se();return pe.decompressStages=function(s,n,o){for(;s.index<n.length;s.index++){var a=n[s.index];if(a===e.ARRAY_START_TOKEN)s.currentTarget={type:t.TargetType.ARRAY,value:[]},s.stack[++s.pointer]=s.currentTarget;else if(a===e.OBJECT_START_TOKEN)s.currentTarget={type:t.TargetType.OBJECT,value:{}},s.stack[++s.pointer]=s.currentTarget;else if(a!==e.ARRAY_REPEAT_TOKEN||s.currentTarget.type!==t.TargetType.ARRAY&&s.currentTarget.type!==t.TargetType.TEMPLATE_OBJECT_ELEMENTS)if(a!==e.ARRAY_REPEAT_MANY_TOKEN||s.currentTarget.type!==t.TargetType.ARRAY&&s.currentTarget.type!==t.TargetType.TEMPLATE_OBJECT_ELEMENTS)if(a!==e.TEMPLATE_OBJECT_START||s.currentTarget.type!==t.TargetType.TEMPLATE_OBJECT&&s.currentTarget.type!==t.TargetType.OBJECT&&s.currentTarget.type!==t.TargetType.ARRAY){if(a===e.TEMPLATE_OBJECT_END&&s.currentTarget.type===t.TargetType.TEMPLATE_OBJECT){for(h=0;h<s.currentTarget.currentTokens.length;h++)c=s.currentTarget.currentTokens[h],s.currentTarget.paths[s.currentTarget.paths.length]=s.currentTarget.currentRoute.concat(c);if(s.currentTarget.currentTokens=[],s.currentTarget.currentRoute=s.currentTarget.currentRoute.slice(0,-1),s.currentTarget.level--,s.currentTarget.level<0){var l=s.currentTarget.paths;u=s.currentTarget.parentTarget,s.pointer--,u.type===t.TargetType.ARRAY?s.currentTarget={type:t.TargetType.TEMPLATE_OBJECT_ELEMENTS,value:u.value,paths:l,currentPathIndex:0,expectedPaths:l.length,currentObject:{}}:u.type===t.TargetType.OBJECT&&(s.currentTarget={type:t.TargetType.TEMPLATE_OBJECT_PROPERTIES,value:u.value,paths:l,currentPathIndex:-1,expectedPaths:l.length,currentObject:{}}),s.stack[++s.pointer]=s.currentTarget}}else if(a===e.TEMPLATE_OBJECT_FINAL)s.currentTarget=s.stack[--s.pointer];else if(!i.decompressElement(a,s,n,o))return}else if(s.currentTarget.type!==t.TargetType.TEMPLATE_OBJECT){var u=s.currentTarget;s.currentTarget={type:t.TargetType.TEMPLATE_OBJECT,value:void 0,currentTokens:[],currentRoute:[],paths:[],level:0,parentTarget:u},s.stack[++s.pointer]=s.currentTarget}else{for(var h=0;h<s.currentTarget.currentTokens.length-1;h++){var c=s.currentTarget.currentTokens[h];s.currentTarget.paths[s.currentTarget.paths.length]=s.currentTarget.currentRoute.concat(c)}null!=s.currentTarget.currentToken&&s.currentTarget.currentRoute.push(s.currentTarget.currentToken),s.currentTarget.currentTokens=[],s.currentTarget.level++}else{var d=r.decompressScalar(n[s.index],n,s,o);if(d===t.SKIP_SCALAR)return;g=s.currentTarget.value[s.currentTarget.value.length-1];for(h=0;h<d;h++)s.currentTarget.value.push(g)}else{var g=s.currentTarget.value[s.currentTarget.value.length-1];s.currentTarget.value.push(g)}}},pe}();function r(t){var r={type:e.TargetType.SCALAR,value:void 0},i=new Array(10);return i[0]=r,{index:0,rootTarget:r,stack:i,currentTarget:r,pointer:0,drain:t}}return he.makeOrderedIndex=function(){return{strings:[],integers:[],floats:[],dates:[],lpDates:[]}},he.decompress=function(e,i){var s=r(!0);return t.decompressStages(s,e,i),s.rootTarget.value},he.decompressIncremental=function(e){var i=r(!1),s="";return{increment:function(r){if(null===r)i.drain=!0;else{if(0===r.length)return;s+=r}var n=i.index;t.decompressStages(i,s,e);var o=i.index-n;o>0&&(s=s.substring(o),i.index-=o)},cursor:i}},he}var we=(ye||(ye=1,function(e){function t(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0});var r=le(),i=K(),s=xe();function n(e,t,i){void 0===i&&(i={});var s=r.makeInvertedIndex(),n=r.makeCompressContext();r.compress(n,e,s,t,i),t.end()}t(K()),t(de()),e.parse=function(e){var t=s.makeOrderedIndex();return s.decompress(e,t)},e.parseIncremental=function(){var e=s.makeOrderedIndex(),t=s.decompressIncremental(e),r=t.cursor,i=t.increment;return function(e){if(i(e),null===e)return r.rootTarget.value}},e.stringifyTo=n,e.stringify=function(e,t){var r=new i.ZipsonStringWriter;return n(e,r,t),r.value}}(D)),D);const be=e("chat",{state:()=>({messages:[]}),getters:{},actions:{},persist:{key:"POETRY_CHAT",serializer:{deserialize:we.parse,serialize:we.stringify},storage:localStorage}});function Me(e,t){return function(){return e.apply(t,arguments)}}const{toString:Pe}=Object.prototype,{getPrototypeOf:Re}=Object,Oe=(e=>t=>{const r=Pe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ie=e=>(e=e.toLowerCase(),t=>Oe(t)===e),Le=e=>t=>typeof t===e,{isArray:Be}=Array,De=Le("undefined");const Fe=Ie("ArrayBuffer");const Ne=Le("string"),Ue=Le("function"),ke=Le("number"),Ve=e=>null!==e&&"object"==typeof e,je=e=>{if("object"!==Oe(e))return!1;const t=Re(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},Ge=Ie("Date"),Ke=Ie("File"),Qe=Ie("Blob"),ze=Ie("FileList"),He=Ie("URLSearchParams"),[We,Je,Xe,Ye]=["ReadableStream","Request","Response","Headers"].map(Ie);function qe(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let i,s;if("object"!=typeof e&&(e=[e]),Be(e))for(i=0,s=e.length;i<s;i++)t.call(null,e[i],i,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),n=s.length;let o;for(i=0;i<n;i++)o=s[i],t.call(null,e[o],o,e)}}function Ze(e,t){t=t.toLowerCase();const r=Object.keys(e);let i,s=r.length;for(;s-- >0;)if(i=r[s],t===i.toLowerCase())return i;return null}const $e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,et=e=>!De(e)&&e!==$e;const tt=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&Re(Uint8Array)),rt=Ie("HTMLFormElement"),it=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),st=Ie("RegExp"),nt=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),i={};qe(r,((r,s)=>{let n;!1!==(n=t(r,s,e))&&(i[s]=n||r)})),Object.defineProperties(e,i)},ot="abcdefghijklmnopqrstuvwxyz",at="0123456789",lt={DIGIT:at,ALPHA:ot,ALPHA_DIGIT:ot+ot.toUpperCase()+at};const ut=Ie("AsyncFunction"),ht=(ct="function"==typeof setImmediate,dt=Ue($e.postMessage),ct?setImmediate:dt?(gt=`axios@${Math.random()}`,pt=[],$e.addEventListener("message",(({source:e,data:t})=>{e===$e&&t===gt&&pt.length&&pt.shift()()}),!1),e=>{pt.push(e),$e.postMessage(gt,"*")}):e=>setTimeout(e));var ct,dt,gt,pt;const mt="undefined"!=typeof queueMicrotask?queueMicrotask.bind($e):"undefined"!=typeof process&&process.nextTick||ht,At={isArray:Be,isArrayBuffer:Fe,isBuffer:function(e){return null!==e&&!De(e)&&null!==e.constructor&&!De(e.constructor)&&Ue(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Ue(e.append)&&("formdata"===(t=Oe(e))||"object"===t&&Ue(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Fe(e.buffer),t},isString:Ne,isNumber:ke,isBoolean:e=>!0===e||!1===e,isObject:Ve,isPlainObject:je,isReadableStream:We,isRequest:Je,isResponse:Xe,isHeaders:Ye,isUndefined:De,isDate:Ge,isFile:Ke,isBlob:Qe,isRegExp:st,isFunction:Ue,isStream:e=>Ve(e)&&Ue(e.pipe),isURLSearchParams:He,isTypedArray:tt,isFileList:ze,forEach:qe,merge:function e(){const{caseless:t}=et(this)&&this||{},r={},i=(i,s)=>{const n=t&&Ze(r,s)||s;je(r[n])&&je(i)?r[n]=e(r[n],i):je(i)?r[n]=e({},i):Be(i)?r[n]=i.slice():r[n]=i};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&qe(arguments[s],i);return r},extend:(e,t,r,{allOwnKeys:i}={})=>(qe(t,((t,i)=>{r&&Ue(t)?e[i]=Me(t,r):e[i]=t}),{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,i)=>{let s,n,o;const a={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),n=s.length;n-- >0;)o=s[n],i&&!i(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==r&&Re(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Oe,kindOfTest:Ie,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const i=e.indexOf(t,r);return-1!==i&&i===r},toArray:e=>{if(!e)return null;if(Be(e))return e;let t=e.length;if(!ke(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const r=i.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const i=[];for(;null!==(r=e.exec(t));)i.push(r);return i},isHTMLForm:rt,hasOwnProperty:it,hasOwnProp:it,reduceDescriptors:nt,freezeMethods:e=>{nt(e,((t,r)=>{if(Ue(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const i=e[r];Ue(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},i=e=>{e.forEach((e=>{r[e]=!0}))};return Be(e)?i(e):i(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Ze,global:$e,isContextDefined:et,ALPHABET:lt,generateString:(e=16,t=lt.ALPHA_DIGIT)=>{let r="";const{length:i}=t;for(;e--;)r+=t[Math.random()*i|0];return r},isSpecCompliantForm:function(e){return!!(e&&Ue(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,i)=>{if(Ve(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const s=Be(e)?[]:{};return qe(e,((e,t)=>{const n=r(e,i+1);!De(n)&&(s[t]=n)})),t[i]=void 0,s}}return e};return r(e,0)},isAsyncFn:ut,isThenable:e=>e&&(Ve(e)||Ue(e))&&Ue(e.then)&&Ue(e.catch),setImmediate:ht,asap:mt};function ft(e,t,r,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}At.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:At.toJSONObject(this.config),code:this.code,status:this.status}}});const _t=ft.prototype,Et={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Et[e]={value:e}})),Object.defineProperties(ft,Et),Object.defineProperty(_t,"isAxiosError",{value:!0}),ft.from=(e,t,r,i,s,n)=>{const o=Object.create(_t);return At.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),ft.call(o,e.message,t,r,i,s),o.cause=e,o.name=e.name,n&&Object.assign(o,n),o};function Tt(e){return At.isPlainObject(e)||At.isArray(e)}function yt(e){return At.endsWith(e,"[]")?e.slice(0,-2):e}function Ct(e,t,r){return e?e.concat(t).map((function(e,t){return e=yt(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const vt=At.toFlatObject(At,{},null,(function(e){return/^is[A-Z]/.test(e)}));function St(e,t,r){if(!At.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(r=At.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!At.isUndefined(t[e])}))).metaTokens,s=r.visitor||u,n=r.dots,o=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&At.isSpecCompliantForm(t);if(!At.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(At.isDate(e))return e.toISOString();if(!a&&At.isBlob(e))throw new ft("Blob is not supported. Use a Buffer instead.");return At.isArrayBuffer(e)||At.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,r,s){let a=e;if(e&&!s&&"object"==typeof e)if(At.endsWith(r,"{}"))r=i?r:r.slice(0,-2),e=JSON.stringify(e);else if(At.isArray(e)&&function(e){return At.isArray(e)&&!e.some(Tt)}(e)||(At.isFileList(e)||At.endsWith(r,"[]"))&&(a=At.toArray(e)))return r=yt(r),a.forEach((function(e,i){!At.isUndefined(e)&&null!==e&&t.append(!0===o?Ct([r],i,n):null===o?r:r+"[]",l(e))})),!1;return!!Tt(e)||(t.append(Ct(s,r,n),l(e)),!1)}const h=[],c=Object.assign(vt,{defaultVisitor:u,convertValue:l,isVisitable:Tt});if(!At.isObject(e))throw new TypeError("data must be an object");return function e(r,i){if(!At.isUndefined(r)){if(-1!==h.indexOf(r))throw Error("Circular reference detected in "+i.join("."));h.push(r),At.forEach(r,(function(r,n){!0===(!(At.isUndefined(r)||null===r)&&s.call(t,r,At.isString(n)?n.trim():n,i,c))&&e(r,i?i.concat(n):[n])})),h.pop()}}(e),t}function xt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function wt(e,t){this._pairs=[],e&&St(e,this,t)}const bt=wt.prototype;function Mt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Pt(e,t,r){if(!t)return e;const i=r&&r.encode||Mt;At.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let n;if(n=s?s(t,r):At.isURLSearchParams(t)?t.toString():new wt(t,r).toString(i),n){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}bt.append=function(e,t){this._pairs.push([e,t])},bt.toString=function(e){const t=e?function(t){return e.call(this,t,xt)}:xt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};class Rt{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){At.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}const Ot={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},It={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:wt,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Lt="undefined"!=typeof window&&"undefined"!=typeof document,Bt="object"==typeof navigator&&navigator||void 0,Dt=Lt&&(!Bt||["ReactNative","NativeScript","NS"].indexOf(Bt.product)<0),Ft="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Nt=Lt&&window.location.href||"http://localhost",Ut={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lt,hasStandardBrowserEnv:Dt,hasStandardBrowserWebWorkerEnv:Ft,navigator:Bt,origin:Nt},Symbol.toStringTag,{value:"Module"})),...It};function kt(e){function t(e,r,i,s){let n=e[s++];if("__proto__"===n)return!0;const o=Number.isFinite(+n),a=s>=e.length;if(n=!n&&At.isArray(i)?i.length:n,a)return At.hasOwnProp(i,n)?i[n]=[i[n],r]:i[n]=r,!o;i[n]&&At.isObject(i[n])||(i[n]=[]);return t(e,r,i[n],s)&&At.isArray(i[n])&&(i[n]=function(e){const t={},r=Object.keys(e);let i;const s=r.length;let n;for(i=0;i<s;i++)n=r[i],t[n]=e[n];return t}(i[n])),!o}if(At.isFormData(e)&&At.isFunction(e.entries)){const r={};return At.forEachEntry(e,((e,i)=>{t(function(e){return At.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),i,r,0)})),r}return null}const Vt={transitional:Ot,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=At.isObject(e);s&&At.isHTMLForm(e)&&(e=new FormData(e));if(At.isFormData(e))return i?JSON.stringify(kt(e)):e;if(At.isArrayBuffer(e)||At.isBuffer(e)||At.isStream(e)||At.isFile(e)||At.isBlob(e)||At.isReadableStream(e))return e;if(At.isArrayBufferView(e))return e.buffer;if(At.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let n;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return St(e,new Ut.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,i){return Ut.isNode&&At.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=At.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return St(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),function(e,t){if(At.isString(e))try{return(t||JSON.parse)(e),At.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Vt.transitional,r=t&&t.forcedJSONParsing,i="json"===this.responseType;if(At.isResponse(e)||At.isReadableStream(e))return e;if(e&&At.isString(e)&&(r&&!this.responseType||i)){const r=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(s){if(r){if("SyntaxError"===s.name)throw ft.from(s,ft.ERR_BAD_RESPONSE,this,null,this.response);throw s}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ut.classes.FormData,Blob:Ut.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};At.forEach(["delete","get","head","post","put","patch"],(e=>{Vt.headers[e]={}}));const jt=At.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gt=Symbol("internals");function Kt(e){return e&&String(e).trim().toLowerCase()}function Qt(e){return!1===e||null==e?e:At.isArray(e)?e.map(Qt):String(e)}function zt(e,t,r,i,s){return At.isFunction(i)?i.call(this,t,r):(s&&(t=r),At.isString(t)?At.isString(i)?-1!==t.indexOf(i):At.isRegExp(i)?i.test(t):void 0:void 0)}class Ht{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(e,t,r){const s=Kt(t);if(!s)throw new Error("header name must be a non-empty string");const n=At.findKey(i,s);(!n||void 0===i[n]||!0===r||void 0===r&&!1!==i[n])&&(i[n||t]=Qt(e))}const n=(e,t)=>At.forEach(e,((e,r)=>s(e,r,t)));if(At.isPlainObject(e)||e instanceof this.constructor)n(e,t);else if(At.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))n((e=>{const t={};let r,i,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),r=e.substring(0,s).trim().toLowerCase(),i=e.substring(s+1).trim(),!r||t[r]&&jt[r]||("set-cookie"===r?t[r]?t[r].push(i):t[r]=[i]:t[r]=t[r]?t[r]+", "+i:i)})),t})(e),t);else if(At.isHeaders(e))for(const[o,a]of e.entries())s(a,o,r);else null!=e&&s(t,e,r);return this}get(e,t){if(e=Kt(e)){const r=At.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(e);)t[i[1]]=i[2];return t}(e);if(At.isFunction(t))return t.call(this,e,r);if(At.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Kt(e)){const r=At.findKey(this,e);return!(!r||void 0===this[r]||t&&!zt(0,this[r],r,t))}return!1}delete(e,t){const r=this;let i=!1;function s(e){if(e=Kt(e)){const s=At.findKey(r,e);!s||t&&!zt(0,r[s],s,t)||(delete r[s],i=!0)}}return At.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];e&&!zt(0,this[s],s,e,!0)||(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return At.forEach(this,((i,s)=>{const n=At.findKey(r,s);if(n)return t[n]=Qt(i),void delete t[s];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(s):String(s).trim();o!==s&&delete t[s],t[o]=Qt(i),r[o]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return At.forEach(this,((r,i)=>{null!=r&&!1!==r&&(t[i]=e&&At.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=(this[Gt]=this[Gt]={accessors:{}}).accessors,r=this.prototype;function i(e){const i=Kt(e);t[i]||(!function(e,t){const r=At.toCamelCase(" "+t);["get","set","has"].forEach((i=>{Object.defineProperty(e,i+r,{value:function(e,r,s){return this[i].call(this,t,e,r,s)},configurable:!0})}))}(r,e),t[i]=!0)}return At.isArray(e)?e.forEach(i):i(e),this}}function Wt(e,t){const r=this||Vt,i=t||r,s=Ht.from(i.headers);let n=i.data;return At.forEach(e,(function(e){n=e.call(r,n,s.normalize(),t?t.status:void 0)})),s.normalize(),n}function Jt(e){return!(!e||!e.__CANCEL__)}function Xt(e,t,r){ft.call(this,null==e?"canceled":e,ft.ERR_CANCELED,t,r),this.name="CanceledError"}function Yt(e,t,r){const i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(new ft("Request failed with status code "+r.status,[ft.ERR_BAD_REQUEST,ft.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}Ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),At.reduceDescriptors(Ht.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}})),At.freezeMethods(Ht),At.inherits(Xt,ft,{__CANCEL__:!0});const qt=(e,t,r=3)=>{let i=0;const s=function(e,t){e=e||10;const r=new Array(e),i=new Array(e);let s,n=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),u=i[o];s||(s=l),r[n]=a,i[n]=l;let h=o,c=0;for(;h!==n;)c+=r[h++],h%=e;if(n=(n+1)%e,n===o&&(o=(o+1)%e),l-s<t)return;const d=u&&l-u;return d?Math.round(1e3*c/d):void 0}}(50,250);return function(e,t){let r,i,s=0,n=1e3/t;const o=(t,n=Date.now())=>{s=n,r=null,i&&(clearTimeout(i),i=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-s;a>=n?o(e,t):(r=e,i||(i=setTimeout((()=>{i=null,o(r)}),n-a)))},()=>r&&o(r)]}((r=>{const n=r.loaded,o=r.lengthComputable?r.total:void 0,a=n-i,l=s(a);i=n;e({loaded:n,total:o,progress:o?n/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&n<=o?(o-n)/l:void 0,event:r,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),r)},Zt=(e,t)=>{const r=null!=e;return[i=>t[0]({lengthComputable:r,total:e,loaded:i}),t[1]]},$t=e=>(...t)=>At.asap((()=>e(...t))),er=Ut.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ut.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ut.origin),Ut.navigator&&/(msie|trident)/i.test(Ut.navigator.userAgent)):()=>!0,tr=Ut.hasStandardBrowserEnv?{write(e,t,r,i,s,n){const o=[e+"="+encodeURIComponent(t)];At.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),At.isString(i)&&o.push("path="+i),At.isString(s)&&o.push("domain="+s),!0===n&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function rr(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ir=e=>e instanceof Ht?{...e}:e;function sr(e,t){t=t||{};const r={};function i(e,t,r,i){return At.isPlainObject(e)&&At.isPlainObject(t)?At.merge.call({caseless:i},e,t):At.isPlainObject(t)?At.merge({},t):At.isArray(t)?t.slice():t}function s(e,t,r,s){return At.isUndefined(t)?At.isUndefined(e)?void 0:i(void 0,e,0,s):i(e,t,0,s)}function n(e,t){if(!At.isUndefined(t))return i(void 0,t)}function o(e,t){return At.isUndefined(t)?At.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function a(r,s,n){return n in t?i(r,s):n in e?i(void 0,r):void 0}const l={url:n,method:n,data:n,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t,r)=>s(ir(e),ir(t),0,!0)};return At.forEach(Object.keys(Object.assign({},e,t)),(function(i){const n=l[i]||s,o=n(e[i],t[i],i);At.isUndefined(o)&&n!==a||(r[i]=o)})),r}const nr=e=>{const t=sr({},e);let r,{data:i,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:o,headers:a,auth:l}=t;if(t.headers=a=Ht.from(a),t.url=Pt(rr(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),At.isFormData(i))if(Ut.hasStandardBrowserEnv||Ut.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(Ut.hasStandardBrowserEnv&&(s&&At.isFunction(s)&&(s=s(t)),s||!1!==s&&er(t.url))){const e=n&&o&&tr.read(o);e&&a.set(n,e)}return t},or="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const i=nr(e);let s=i.data;const n=Ht.from(i.headers).normalize();let o,a,l,u,h,{responseType:c,onUploadProgress:d,onDownloadProgress:g}=i;function p(){u&&u(),h&&h(),i.cancelToken&&i.cancelToken.unsubscribe(o),i.signal&&i.signal.removeEventListener("abort",o)}let m=new XMLHttpRequest;function A(){if(!m)return;const i=Ht.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Yt((function(e){t(e),p()}),(function(e){r(e),p()}),{data:c&&"text"!==c&&"json"!==c?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:i,config:e,request:m}),m=null}m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout,"onloadend"in m?m.onloadend=A:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(A)},m.onabort=function(){m&&(r(new ft("Request aborted",ft.ECONNABORTED,e,m)),m=null)},m.onerror=function(){r(new ft("Network Error",ft.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const s=i.transitional||Ot;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),r(new ft(t,s.clarifyTimeoutError?ft.ETIMEDOUT:ft.ECONNABORTED,e,m)),m=null},void 0===s&&n.setContentType(null),"setRequestHeader"in m&&At.forEach(n.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),At.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),c&&"json"!==c&&(m.responseType=i.responseType),g&&([l,h]=qt(g,!0),m.addEventListener("progress",l)),d&&m.upload&&([a,u]=qt(d),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",u)),(i.cancelToken||i.signal)&&(o=t=>{m&&(r(!t||t.type?new Xt(null,e,m):t),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(o),i.signal&&(i.signal.aborted?o():i.signal.addEventListener("abort",o)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(i.url);f&&-1===Ut.protocols.indexOf(f)?r(new ft("Unsupported protocol "+f+":",ft.ERR_BAD_REQUEST,e)):m.send(s||null)}))},ar=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,i=new AbortController;const s=function(e){if(!r){r=!0,o();const t=e instanceof Error?e:this.reason;i.abort(t instanceof ft?t:new Xt(t instanceof Error?t.message:t))}};let n=t&&setTimeout((()=>{n=null,s(new ft(`timeout ${t} of ms exceeded`,ft.ETIMEDOUT))}),t);const o=()=>{e&&(n&&clearTimeout(n),n=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:a}=i;return a.unsubscribe=()=>At.asap(o),a}},lr=function*(e,t){let r=e.byteLength;if(r<t)return void(yield e);let i,s=0;for(;s<r;)i=s+t,yield e.slice(s,i),s=i},ur=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},hr=(e,t,r,i)=>{const s=async function*(e,t){for await(const r of ur(e))yield*lr(r,t)}(e,t);let n,o=0,a=e=>{n||(n=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:t,value:i}=await s.next();if(t)return a(),void e.close();let n=i.byteLength;if(r){let e=o+=n;r(e)}e.enqueue(new Uint8Array(i))}catch(t){throw a(t),t}},cancel:e=>(a(e),s.return())},{highWaterMark:2})},cr="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,dr=cr&&"function"==typeof ReadableStream,gr=cr&&("function"==typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),pr=(e,...t)=>{try{return!!e(...t)}catch(r){return!1}},mr=dr&&pr((()=>{let e=!1;const t=new Request(Ut.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Ar=dr&&pr((()=>At.isReadableStream(new Response("").body))),fr={stream:Ar&&(e=>e.body)};var _r;cr&&(_r=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!fr[e]&&(fr[e]=At.isFunction(_r[e])?t=>t[e]():(t,r)=>{throw new ft(`Response type '${e}' is not supported`,ft.ERR_NOT_SUPPORT,r)})})));const Er=async(e,t)=>{const r=At.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(At.isBlob(e))return e.size;if(At.isSpecCompliantForm(e)){const t=new Request(Ut.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return At.isArrayBufferView(e)||At.isArrayBuffer(e)?e.byteLength:(At.isURLSearchParams(e)&&(e+=""),At.isString(e)?(await gr(e)).byteLength:void 0)})(t):r},Tr=cr&&(async e=>{let{url:t,method:r,data:i,signal:s,cancelToken:n,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:h,withCredentials:c="same-origin",fetchOptions:d}=nr(e);u=u?(u+"").toLowerCase():"text";let g,p=ar([s,n&&n.toAbortSignal()],o);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let A;try{if(l&&mr&&"get"!==r&&"head"!==r&&0!==(A=await Er(h,i))){let e,r=new Request(t,{method:"POST",body:i,duplex:"half"});if(At.isFormData(i)&&(e=r.headers.get("content-type"))&&h.setContentType(e),r.body){const[e,t]=Zt(A,qt($t(l)));i=hr(r.body,65536,e,t)}}At.isString(c)||(c=c?"include":"omit");const s="credentials"in Request.prototype;g=new Request(t,{...d,signal:p,method:r.toUpperCase(),headers:h.normalize().toJSON(),body:i,duplex:"half",credentials:s?c:void 0});let n=await fetch(g);const o=Ar&&("stream"===u||"response"===u);if(Ar&&(a||o&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=n[t]}));const t=At.toFiniteNumber(n.headers.get("content-length")),[r,i]=a&&Zt(t,qt($t(a),!0))||[];n=new Response(hr(n.body,65536,r,(()=>{i&&i(),m&&m()})),e)}u=u||"text";let f=await fr[At.findKey(fr,u)||"text"](n,e);return!o&&m&&m(),await new Promise(((t,r)=>{Yt(t,r,{data:f,headers:Ht.from(n.headers),status:n.status,statusText:n.statusText,config:e,request:g})}))}catch(f){if(m&&m(),f&&"TypeError"===f.name&&/fetch/i.test(f.message))throw Object.assign(new ft("Network Error",ft.ERR_NETWORK,e,g),{cause:f.cause||f});throw ft.from(f,f&&f.code,e,g)}}),yr={http:null,xhr:or,fetch:Tr};At.forEach(yr,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}}));const Cr=e=>`- ${e}`,vr=e=>At.isFunction(e)||null===e||!1===e,Sr=e=>{e=At.isArray(e)?e:[e];const{length:t}=e;let r,i;const s={};for(let n=0;n<t;n++){let t;if(r=e[n],i=r,!vr(r)&&(i=yr[(t=String(r)).toLowerCase()],void 0===i))throw new ft(`Unknown adapter '${t}'`);if(i)break;s[t||"#"+n]=i}if(!i){const e=Object.entries(s).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new ft("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(Cr).join("\n"):" "+Cr(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i};function xr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xt(null,e)}function wr(e){xr(e),e.headers=Ht.from(e.headers),e.data=Wt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Sr(e.adapter||Vt.adapter)(e).then((function(t){return xr(e),t.data=Wt.call(e,e.transformResponse,t),t.headers=Ht.from(t.headers),t}),(function(t){return Jt(t)||(xr(e),t&&t.response&&(t.response.data=Wt.call(e,e.transformResponse,t.response),t.response.headers=Ht.from(t.response.headers))),Promise.reject(t)}))}const br="1.7.9",Mr={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Mr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const Pr={};Mr.transitional=function(e,t,r){return(i,s,n)=>{if(!1===e)throw new ft(function(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(r?". "+r:"")}(s," has been removed"+(t?" in "+t:"")),ft.ERR_DEPRECATED);return t&&!Pr[s]&&(Pr[s]=!0),!e||e(i,s,n)}},Mr.spelling=function(e){return(e,t)=>!0};const Rr={assertOptions:function(e,t,r){if("object"!=typeof e)throw new ft("options must be an object",ft.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let s=i.length;for(;s-- >0;){const n=i[s],o=t[n];if(o){const t=e[n],r=void 0===t||o(t,n,e);if(!0!==r)throw new ft("option "+n+" must be "+r,ft.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new ft("Unknown option "+n,ft.ERR_BAD_OPTION)}},validators:Mr},Or=Rr.validators;class Ir{constructor(e){this.defaults=e,this.interceptors={request:new Rt,response:new Rt}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(i){}}throw r}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=sr(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;void 0!==r&&Rr.assertOptions(r,{silentJSONParsing:Or.transitional(Or.boolean),forcedJSONParsing:Or.transitional(Or.boolean),clarifyTimeoutError:Or.transitional(Or.boolean)},!1),null!=i&&(At.isFunction(i)?t.paramsSerializer={serialize:i}:Rr.assertOptions(i,{encode:Or.function,serialize:Or.function},!0)),Rr.assertOptions(t,{baseUrl:Or.spelling("baseURL"),withXsrfToken:Or.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let n=s&&At.merge(s.common,s[t.method]);s&&At.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=Ht.concat(n,s);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let u;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let h,c=0;if(!a){const e=[wr.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),h=e.length,u=Promise.resolve(t);c<h;)u=u.then(e[c++],e[c++]);return u}h=o.length;let d=t;for(c=0;c<h;){const e=o[c++],t=o[c++];try{d=e(d)}catch(g){t.call(this,g);break}}try{u=wr.call(this,d)}catch(g){return Promise.reject(g)}for(c=0,h=l.length;c<h;)u=u.then(l[c++],l[c++]);return u}getUri(e){return Pt(rr((e=sr(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}At.forEach(["delete","get","head","options"],(function(e){Ir.prototype[e]=function(t,r){return this.request(sr(r||{},{method:e,url:t,data:(r||{}).data}))}})),At.forEach(["post","put","patch"],(function(e){function t(t){return function(r,i,s){return this.request(sr(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}Ir.prototype[e]=t(),Ir.prototype[e+"Form"]=t(!0)}));class Lr{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const i=new Promise((e=>{r.subscribe(e),t=e})).then(e);return i.cancel=function(){r.unsubscribe(t)},i},e((function(e,i,s){r.reason||(r.reason=new Xt(e,i,s),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Lr((function(t){e=t})),cancel:e}}}const Br={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Br).forEach((([e,t])=>{Br[t]=e}));const Dr=function e(t){const r=new Ir(t),i=Me(Ir.prototype.request,r);return At.extend(i,Ir.prototype,r,{allOwnKeys:!0}),At.extend(i,r,null,{allOwnKeys:!0}),i.create=function(r){return e(sr(t,r))},i}(Vt);Dr.Axios=Ir,Dr.CanceledError=Xt,Dr.CancelToken=Lr,Dr.isCancel=Jt,Dr.VERSION=br,Dr.toFormData=St,Dr.AxiosError=ft,Dr.Cancel=Dr.CanceledError,Dr.all=function(e){return Promise.all(e)},Dr.spread=function(e){return function(t){return e.apply(null,t)}},Dr.isAxiosError=function(e){return At.isObject(e)&&!0===e.isAxiosError},Dr.mergeConfig=sr,Dr.AxiosHeaders=Ht,Dr.formToJSON=e=>kt(At.isHTMLForm(e)?new FormData(e):e),Dr.getAdapter=Sr,Dr.HttpStatusCode=Br,Dr.default=Dr;const Fr=async e=>Dr.post("https://poetry-llm-138033-10-1317060763.sh.run.tcloudbase.com/chat",{messages:e}),Nr={class:"chat-container"},Ur={key:0,class:"ai-message"},kr={class:"content-wrapper"},Vr=["innerHTML"],jr={key:1,class:"user-message"},Gr={class:"content-wrapper"},Kr={class:"bubble"},Qr={class:"input-area"},zr={class:"input"},Hr=t({__name:"ChatComp",setup(e){const t=be(),f=r((()=>t.messages.slice(1))),_=i(""),E=i(null),T=()=>{E.value&&(E.value.scrollTop=E.value.scrollHeight)};s((()=>t.messages),(async()=>{await A(),T()}),{deep:!0});const y=async()=>{if(""===_.value.trim())return;t.messages.push({role:"user",content:_.value}),_.value="",t.messages.push({role:"assistant",content:"..."});const e=await Fr(t.messages.slice(0,-1));t.messages=e.data.data},C=()=>{localStorage.clear(),window.location.reload()};return n((()=>{T()})),(e,t)=>(o(),a("div",Nr,[l("div",{class:"messages",ref_key:"messagesContainer",ref:E},[(o(!0),a(u,null,h(f.value,((e,r)=>(o(),a("div",{key:r,class:c(["message",e.role])},["assistant"===e.role?(o(),a("div",Ur,[t[2]||(t[2]=l("div",{class:"avatar robot-avatar"},[l("img",{src:"/Poetry_Visualization/assets/poet-DcnExR40.png",alt:"poet-robot"})],-1)),l("div",kr,[t[1]||(t[1]=l("div",{class:"name"},"小柿子",-1)),l("div",{class:"bubble",innerHTML:e.content},null,8,Vr)])])):(o(),a("div",jr,[l("div",Gr,[t[3]||(t[3]=l("div",{class:"name"},"你",-1)),l("div",Kr,d(e.content),1)]),t[4]||(t[4]=l("div",{class:"avatar user-avatar"},[l("img",{src:"/Poetry_Visualization/assets/user-czJRIoCi.png",alt:"poet-user"})],-1))]))],2)))),128))],512),l("div",Qr,[l("div",zr,[t[5]||(t[5]=l("img",{src:"/Poetry_Visualization/assets/input-DcJIcf2K.png",alt:"input"},null,-1)),g(l("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>_.value=e),placeholder:"输入你的回答",onKeypress:m(y,["enter"])},null,544),[[p,_.value]])]),l("button",{onClick:y},"发送"),l("button",{onClick:C},"重新挑战")])]))}}),Wr=f(Hr,[["__scopeId","data-v-35f20a51"]]);var Jr=Math.pow,Xr=(e,t,r)=>new Promise(((i,s)=>{var n=e=>{try{a(r.next(e))}catch(t){s(t)}},o=e=>{try{a(r.throw(e))}catch(t){s(t)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(n,o);a((r=r.apply(e,t)).next())}));class Yr{constructor(){this._breathParameters=[],this._currentTime=0}static create(){return new Yr}setParameters(e){this._breathParameters=e}getParameters(){return this._breathParameters}updateParameters(e,t){this._currentTime+=t;const r=2*this._currentTime*3.14159;for(let i=0;i<this._breathParameters.length;++i){const t=this._breathParameters[i];e.addParameterValueById(t.parameterId,t.offset+t.peak*Math.sin(r/t.cycle),t.weight)}}}class qr{constructor(e,t,r,i,s){this.parameterId=null==e?void 0:e,this.offset=null==t?0:t,this.peak=null==r?0:r,this.cycle=null==i?0:i,this.weight=null==s?0:s}}const Zr=class{static create(e){return new Zr(e)}setBlinkingInterval(e){this._blinkingIntervalSeconds=e}setBlinkingSetting(e,t,r){this._closingSeconds=e,this._closedSeconds=t,this._openingSeconds=r}setParameterIds(e){this._parameterIds=e}getParameterIds(){return this._parameterIds}updateParameters(e,t){let r;this._userTimeSeconds+=t;let i=0;switch(this._blinkingState){case ei.EyeState_Closing:i=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closingSeconds,i>=1&&(i=1,this._blinkingState=ei.EyeState_Closed,this._stateStartTimeSeconds=this._userTimeSeconds),r=1-i;break;case ei.EyeState_Closed:i=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closedSeconds,i>=1&&(this._blinkingState=ei.EyeState_Opening,this._stateStartTimeSeconds=this._userTimeSeconds),r=0;break;case ei.EyeState_Opening:i=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._openingSeconds,i>=1&&(i=1,this._blinkingState=ei.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming()),r=i;break;case ei.EyeState_Interval:this._nextBlinkingTime<this._userTimeSeconds&&(this._blinkingState=ei.EyeState_Closing,this._stateStartTimeSeconds=this._userTimeSeconds),r=1;break;case ei.EyeState_First:default:this._blinkingState=ei.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming(),r=1}Zr.CloseIfZero||(r=-r);for(let s=0;s<this._parameterIds.length;++s)e.setParameterValueById(this._parameterIds[s],r)}constructor(e){var t,r;this._blinkingState=ei.EyeState_First,this._nextBlinkingTime=0,this._stateStartTimeSeconds=0,this._blinkingIntervalSeconds=4,this._closingSeconds=.1,this._closedSeconds=.05,this._openingSeconds=.15,this._userTimeSeconds=0,this._parameterIds=[],null!=e&&(this._parameterIds=null!=(r=null==(t=e.getEyeBlinkParameters())?void 0:t.slice())?r:this._parameterIds)}determinNextBlinkingTiming(){const e=Math.random();return this._userTimeSeconds+e*(2*this._blinkingIntervalSeconds-1)}};let $r=Zr;$r.CloseIfZero=!0;var ei=(e=>(e[e.EyeState_First=0]="EyeState_First",e[e.EyeState_Interval=1]="EyeState_Interval",e[e.EyeState_Closing=2]="EyeState_Closing",e[e.EyeState_Closed=3]="EyeState_Closed",e[e.EyeState_Opening=4]="EyeState_Opening",e))(ei||{});class ti{static create(e){const t=new ti;"number"==typeof e.FadeInTime&&(t._fadeTimeSeconds=e.FadeInTime,t._fadeTimeSeconds<=0&&(t._fadeTimeSeconds=.5));const r=e.Groups,i=r.length;for(let s=0;s<i;++s){const e=r[s],i=e.length;let n=0;for(let r=0;r<i;++r){const i=e[r],s=new ri;s.partId=i.Id;const o=i.Link;if(o){const e=o.length;for(let t=0;t<e;++t){const e=new ri;e.partId=o[t],s.link.push(e)}}t._partGroups.push(s),++n}t._partGroupCounts.push(n)}return t}updateParameters(e,t){e!=this._lastModel&&this.reset(e),this._lastModel=e,t<0&&(t=0);let r=0;for(let i=0;i<this._partGroupCounts.length;i++){const s=this._partGroupCounts[i];this.doFade(e,t,r,s),r+=s}this.copyPartOpacities(e)}reset(e){let t=0;for(let r=0;r<this._partGroupCounts.length;++r){const i=this._partGroupCounts[r];for(let r=t;r<t+i;++r){this._partGroups[r].initialize(e);const i=this._partGroups[r].partIndex,s=this._partGroups[r].parameterIndex;if(!(i<0)){e.setPartOpacityByIndex(i,r==t?1:0),e.setParameterValueByIndex(s,r==t?1:0);for(let t=0;t<this._partGroups[r].link.length;++t)this._partGroups[r].link[t].initialize(e)}}t+=i}}copyPartOpacities(e){for(let t=0;t<this._partGroups.length;++t){const r=this._partGroups[t];if(0==r.link.length)continue;const i=this._partGroups[t].partIndex,s=e.getPartOpacityByIndex(i);for(let t=0;t<r.link.length;++t){const i=r.link[t].partIndex;i<0||e.setPartOpacityByIndex(i,s)}}}doFade(e,t,r,i){let s=-1,n=1;const o=.5;for(let a=r;a<r+i;++a){const r=this._partGroups[a].partIndex,i=this._partGroups[a].parameterIndex;if(e.getParameterValueByIndex(i)>.001){if(s>=0)break;s=a,n=e.getPartOpacityByIndex(r),n+=t/this._fadeTimeSeconds,n>1&&(n=1)}}s<0&&(s=0,n=1);for(let a=r;a<r+i;++a){const t=this._partGroups[a].partIndex;if(s==a)e.setPartOpacityByIndex(t,n);else{let r,i=e.getPartOpacityByIndex(t);r=n<o?-.5*n/o+1:(1-n)*o/.5;(1-r)*(1-n)>.15&&(r=1-.15/(1-n)),i>r&&(i=r),e.setPartOpacityByIndex(t,i)}}}constructor(){this._fadeTimeSeconds=.5,this._lastModel=void 0,this._partGroups=[],this._partGroupCounts=[]}}class ri{constructor(e){this.parameterIndex=0,this.partIndex=0,this.partId="",this.link=[],null!=e&&this.assignment(e)}assignment(e){return this.partId=e.partId,this.link=e.link.map((e=>e.clone())),this}initialize(e){this.parameterIndex=e.getParameterIndex(this.partId),this.partIndex=e.getPartIndex(this.partId),e.setParameterValueByIndex(this.parameterIndex,1)}clone(){const e=new ri;return e.partId=this.partId,e.parameterIndex=this.parameterIndex,e.partIndex=this.partIndex,e.link=this.link.map((e=>e.clone())),e}}class ii{constructor(e,t){this.x=e||0,this.y=t||0}add(e){const t=new ii(0,0);return t.x=this.x+e.x,t.y=this.y+e.y,t}substract(e){const t=new ii(0,0);return t.x=this.x-e.x,t.y=this.y-e.y,t}multiply(e){const t=new ii(0,0);return t.x=this.x*e.x,t.y=this.y*e.y,t}multiplyByScaler(e){return this.multiply(new ii(e,e))}division(e){const t=new ii(0,0);return t.x=this.x/e.x,t.y=this.y/e.y,t}divisionByScalar(e){return this.division(new ii(e,e))}getLength(){return Math.sqrt(this.x*this.x+this.y*this.y)}getDistanceWith(e){return Math.sqrt((this.x-e.x)*(this.x-e.x)+(this.y-e.y)*(this.y-e.y))}dot(e){return this.x*e.x+this.y*e.y}normalize(){const e=Math.pow(this.x*this.x+this.y*this.y,.5);this.x=this.x/e,this.y=this.y/e}isEqual(e){return this.x==e.x&&this.y==e.y}isNotEqual(e){return!this.isEqual(e)}}const si=class{static range(e,t,r){return e<t?e=t:e>r&&(e=r),e}static sin(e){return Math.sin(e)}static cos(e){return Math.cos(e)}static abs(e){return Math.abs(e)}static sqrt(e){return Math.sqrt(e)}static cbrt(e){if(0===e)return e;let t=e;const r=t<0;let i;return r&&(t=-t),t===1/0?i=1/0:(i=Math.exp(Math.log(t)/3),i=(t/(i*i)+2*i)/3),r?-i:i}static getEasingSine(e){return e<0?0:e>1?1:.5-.5*this.cos(e*Math.PI)}static max(e,t){return e>t?e:t}static min(e,t){return e>t?t:e}static degreesToRadian(e){return e/180*Math.PI}static radianToDegrees(e){return 180*e/Math.PI}static directionToRadian(e,t){let r=Math.atan2(t.y,t.x)-Math.atan2(e.y,e.x);for(;r<-Math.PI;)r+=2*Math.PI;for(;r>Math.PI;)r-=2*Math.PI;return r}static directionToDegrees(e,t){const r=this.directionToRadian(e,t);let i=this.radianToDegrees(r);return t.x-e.x>0&&(i=-i),i}static radianToDirection(e){const t=new ii;return t.x=this.sin(e),t.y=this.cos(e),t}static quadraticEquation(e,t,r){return this.abs(e)<si.Epsilon?this.abs(t)<si.Epsilon?-r:-r/t:-(t+this.sqrt(t*t-4*e*r))/(2*e)}static cardanoAlgorithmForBezier(e,t,r,i){if(this.sqrt(e)<si.Epsilon)return this.range(this.quadraticEquation(t,r,i),0,1);const s=t/e,n=r/e,o=(3*n-s*s)/3,a=o/3,l=(2*s*s*s-9*s*n+27*(i/e))/27,u=l/2,h=u*u+a*a*a,c=.5,d=.51;if(h<0){const e=-o/3,t=e*e*e,r=this.sqrt(t),i=-l/(2*r),n=this.range(i,-1,1),a=Math.acos(n),u=2*this.cbrt(r),h=u*this.cos(a/3)-s/3;if(this.abs(h-c)<d)return this.range(h,0,1);const g=u*this.cos((a+2*Math.PI)/3)-s/3;if(this.abs(g-c)<d)return this.range(g,0,1);const p=u*this.cos((a+4*Math.PI)/3)-s/3;return this.range(p,0,1)}if(0==h){let e;e=u<0?this.cbrt(-u):-this.cbrt(u);const t=2*e-s/3;if(this.abs(t-c)<d)return this.range(t,0,1);const r=-e-s/3;return this.range(r,0,1)}const g=this.sqrt(h),p=this.cbrt(g-u)-this.cbrt(g+u)-s/3;return this.range(p,0,1)}constructor(){}};let ni=si;ni.Epsilon=1e-5;class oi{constructor(){this._tr=new Float32Array(16),this.loadIdentity()}static multiply(e,t,r){const i=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);for(let s=0;s<4;++s)for(let r=0;r<4;++r)for(let n=0;n<4;++n)i[r+4*s]+=e[n+4*s]*t[r+4*n];for(let s=0;s<16;++s)r[s]=i[s]}loadIdentity(){const e=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.setMatrix(e)}setMatrix(e){for(let t=0;t<16;++t)this._tr[t]=e[t]}getArray(){return this._tr}getScaleX(){return this._tr[0]}getScaleY(){return this._tr[5]}getTranslateX(){return this._tr[12]}getTranslateY(){return this._tr[13]}transformX(e){return this._tr[0]*e+this._tr[12]}transformY(e){return this._tr[5]*e+this._tr[13]}invertTransformX(e){return(e-this._tr[12])/this._tr[0]}invertTransformY(e){return(e-this._tr[13])/this._tr[5]}translateRelative(e,t){const r=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,e,t,0,1]);oi.multiply(r,this._tr,this._tr)}translate(e,t){this._tr[12]=e,this._tr[13]=t}translateX(e){this._tr[12]=e}translateY(e){this._tr[13]=e}scaleRelative(e,t){const r=new Float32Array([e,0,0,0,0,t,0,0,0,0,1,0,0,0,0,1]);oi.multiply(r,this._tr,this._tr)}scale(e,t){this._tr[0]=e,this._tr[5]=t}multiplyByMatrix(e){oi.multiply(e.getArray(),this._tr,this._tr)}clone(){const e=new oi;for(let t=0;t<this._tr.length;t++)e._tr[t]=this._tr[t];return e}}class ai{initialize(e){this._model=e}drawModel(){null!=this.getModel()&&this.doDrawModel()}setMvpMatrix(e){this._mvpMatrix4x4.setMatrix(e.getArray())}getMvpMatrix(){return this._mvpMatrix4x4}setModelColor(e,t,r,i){e<0?e=0:e>1&&(e=1),t<0?t=0:t>1&&(t=1),r<0?r=0:r>1&&(r=1),i<0?i=0:i>1&&(i=1),this._modelColor.R=e,this._modelColor.G=t,this._modelColor.B=r,this._modelColor.A=i}getModelColor(){return Object.assign({},this._modelColor)}setIsPremultipliedAlpha(e){this._isPremultipliedAlpha=e}isPremultipliedAlpha(){return this._isPremultipliedAlpha}setIsCulling(e){this._isCulling=e}isCulling(){return this._isCulling}setAnisotropy(e){this._anisortopy=e}getAnisotropy(){return this._anisortopy}getModel(){return this._model}constructor(){this._isCulling=!1,this._isPremultipliedAlpha=!1,this._anisortopy=0,this._modelColor=new ui,this._mvpMatrix4x4=new oi,this._mvpMatrix4x4.loadIdentity()}}var li=(e=>(e[e.CubismBlendMode_Normal=0]="CubismBlendMode_Normal",e[e.CubismBlendMode_Additive=1]="CubismBlendMode_Additive",e[e.CubismBlendMode_Multiplicative=2]="CubismBlendMode_Multiplicative",e))(li||{});class ui{constructor(){this.R=1,this.G=1,this.B=1,this.A=1}}let hi,ci=!1,di=!1;const gi=0,pi=2;class mi{static startUp(e){if(ci)return _i("CubismFramework.startUp() is already done."),ci;if(Live2DCubismCore._isStarted)return ci=!0,!0;if(Live2DCubismCore._isStarted=!0,hi=e,hi&&Live2DCubismCore.Logging.csmSetLogFunction(hi.logFunction),ci=!0,ci){const e=Live2DCubismCore.Version.csmGetVersion(),t=(16711680&e)>>16,r=65535&e,i=e;_i("Live2D Cubism Core version: {0}.{1}.{2} ({3})",("00"+((4278190080&e)>>24)).slice(-2),("00"+t).slice(-2),("0000"+r).slice(-4),i)}return _i("CubismFramework.startUp() is complete."),ci}static cleanUp(){ci=!1,di=!1,hi=void 0}static initialize(){ci?di?Ei("CubismFramework.initialize() skipped, already initialized."):(di=!0,_i("CubismFramework.initialize() is complete.")):Ei("CubismFramework is not started.")}static dispose(){ci?di?(ai.staticRelease(),di=!1,_i("CubismFramework.dispose() is complete.")):Ei("CubismFramework.dispose() skipped, not initialized."):Ei("CubismFramework is not started.")}static isStarted(){return ci}static isInitialized(){return di}static coreLogFunction(e){Live2DCubismCore.Logging.csmGetLogFunction()&&Live2DCubismCore.Logging.csmGetLogFunction()(e)}static getLoggingLevel(){return null!=hi?hi.loggingLevel:Ai.LogLevel_Off}constructor(){}}var Ai=(e=>(e[e.LogLevel_Verbose=0]="LogLevel_Verbose",e[e.LogLevel_Debug=1]="LogLevel_Debug",e[e.LogLevel_Info=2]="LogLevel_Info",e[e.LogLevel_Warning=3]="LogLevel_Warning",e[e.LogLevel_Error=4]="LogLevel_Error",e[e.LogLevel_Off=5]="LogLevel_Off",e))(Ai||{});function fi(e,...t){yi.print(Ai.LogLevel_Debug,"[CSM][D]"+e+"\n",t)}function _i(e,...t){yi.print(Ai.LogLevel_Info,"[CSM][I]"+e+"\n",t)}function Ei(e,...t){yi.print(Ai.LogLevel_Warning,"[CSM][W]"+e+"\n",t)}function Ti(e,...t){yi.print(Ai.LogLevel_Error,"[CSM][E]"+e+"\n",t)}class yi{static print(e,t,r){if(e<mi.getLoggingLevel())return;const i=mi.coreLogFunction;if(!i)return;i(t.replace(/{(\d+)}/g,((e,t)=>r[t])))}static dumpBytes(e,t,r){for(let i=0;i<r;i++)i%16==0&&i>0?this.print(e,"\n"):i%8==0&&i>0&&this.print(e,"  "),this.print(e,"{0} ",[255&t[i]]);this.print(e,"\n")}constructor(){}}class Ci{update(){this._model.update(),this._model.drawables.resetDynamicFlags()}getCanvasWidth(){return null==this._model?0:this._model.canvasinfo.CanvasWidth/this._model.canvasinfo.PixelsPerUnit}getCanvasHeight(){return null==this._model?0:this._model.canvasinfo.CanvasHeight/this._model.canvasinfo.PixelsPerUnit}saveParameters(){const e=this._model.parameters.count,t=this._savedParameters.length;for(let r=0;r<e;++r)r<t?this._savedParameters[r]=this._parameterValues[r]:this._savedParameters.push(this._parameterValues[r])}getModel(){return this._model}getPartIndex(e){let t;const r=this._model.parts.count;for(t=0;t<r;++t)if(e==this._partIds[t])return t;return e in this._notExistPartId?this._notExistPartId[e]:(t=r+this._notExistPartId.length,this._notExistPartId[e]=t,this._notExistPartOpacities[t]=0,t)}getPartCount(){return this._model.parts.count}setPartOpacityByIndex(e,t){e in this._notExistPartOpacities?this._notExistPartOpacities[e]=t:(0<=e&&this.getPartCount(),this._partOpacities[e]=t)}setPartOpacityById(e,t){const r=this.getPartIndex(e);r<0||this.setPartOpacityByIndex(r,t)}getPartOpacityByIndex(e){return e in this._notExistPartOpacities?this._notExistPartOpacities[e]:(0<=e&&this.getPartCount(),this._partOpacities[e])}getPartOpacityById(e){const t=this.getPartIndex(e);return t<0?0:this.getPartOpacityByIndex(t)}getParameterIndex(e){let t;const r=this._model.parameters.count;for(t=0;t<r;++t)if(e==this._parameterIds[t])return t;return e in this._notExistParameterId?this._notExistParameterId[e]:(t=this._model.parameters.count+Object.keys(this._notExistParameterId).length,this._notExistParameterId[e]=t,this._notExistParameterValues[t]=0,t)}getParameterCount(){return this._model.parameters.count}getParameterMaximumValue(e){return this._model.parameters.maximumValues[e]}getParameterMinimumValue(e){return this._model.parameters.minimumValues[e]}getParameterDefaultValue(e){return this._model.parameters.defaultValues[e]}getParameterValueByIndex(e){return e in this._notExistParameterValues?this._notExistParameterValues[e]:(0<=e&&this.getParameterCount(),this._parameterValues[e])}getParameterValueById(e){const t=this.getParameterIndex(e);return this.getParameterValueByIndex(t)}setParameterValueByIndex(e,t,r=1){e in this._notExistParameterValues?this._notExistParameterValues[e]=1==r?t:this._notExistParameterValues[e]*(1-r)+t*r:(0<=e&&this.getParameterCount(),this._model.parameters.maximumValues[e]<t&&(t=this._model.parameters.maximumValues[e]),this._model.parameters.minimumValues[e]>t&&(t=this._model.parameters.minimumValues[e]),this._parameterValues[e]=1==r?t:this._parameterValues[e]=this._parameterValues[e]*(1-r)+t*r)}setParameterValueById(e,t,r=1){const i=this.getParameterIndex(e);this.setParameterValueByIndex(i,t,r)}addParameterValueByIndex(e,t,r=1){this.setParameterValueByIndex(e,this.getParameterValueByIndex(e)+t*r)}addParameterValueById(e,t,r=1){const i=this.getParameterIndex(e);this.addParameterValueByIndex(i,t,r)}multiplyParameterValueById(e,t,r=1){const i=this.getParameterIndex(e);this.multiplyParameterValueByIndex(i,t,r)}multiplyParameterValueByIndex(e,t,r=1){this.setParameterValueByIndex(e,this.getParameterValueByIndex(e)*(1+(t-1)*r))}getDrawableIds(){return this._drawableIds.slice()}getDrawableIndex(e){const t=this._model.drawables.count;for(let r=0;r<t;++r)if(this._drawableIds[r]==e)return r;return-1}getDrawableCount(){return this._model.drawables.count}getDrawableId(e){return this._model.drawables.ids[e]}getDrawableRenderOrders(){return this._model.drawables.renderOrders}getDrawableTextureIndices(e){return this._model.drawables.textureIndices[e]}getDrawableDynamicFlagVertexPositionsDidChange(e){const t=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(t[e])}getDrawableVertexIndexCount(e){return this._model.drawables.indexCounts[e]}getDrawableVertexCount(e){return this._model.drawables.vertexCounts[e]}getDrawableVertices(e){return this.getDrawableVertexPositions(e)}getDrawableVertexIndices(e){return this._model.drawables.indices[e]}getDrawableVertexPositions(e){return this._model.drawables.vertexPositions[e]}getDrawableVertexUvs(e){return this._model.drawables.vertexUvs[e]}getDrawableOpacity(e){return this._model.drawables.opacities[e]}getDrawableCulling(e){const t=this._model.drawables.constantFlags;return!Live2DCubismCore.Utils.hasIsDoubleSidedBit(t[e])}getDrawableBlendMode(e){const t=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasBlendAdditiveBit(t[e])?li.CubismBlendMode_Additive:Live2DCubismCore.Utils.hasBlendMultiplicativeBit(t[e])?li.CubismBlendMode_Multiplicative:li.CubismBlendMode_Normal}getDrawableInvertedMaskBit(e){const t=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasIsInvertedMaskBit(t[e])}getDrawableMasks(){return this._model.drawables.masks}getDrawableMaskCounts(){return this._model.drawables.maskCounts}isUsingMasking(){for(let e=0;e<this._model.drawables.count;++e)if(!(this._model.drawables.maskCounts[e]<=0))return!0;return!1}getDrawableDynamicFlagIsVisible(e){const t=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasIsVisibleBit(t[e])}getDrawableDynamicFlagVisibilityDidChange(e){const t=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(t[e])}getDrawableDynamicFlagOpacityDidChange(e){const t=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasOpacityDidChangeBit(t[e])}getDrawableDynamicFlagRenderOrderDidChange(e){const t=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(t[e])}loadParameters(){let e=this._model.parameters.count;const t=this._savedParameters.length;e>t&&(e=t);for(let r=0;r<e;++r)this._parameterValues[r]=this._savedParameters[r]}initialize(){this._parameterValues=this._model.parameters.values,this._partOpacities=this._model.parts.opacities,this._parameterMaximumValues=this._model.parameters.maximumValues,this._parameterMinimumValues=this._model.parameters.minimumValues;{const e=this._model.parameters.ids,t=this._model.parameters.count;for(let r=0;r<t;++r)this._parameterIds.push(e[r])}{const e=this._model.parts.ids,t=this._model.parts.count;for(let r=0;r<t;++r)this._partIds.push(e[r])}{const e=this._model.drawables.ids,t=this._model.drawables.count;for(let r=0;r<t;++r)this._drawableIds.push(e[r])}}constructor(e){this._model=e,this._savedParameters=[],this._parameterIds=[],this._drawableIds=[],this._partIds=[],this._notExistPartId={},this._notExistParameterId={},this._notExistParameterValues={},this._notExistPartOpacities={},this.initialize()}release(){this._model.release(),this._model=void 0}}class vi{static create(e){const t=Live2DCubismCore.Moc.fromArrayBuffer(e);if(t)return new vi(t);throw new Error("Unknown error")}createModel(){let e;const t=Live2DCubismCore.Model.fromMoc(this._moc);if(t)return e=new Ci(t),++this._modelCount,e;throw new Error("Unknown error")}deleteModel(e){null!=e&&--this._modelCount}constructor(e){this._moc=e,this._modelCount=0}release(){this._moc._release(),this._moc=void 0}}class Si{constructor(){this._fadeInSeconds=-1,this._fadeOutSeconds=-1,this._weight=1,this._offsetSeconds=0,this._firedEventValues=[]}release(){this._weight=0}updateParameters(e,t,r){if(!t.isAvailable()||t.isFinished())return;if(!t.isStarted()){t.setIsStarted(!0),t.setStartTime(r-this._offsetSeconds),t.setFadeInStartTime(r);const e=this.getDuration();t.getEndTime()<0&&t.setEndTime(e<=0?-1:t.getStartTime()+e)}let i=this._weight;i=i*(0==this._fadeInSeconds?1:ni.getEasingSine((r-t.getFadeInStartTime())/this._fadeInSeconds))*(0==this._fadeOutSeconds||t.getEndTime()<0?1:ni.getEasingSine((t.getEndTime()-r)/this._fadeOutSeconds)),t.setState(r,i),this.doUpdateParameters(e,r,i,t),t.getEndTime()>0&&t.getEndTime()<r&&t.setIsFinished(!0)}setFadeInTime(e){this._fadeInSeconds=e}setFadeOutTime(e){this._fadeOutSeconds=e}getFadeOutTime(){return this._fadeOutSeconds}getFadeInTime(){return this._fadeInSeconds}setWeight(e){this._weight=e}getWeight(){return this._weight}getDuration(){return-1}getLoopDuration(){return-1}setOffsetTime(e){this._offsetSeconds=e}getFiredEvent(e,t){return this._firedEventValues}setFinishedMotionHandler(e){this._onFinishedMotion=e}getFinishedMotionHandler(){return this._onFinishedMotion}}class xi extends Si{constructor(){super(),this._parameters=[]}static create(e){const t=new xi,r=e.FadeInTime,i=e.FadeOutTime;t.setFadeInTime(void 0!==r?r:1),t.setFadeOutTime(void 0!==i?i:1);const s=e.Parameters||[];for(let n=0;n<s.length;++n){const e=s[n],r=e.Id,i=e.Value;let o;switch(e.Blend){case"Multiply":o=Mi.ExpressionBlendType_Multiply;break;case"Overwrite":o=Mi.ExpressionBlendType_Overwrite;break;default:o=Mi.ExpressionBlendType_Add}const a={parameterId:r,blendType:o,value:i};t._parameters.push(a)}return t}doUpdateParameters(e,t,r,i){for(let s=0;s<this._parameters.length;++s){const t=this._parameters[s];switch(t.blendType){case Mi.ExpressionBlendType_Add:e.addParameterValueById(t.parameterId,t.value,r);break;case Mi.ExpressionBlendType_Multiply:e.multiplyParameterValueById(t.parameterId,t.value,r);break;case Mi.ExpressionBlendType_Overwrite:e.setParameterValueById(t.parameterId,t.value,r)}}}}var wi,bi,Mi=(e=>(e[e.ExpressionBlendType_Add=0]="ExpressionBlendType_Add",e[e.ExpressionBlendType_Multiply=1]="ExpressionBlendType_Multiply",e[e.ExpressionBlendType_Overwrite=2]="ExpressionBlendType_Overwrite",e))(Mi||{});(bi=wi||(wi={})).supportMoreMaskDivisions=!0,bi.setOpacityFromMotion=!1;var Pi=(e=>(e[e.CubismMotionCurveTarget_Model=0]="CubismMotionCurveTarget_Model",e[e.CubismMotionCurveTarget_Parameter=1]="CubismMotionCurveTarget_Parameter",e[e.CubismMotionCurveTarget_PartOpacity=2]="CubismMotionCurveTarget_PartOpacity",e))(Pi||{}),Ri=(e=>(e[e.CubismMotionSegmentType_Linear=0]="CubismMotionSegmentType_Linear",e[e.CubismMotionSegmentType_Bezier=1]="CubismMotionSegmentType_Bezier",e[e.CubismMotionSegmentType_Stepped=2]="CubismMotionSegmentType_Stepped",e[e.CubismMotionSegmentType_InverseStepped=3]="CubismMotionSegmentType_InverseStepped",e))(Ri||{});class Oi{constructor(e=0,t=0){this.time=e,this.value=t}}class Ii{constructor(){this.basePointIndex=0,this.segmentType=0}}class Li{constructor(){this.id="",this.type=0,this.segmentCount=0,this.baseSegmentIndex=0,this.fadeInTime=0,this.fadeOutTime=0}}class Bi{constructor(){this.fireTime=0,this.value=""}}class Di{constructor(){this.duration=0,this.loop=!1,this.curveCount=0,this.eventCount=0,this.fps=0,this.curves=[],this.segments=[],this.points=[],this.events=[]}}class Fi{constructor(e){this._json=e}release(){this._json=void 0}getMotionDuration(){return this._json.Meta.Duration}isMotionLoop(){return this._json.Meta.Loop||!1}getEvaluationOptionFlag(e){return Ni.EvaluationOptionFlag_AreBeziersRistricted==e&&!!this._json.Meta.AreBeziersRestricted}getMotionCurveCount(){return this._json.Meta.CurveCount}getMotionFps(){return this._json.Meta.Fps}getMotionTotalSegmentCount(){return this._json.Meta.TotalSegmentCount}getMotionTotalPointCount(){return this._json.Meta.TotalPointCount}getMotionFadeInTime(){return this._json.Meta.FadeInTime}getMotionFadeOutTime(){return this._json.Meta.FadeOutTime}getMotionCurveTarget(e){return this._json.Curves[e].Target}getMotionCurveId(e){return this._json.Curves[e].Id}getMotionCurveFadeInTime(e){return this._json.Curves[e].FadeInTime}getMotionCurveFadeOutTime(e){return this._json.Curves[e].FadeOutTime}getMotionCurveSegmentCount(e){return this._json.Curves[e].Segments.length}getMotionCurveSegment(e,t){return this._json.Curves[e].Segments[t]}getEventCount(){return this._json.Meta.UserDataCount||0}getTotalEventValueSize(){return this._json.Meta.TotalUserDataSize}getEventTime(e){return this._json.UserData[e].Time}getEventValue(e){return this._json.UserData[e].Value}}var Ni=(e=>(e[e.EvaluationOptionFlag_AreBeziersRistricted=0]="EvaluationOptionFlag_AreBeziersRistricted",e))(Ni||{});function Ui(e,t,r){const i=new Oi;return i.time=e.time+(t.time-e.time)*r,i.value=e.value+(t.value-e.value)*r,i}function ki(e,t){let r=(t-e[0].time)/(e[1].time-e[0].time);return r<0&&(r=0),e[0].value+(e[1].value-e[0].value)*r}function Vi(e,t){let r=(t-e[0].time)/(e[3].time-e[0].time);r<0&&(r=0);const i=Ui(e[0],e[1],r),s=Ui(e[1],e[2],r),n=Ui(e[2],e[3],r),o=Ui(i,s,r),a=Ui(s,n,r);return Ui(o,a,r).value}function ji(e,t){const r=t,i=e[0].time,s=e[3].time,n=e[1].time,o=e[2].time,a=s-3*o+3*n-i,l=3*o-6*n+3*i,u=3*n-3*i,h=i-r,c=ni.cardanoAlgorithmForBezier(a,l,u,h),d=Ui(e[0],e[1],c),g=Ui(e[1],e[2],c),p=Ui(e[2],e[3],c),m=Ui(d,g,c),A=Ui(g,p,c);return Ui(m,A,c).value}function Gi(e,t){return e[0].value}function Ki(e,t){return e[1].value}function Qi(e,t,r){const i=e.curves[t];let s=-1;const n=i.baseSegmentIndex+i.segmentCount;let o=0;for(let l=i.baseSegmentIndex;l<n;++l)if(o=e.segments[l].basePointIndex+(e.segments[l].segmentType==Ri.CubismMotionSegmentType_Bezier?3:1),e.points[o].time>r){s=l;break}if(-1==s)return e.points[o].value;const a=e.segments[s];return a.evaluate(e.points.slice(a.basePointIndex),r)}class zi extends Si{constructor(){super(),this._eyeBlinkParameterIds=[],this._lipSyncParameterIds=[],this._sourceFrameRate=30,this._loopDurationSeconds=-1,this._isLoop=!1,this._isLoopFadeIn=!0,this._lastWeight=0}static create(e,t){const r=new zi;return r.parse(e),r._sourceFrameRate=r._motionData.fps,r._loopDurationSeconds=r._motionData.duration,r._onFinishedMotion=t,r}doUpdateParameters(e,t,r,i){null==this._modelCurveIdEyeBlink&&(this._modelCurveIdEyeBlink="EyeBlink"),null==this._modelCurveIdLipSync&&(this._modelCurveIdLipSync="LipSync");let s=t-i.getStartTime();s<0&&(s=0);let n=Number.MAX_VALUE,o=Number.MAX_VALUE;const a=64;let l=0,u=0;this._eyeBlinkParameterIds.length>a&&fi("too many eye blink targets : {0}",this._eyeBlinkParameterIds.length),this._lipSyncParameterIds.length>a&&fi("too many lip sync targets : {0}",this._lipSyncParameterIds.length);const h=this._fadeInSeconds<=0?1:ni.getEasingSine((t-i.getFadeInStartTime())/this._fadeInSeconds),c=this._fadeOutSeconds<=0||i.getEndTime()<0?1:ni.getEasingSine((i.getEndTime()-t)/this._fadeOutSeconds);let d,g,p,m=s;if(this._isLoop)for(;m>this._motionData.duration;)m-=this._motionData.duration;const A=this._motionData.curves;for(g=0;g<this._motionData.curveCount&&A[g].type==Pi.CubismMotionCurveTarget_Model;++g)d=Qi(this._motionData,g,m),A[g].id==this._modelCurveIdEyeBlink?o=d:A[g].id==this._modelCurveIdLipSync&&(n=d);for(;g<this._motionData.curveCount&&A[g].type==Pi.CubismMotionCurveTarget_Parameter;++g){if(p=e.getParameterIndex(A[g].id),-1==p)continue;const s=e.getParameterValueByIndex(p);if(d=Qi(this._motionData,g,m),o!=Number.MAX_VALUE)for(let e=0;e<this._eyeBlinkParameterIds.length&&e<a;++e)if(this._eyeBlinkParameterIds[e]==A[g].id){d*=o,u|=1<<e;break}if(n!=Number.MAX_VALUE)for(let e=0;e<this._lipSyncParameterIds.length&&e<a;++e)if(this._lipSyncParameterIds[e]==A[g].id){d+=n,l|=1<<e;break}let f;if(A[g].fadeInTime<0&&A[g].fadeOutTime<0)f=s+(d-s)*r;else{let e,r;e=A[g].fadeInTime<0?h:0==A[g].fadeInTime?1:ni.getEasingSine((t-i.getFadeInStartTime())/A[g].fadeInTime),r=A[g].fadeOutTime<0?c:0==A[g].fadeOutTime||i.getEndTime()<0?1:ni.getEasingSine((i.getEndTime()-t)/A[g].fadeOutTime);f=s+(d-s)*(this._weight*e*r)}e.setParameterValueByIndex(p,f,1)}if(o!=Number.MAX_VALUE)for(let f=0;f<this._eyeBlinkParameterIds.length&&f<a;++f){const t=e.getParameterValueById(this._eyeBlinkParameterIds[f]);if(u>>f&1)continue;const i=t+(o-t)*r;e.setParameterValueById(this._eyeBlinkParameterIds[f],i)}if(n!=Number.MAX_VALUE)for(let f=0;f<this._lipSyncParameterIds.length&&f<a;++f){const t=e.getParameterValueById(this._lipSyncParameterIds[f]);if(l>>f&1)continue;const i=t+(n-t)*r;e.setParameterValueById(this._lipSyncParameterIds[f],i)}for(;g<this._motionData.curveCount&&A[g].type==Pi.CubismMotionCurveTarget_PartOpacity;++g)if(d=Qi(this._motionData,g,m),wi.setOpacityFromMotion)e.setPartOpacityById(A[g].id,d);else{if(p=e.getParameterIndex(A[g].id),-1==p)continue;e.setParameterValueByIndex(p,d)}s>=this._motionData.duration&&(this._isLoop?(i.setStartTime(t),this._isLoopFadeIn&&i.setFadeInStartTime(t)):(this._onFinishedMotion&&this._onFinishedMotion(this),i.setIsFinished(!0))),this._lastWeight=r}setIsLoop(e){this._isLoop=e}isLoop(){return this._isLoop}setIsLoopFadeIn(e){this._isLoopFadeIn=e}isLoopFadeIn(){return this._isLoopFadeIn}getDuration(){return this._isLoop?-1:this._loopDurationSeconds}getLoopDuration(){return this._loopDurationSeconds}setParameterFadeInTime(e,t){const r=this._motionData.curves;for(let i=0;i<this._motionData.curveCount;++i)if(e==r[i].id)return void(r[i].fadeInTime=t)}setParameterFadeOutTime(e,t){const r=this._motionData.curves;for(let i=0;i<this._motionData.curveCount;++i)if(e==r[i].id)return void(r[i].fadeOutTime=t)}getParameterFadeInTime(e){const t=this._motionData.curves;for(let r=0;r<this._motionData.curveCount;++r)if(e==t[r].id)return t[r].fadeInTime;return-1}getParameterFadeOutTime(e){const t=this._motionData.curves;for(let r=0;r<this._motionData.curveCount;++r)if(e==t[r].id)return t[r].fadeOutTime;return-1}setEffectIds(e,t){this._eyeBlinkParameterIds=e,this._lipSyncParameterIds=t}release(){this._motionData=void 0}parse(e){this._motionData=new Di;let t=new Fi(e);this._motionData.duration=t.getMotionDuration(),this._motionData.loop=t.isMotionLoop(),this._motionData.curveCount=t.getMotionCurveCount(),this._motionData.fps=t.getMotionFps(),this._motionData.eventCount=t.getEventCount();const r=t.getEvaluationOptionFlag(Ni.EvaluationOptionFlag_AreBeziersRistricted),i=t.getMotionFadeInTime(),s=t.getMotionFadeOutTime();this._fadeInSeconds=void 0!==i?i<0?1:i:1,this._fadeOutSeconds=void 0!==s?s<0?1:s:1,this._motionData.curves=Array.from({length:this._motionData.curveCount}).map((()=>new Li)),this._motionData.segments=Array.from({length:t.getMotionTotalSegmentCount()}).map((()=>new Ii)),this._motionData.events=Array.from({length:this._motionData.eventCount}).map((()=>new Bi)),this._motionData.points=[];let n=0,o=0;for(let a=0;a<this._motionData.curveCount;++a){const e=this._motionData.curves[a];switch(t.getMotionCurveTarget(a)){case"Model":e.type=Pi.CubismMotionCurveTarget_Model;break;case"Parameter":e.type=Pi.CubismMotionCurveTarget_Parameter;break;case"PartOpacity":e.type=Pi.CubismMotionCurveTarget_PartOpacity;break;default:Ei('Warning : Unable to get segment type from Curve! The number of "CurveCount" may be incorrect!')}e.id=t.getMotionCurveId(a),e.baseSegmentIndex=o;const i=t.getMotionCurveFadeInTime(a),s=t.getMotionCurveFadeOutTime(a);e.fadeInTime=void 0!==i?i:-1,e.fadeOutTime=void 0!==s?s:-1;for(let l=0;l<t.getMotionCurveSegmentCount(a);){0==l?(this._motionData.segments[o].basePointIndex=n,this._motionData.points[n]=new Oi(t.getMotionCurveSegment(a,l),t.getMotionCurveSegment(a,l+1)),n+=1,l+=2):this._motionData.segments[o].basePointIndex=n-1;switch(t.getMotionCurveSegment(a,l)){case Ri.CubismMotionSegmentType_Linear:this._motionData.segments[o].segmentType=Ri.CubismMotionSegmentType_Linear,this._motionData.segments[o].evaluate=ki,this._motionData.points[n]=new Oi(t.getMotionCurveSegment(a,l+1),t.getMotionCurveSegment(a,l+2)),n+=1,l+=3;break;case Ri.CubismMotionSegmentType_Bezier:this._motionData.segments[o].segmentType=Ri.CubismMotionSegmentType_Bezier,this._motionData.segments[o].evaluate=r?Vi:ji,this._motionData.points[n]=new Oi(t.getMotionCurveSegment(a,l+1),t.getMotionCurveSegment(a,l+2)),this._motionData.points[n+1]=new Oi(t.getMotionCurveSegment(a,l+3),t.getMotionCurveSegment(a,l+4)),this._motionData.points[n+2]=new Oi(t.getMotionCurveSegment(a,l+5),t.getMotionCurveSegment(a,l+6)),n+=3,l+=7;break;case Ri.CubismMotionSegmentType_Stepped:this._motionData.segments[o].segmentType=Ri.CubismMotionSegmentType_Stepped,this._motionData.segments[o].evaluate=Gi,this._motionData.points[n]=new Oi(t.getMotionCurveSegment(a,l+1),t.getMotionCurveSegment(a,l+2)),n+=1,l+=3;break;case Ri.CubismMotionSegmentType_InverseStepped:this._motionData.segments[o].segmentType=Ri.CubismMotionSegmentType_InverseStepped,this._motionData.segments[o].evaluate=Ki,this._motionData.points[n]=new Oi(t.getMotionCurveSegment(a,l+1),t.getMotionCurveSegment(a,l+2)),n+=1,l+=3}++e.segmentCount,++o}this._motionData.curves.push(e)}for(let a=0;a<t.getEventCount();++a)this._motionData.events[a].fireTime=t.getEventTime(a),this._motionData.events[a].value=t.getEventValue(a);t.release()}getFiredEvent(e,t){this._firedEventValues.length=0;for(let r=0;r<this._motionData.eventCount;++r)this._motionData.events[r].fireTime>e&&this._motionData.events[r].fireTime<=t&&this._firedEventValues.push(this._motionData.events[r].value);return this._firedEventValues}}class Hi{constructor(){this._autoDelete=!1,this._available=!0,this._finished=!1,this._started=!1,this._startTimeSeconds=-1,this._fadeInStartTimeSeconds=0,this._endTimeSeconds=-1,this._stateTimeSeconds=0,this._stateWeight=0,this._lastEventCheckSeconds=0,this._motionQueueEntryHandle=this,this._fadeOutSeconds=0,this._isTriggeredFadeOut=!1}release(){this._autoDelete&&this._motion&&this._motion.release()}setFadeOut(e){this._fadeOutSeconds=e,this._isTriggeredFadeOut=!0}startFadeOut(e,t){const r=t+e;this._isTriggeredFadeOut=!0,(this._endTimeSeconds<0||r<this._endTimeSeconds)&&(this._endTimeSeconds=r)}isFinished(){return this._finished}isStarted(){return this._started}getStartTime(){return this._startTimeSeconds}getFadeInStartTime(){return this._fadeInStartTimeSeconds}getEndTime(){return this._endTimeSeconds}setStartTime(e){this._startTimeSeconds=e}setFadeInStartTime(e){this._fadeInStartTimeSeconds=e}setEndTime(e){this._endTimeSeconds=e}setIsFinished(e){this._finished=e}setIsStarted(e){this._started=e}isAvailable(){return this._available}setIsAvailable(e){this._available=e}setState(e,t){this._stateTimeSeconds=e,this._stateWeight=t}getStateTime(){return this._stateTimeSeconds}getStateWeight(){return this._stateWeight}getLastCheckEventSeconds(){return this._lastEventCheckSeconds}setLastCheckEventSeconds(e){this._lastEventCheckSeconds=e}isTriggeredFadeOut(){return this._isTriggeredFadeOut}getFadeOutSeconds(){return this._fadeOutSeconds}}class Wi{constructor(){this._userTimeSeconds=0,this._eventCustomData=null,this._motions=[]}release(){for(let e=0;e<this._motions.length;++e)this._motions[e]&&this._motions[e].release();this._motions=void 0}startMotion(e,t,r){if(null==e)return Ji;let i;for(let s=0;s<this._motions.length;++s)i=this._motions[s],null!=i&&i.setFadeOut(i._motion.getFadeOutTime());return i=new Hi,i._autoDelete=t,i._motion=e,this._motions.push(i),i._motionQueueEntryHandle}isFinished(){let e=0;for(;e<this._motions.length;){const t=this._motions[e];if(null==t){this._motions.splice(e,1);continue}if(null!=t._motion){if(!t.isFinished())return!1;e++}else t.release(),this._motions.splice(e,1)}return!0}isFinishedByHandle(e){for(let t=0;t<this._motions.length;t++){const r=this._motions[t];if(null!=r&&(r._motionQueueEntryHandle==e&&!r.isFinished()))return!1}return!0}stopAllMotions(){for(let e=0;e<this._motions.length;e++){const t=this._motions[e];null!=t&&t.release()}this._motions=[]}getCubismMotionQueueEntry(e){return this._motions.find((t=>null!=t&&t._motionQueueEntryHandle==e))}setEventCallback(e,t=null){this._eventCallBack=e,this._eventCustomData=t}doUpdateMotion(e,t){let r=!1,i=0;for(;i<this._motions.length;){const s=this._motions[i];if(null==s){this._motions.splice(i,1);continue}const n=s._motion;if(null==n){s.release(),this._motions.splice(i,1);continue}n.updateParameters(e,s,t),r=!0;const o=n.getFiredEvent(s.getLastCheckEventSeconds()-s.getStartTime(),t-s.getStartTime());for(let e=0;e<o.length;++e)this._eventCallBack(this,o[e],this._eventCustomData);s.setLastCheckEventSeconds(t),s.isFinished()?(s.release(),this._motions.splice(i,1)):(s.isTriggeredFadeOut()&&s.startFadeOut(s.getFadeOutSeconds(),t),i++)}return r}}const Ji=-1;var Xi=(e=>(e[e.CubismPhysicsTargetType_Parameter=0]="CubismPhysicsTargetType_Parameter",e))(Xi||{}),Yi=(e=>(e[e.CubismPhysicsSource_X=0]="CubismPhysicsSource_X",e[e.CubismPhysicsSource_Y=1]="CubismPhysicsSource_Y",e[e.CubismPhysicsSource_Angle=2]="CubismPhysicsSource_Angle",e))(Yi||{});class qi{constructor(){this.initialPosition=new ii(0,0),this.position=new ii(0,0),this.lastPosition=new ii(0,0),this.lastGravity=new ii(0,0),this.force=new ii(0,0),this.velocity=new ii(0,0)}}class Zi{constructor(){this.normalizationPosition={},this.normalizationAngle={}}}class $i{constructor(){this.source={}}}class es{constructor(){this.destination={},this.translationScale=new ii(0,0)}}class ts{constructor(){this.settings=[],this.inputs=[],this.outputs=[],this.particles=[],this.gravity=new ii(0,0),this.wind=new ii(0,0)}}class rs{constructor(e){this._json=e}release(){this._json=void 0}getGravity(){const e=new ii(0,0);return e.x=this._json.Meta.EffectiveForces.Gravity.X,e.y=this._json.Meta.EffectiveForces.Gravity.Y,e}getWind(){const e=new ii(0,0);return e.x=this._json.Meta.EffectiveForces.Wind.X,e.y=this._json.Meta.EffectiveForces.Wind.Y,e}getSubRigCount(){return this._json.Meta.PhysicsSettingCount}getTotalInputCount(){return this._json.Meta.TotalInputCount}getTotalOutputCount(){return this._json.Meta.TotalOutputCount}getVertexCount(){return this._json.Meta.VertexCount}getNormalizationPositionMinimumValue(e){return this._json.PhysicsSettings[e].Normalization.Position.Minimum}getNormalizationPositionMaximumValue(e){return this._json.PhysicsSettings[e].Normalization.Position.Maximum}getNormalizationPositionDefaultValue(e){return this._json.PhysicsSettings[e].Normalization.Position.Default}getNormalizationAngleMinimumValue(e){return this._json.PhysicsSettings[e].Normalization.Angle.Minimum}getNormalizationAngleMaximumValue(e){return this._json.PhysicsSettings[e].Normalization.Angle.Maximum}getNormalizationAngleDefaultValue(e){return this._json.PhysicsSettings[e].Normalization.Angle.Default}getInputCount(e){return this._json.PhysicsSettings[e].Input.length}getInputWeight(e,t){return this._json.PhysicsSettings[e].Input[t].Weight}getInputReflect(e,t){return this._json.PhysicsSettings[e].Input[t].Reflect}getInputType(e,t){return this._json.PhysicsSettings[e].Input[t].Type}getInputSourceId(e,t){return this._json.PhysicsSettings[e].Input[t].Source.Id}getOutputCount(e){return this._json.PhysicsSettings[e].Output.length}getOutputVertexIndex(e,t){return this._json.PhysicsSettings[e].Output[t].VertexIndex}getOutputAngleScale(e,t){return this._json.PhysicsSettings[e].Output[t].Scale}getOutputWeight(e,t){return this._json.PhysicsSettings[e].Output[t].Weight}getOutputDestinationId(e,t){return this._json.PhysicsSettings[e].Output[t].Destination.Id}getOutputType(e,t){return this._json.PhysicsSettings[e].Output[t].Type}getOutputReflect(e,t){return this._json.PhysicsSettings[e].Output[t].Reflect}getParticleCount(e){return this._json.PhysicsSettings[e].Vertices.length}getParticleMobility(e,t){return this._json.PhysicsSettings[e].Vertices[t].Mobility}getParticleDelay(e,t){return this._json.PhysicsSettings[e].Vertices[t].Delay}getParticleAcceleration(e,t){return this._json.PhysicsSettings[e].Vertices[t].Acceleration}getParticleRadius(e,t){return this._json.PhysicsSettings[e].Vertices[t].Radius}getParticlePosition(e,t){const r=new ii(0,0);return r.x=this._json.PhysicsSettings[e].Vertices[t].Position.X,r.y=this._json.PhysicsSettings[e].Vertices[t].Position.Y,r}}const is="Angle";class ss{static create(e){const t=new ss;return t.parse(e),t._physicsRig.gravity.y=0,t}evaluate(e,t){let r,i,s,n;const o=new ii;let a,l,u,h,c,d,g,p;c=e.getModel().parameters.values,d=e.getModel().parameters.maximumValues,g=e.getModel().parameters.minimumValues,p=e.getModel().parameters.defaultValues;for(let m=0;m<this._physicsRig.subRigCount;++m){r={angle:0},o.x=0,o.y=0,a=this._physicsRig.settings[m],l=this._physicsRig.inputs.slice(a.baseInputIndex),u=this._physicsRig.outputs.slice(a.baseOutputIndex),h=this._physicsRig.particles.slice(a.baseParticleIndex);for(let t=0;t<a.inputCount;++t)i=l[t].weight/100,-1==l[t].sourceParameterIndex&&(l[t].sourceParameterIndex=e.getParameterIndex(l[t].source.id)),l[t].getNormalizedParameterValue(o,r,c[l[t].sourceParameterIndex],g[l[t].sourceParameterIndex],d[l[t].sourceParameterIndex],p[l[t].sourceParameterIndex],a.normalizationPosition,a.normalizationAngle,l[t].reflect,i);s=ni.degreesToRadian(-r.angle),o.x=o.x*ni.cos(s)-o.y*ni.sin(s),o.y=o.x*ni.sin(s)+o.y*ni.cos(s),As(h,a.particleCount,o,r.angle,this._options.wind,.001*a.normalizationPosition.maximum,t,5);for(let t=0;t<a.outputCount;++t){const r=u[t].vertexIndex;if(r<1||r>=a.particleCount)break;-1==u[t].destinationParameterIndex&&(u[t].destinationParameterIndex=e.getParameterIndex(u[t].destination.id));const i=new ii;i.x=h[r].position.x-h[r-1].position.x,i.y=h[r].position.y-h[r-1].position.y,n=u[t].getValue(i,h,r,u[t].reflect,this._options.gravity);const s=u[t].destinationParameterIndex,o=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(c.subarray(s))):c.slice(s);fs(o,g[s],d[s],n,u[t]);for(let e=s,t=0;e<c.length;e++,t++)c[e]=o[t]}}}setOptions(e){this._options=e}getOption(){return this._options}constructor(){this._options=new ns,this._options.gravity.y=-1,this._options.gravity.x=0,this._options.wind.x=0,this._options.wind.y=0}release(){this._physicsRig=void 0}parse(e){this._physicsRig=new ts;let t=new rs(e);this._physicsRig.gravity=t.getGravity(),this._physicsRig.wind=t.getWind(),this._physicsRig.subRigCount=t.getSubRigCount();let r=0,i=0,s=0;for(let n=0;n<this._physicsRig.subRigCount;++n){const e=new Zi;e.normalizationPosition.minimum=t.getNormalizationPositionMinimumValue(n),e.normalizationPosition.maximum=t.getNormalizationPositionMaximumValue(n),e.normalizationPosition.defalut=t.getNormalizationPositionDefaultValue(n),e.normalizationAngle.minimum=t.getNormalizationAngleMinimumValue(n),e.normalizationAngle.maximum=t.getNormalizationAngleMaximumValue(n),e.normalizationAngle.defalut=t.getNormalizationAngleDefaultValue(n),e.inputCount=t.getInputCount(n),e.baseInputIndex=r,r+=e.inputCount;for(let r=0;r<e.inputCount;++r){const e=new $i;switch(e.sourceParameterIndex=-1,e.weight=t.getInputWeight(n,r),e.reflect=t.getInputReflect(n,r),t.getInputType(n,r)){case"X":e.type=Yi.CubismPhysicsSource_X,e.getNormalizedParameterValue=os;break;case"Y":e.type=Yi.CubismPhysicsSource_Y,e.getNormalizedParameterValue=as;break;case is:e.type=Yi.CubismPhysicsSource_Angle,e.getNormalizedParameterValue=ls}e.source.targetType=Xi.CubismPhysicsTargetType_Parameter,e.source.id=t.getInputSourceId(n,r),this._physicsRig.inputs.push(e)}e.outputCount=t.getOutputCount(n),e.baseOutputIndex=i,i+=e.outputCount;for(let r=0;r<e.outputCount;++r){const e=new es;switch(e.destinationParameterIndex=-1,e.vertexIndex=t.getOutputVertexIndex(n,r),e.angleScale=t.getOutputAngleScale(n,r),e.weight=t.getOutputWeight(n,r),e.destination.targetType=Xi.CubismPhysicsTargetType_Parameter,e.destination.id=t.getOutputDestinationId(n,r),t.getOutputType(n,r)){case"X":e.type=Yi.CubismPhysicsSource_X,e.getValue=us,e.getScale=gs;break;case"Y":e.type=Yi.CubismPhysicsSource_Y,e.getValue=hs,e.getScale=ps;break;case is:e.type=Yi.CubismPhysicsSource_Angle,e.getValue=cs,e.getScale=ms}e.reflect=t.getOutputReflect(n,r),this._physicsRig.outputs.push(e)}e.particleCount=t.getParticleCount(n),e.baseParticleIndex=s,s+=e.particleCount;for(let r=0;r<e.particleCount;++r){const e=new qi;e.mobility=t.getParticleMobility(n,r),e.delay=t.getParticleDelay(n,r),e.acceleration=t.getParticleAcceleration(n,r),e.radius=t.getParticleRadius(n,r),e.position=t.getParticlePosition(n,r),this._physicsRig.particles.push(e)}this._physicsRig.settings.push(e)}this.initialize(),t.release()}initialize(){let e,t,r;for(let i=0;i<this._physicsRig.subRigCount;++i){t=this._physicsRig.settings[i],e=this._physicsRig.particles.slice(t.baseParticleIndex),e[0].initialPosition=new ii(0,0),e[0].lastPosition=new ii(e[0].initialPosition.x,e[0].initialPosition.y),e[0].lastGravity=new ii(0,-1),e[0].lastGravity.y*=-1,e[0].velocity=new ii(0,0),e[0].force=new ii(0,0);for(let i=1;i<t.particleCount;++i)r=new ii(0,0),r.y=e[i].radius,e[i].initialPosition=new ii(e[i-1].initialPosition.x+r.x,e[i-1].initialPosition.y+r.y),e[i].position=new ii(e[i].initialPosition.x,e[i].initialPosition.y),e[i].lastPosition=new ii(e[i].initialPosition.x,e[i].initialPosition.y),e[i].lastGravity=new ii(0,-1),e[i].lastGravity.y*=-1,e[i].velocity=new ii(0,0),e[i].force=new ii(0,0)}}}class ns{constructor(){this.gravity=new ii(0,0),this.wind=new ii(0,0)}}function os(e,t,r,i,s,n,o,a,l,u){e.x+=_s(r,i,s,n,o.minimum,o.maximum,o.defalut,l)*u}function as(e,t,r,i,s,n,o,a,l,u){e.y+=_s(r,i,s,n,o.minimum,o.maximum,o.defalut,l)*u}function ls(e,t,r,i,s,n,o,a,l,u){t.angle+=_s(r,i,s,n,a.minimum,a.maximum,a.defalut,l)*u}function us(e,t,r,i,s){let n=e.x;return i&&(n*=-1),n}function hs(e,t,r,i,s){let n=e.y;return i&&(n*=-1),n}function cs(e,t,r,i,s){let n;return s=r>=2?t[r-1].position.substract(t[r-2].position):s.multiplyByScaler(-1),n=ni.directionToRadian(s,e),i&&(n*=-1),n}function ds(e,t){return Math.min(e,t)+function(e,t){return Math.abs(Math.max(e,t)-Math.min(e,t))}(e,t)/2}function gs(e,t){return e.x}function ps(e,t){return e.y}function ms(e,t){return t}function As(e,t,r,i,s,n,o,a){let l,u,h,c,d=new ii(0,0),g=new ii(0,0),p=new ii(0,0),m=new ii(0,0);e[0].position=new ii(r.x,r.y),l=ni.degreesToRadian(i),c=ni.radianToDirection(l),c.normalize();for(let A=1;A<t;++A)e[A].force=c.multiplyByScaler(e[A].acceleration).add(s),e[A].lastPosition=new ii(e[A].position.x,e[A].position.y),u=e[A].delay*o*30,d=e[A].position.substract(e[A-1].position),h=ni.directionToRadian(e[A].lastGravity,c)/a,d.x=ni.cos(h)*d.x-d.y*ni.sin(h),d.y=ni.sin(h)*d.x+d.y*ni.cos(h),e[A].position=e[A-1].position.add(d),g=e[A].velocity.multiplyByScaler(u),p=e[A].force.multiplyByScaler(u).multiplyByScaler(u),e[A].position=e[A].position.add(g).add(p),m=e[A].position.substract(e[A-1].position),m.normalize(),e[A].position=e[A-1].position.add(m.multiplyByScaler(e[A].radius)),ni.abs(e[A].position.x)<n&&(e[A].position.x=0),0!=u&&(e[A].velocity=e[A].position.substract(e[A].lastPosition),e[A].velocity=e[A].velocity.divisionByScalar(u),e[A].velocity=e[A].velocity.multiplyByScaler(e[A].mobility)),e[A].force=new ii(0,0),e[A].lastGravity=new ii(c.x,c.y)}function fs(e,t,r,i,s){let n,o,a;n=s.getScale(s.translationScale,s.angleScale),o=i*n,o<t?(o<s.valueBelowMinimum&&(s.valueBelowMinimum=o),o=t):o>r&&(o>s.valueExceededMaximum&&(s.valueExceededMaximum=o),o=r),a=s.weight/100,a>=1||(o=e[0]*(1-a)+o*a),e[0]=o}function _s(e,t,r,i,s,n,o,a){let l=0;const u=ni.max(r,t);u<e&&(e=u);const h=ni.min(r,t);h>e&&(e=h);const c=ni.min(s,n),d=ni.max(s,n),g=o,p=ds(h,u),m=e-p;switch(Math.sign(m)){case 1:{const e=u-p;0!=e&&(l=m*((d-g)/e),l+=g);break}case-1:{const e=h-p;0!=e&&(l=m*((c-g)/e),l+=g);break}case 0:l=g}return a?l:-1*l}class Es{constructor(e=0,t=0,r=0,i=0){this.x=e,this.y=t,this.width=r,this.height=i}getCenterX(){return this.x+.5*this.width}getCenterY(){return this.y+.5*this.height}getRight(){return this.x+this.width}getBottom(){return this.y+this.height}setRect(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height}expand(e,t){this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t}}let Ts,ys,Cs;class vs{getChannelFlagAsColor(e){return this._channelColors[e]}getMaskRenderTexture(){let e=0;if(this._maskTexture&&0!=this._maskTexture.texture&&(this._maskTexture.frameNo=this._currentFrameNo,e=this._maskTexture.texture),0==e){const t=this._clippingMaskBufferSize;this._colorBuffer=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this._colorBuffer),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,t,t,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),e=this.gl.createFramebuffer(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this._colorBuffer,0),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,Cs),this._maskTexture=new Ss(this._currentFrameNo,e)}return e}setGL(e){this.gl=e}calcClippedDrawTotalBounds(e,t){let r=Number.MAX_VALUE,i=Number.MAX_VALUE,s=Number.MIN_VALUE,n=Number.MIN_VALUE;const o=t._clippedDrawableIndexList.length;for(let a=0;a<o;a++){const o=t._clippedDrawableIndexList[a],l=e.getDrawableVertexCount(o),u=e.getDrawableVertices(o);let h=Number.MAX_VALUE,c=Number.MAX_VALUE,d=Number.MIN_VALUE,g=Number.MIN_VALUE;const p=l*pi;for(let e=gi;e<p;e+=pi){const t=u[e],r=u[e+1];t<h&&(h=t),t>d&&(d=t),r<c&&(c=r),r>g&&(g=r)}if(h!=Number.MAX_VALUE)if(h<r&&(r=h),c<i&&(i=c),d>s&&(s=d),g>n&&(n=g),r==Number.MAX_VALUE)t._allClippedDrawRect.x=0,t._allClippedDrawRect.y=0,t._allClippedDrawRect.width=0,t._allClippedDrawRect.height=0,t._isUsing=!1;else{t._isUsing=!0;const e=s-r,o=n-i;t._allClippedDrawRect.x=r,t._allClippedDrawRect.y=i,t._allClippedDrawRect.width=e,t._allClippedDrawRect.height=o}}}constructor(){this._maskRenderTexture=null,this._colorBuffer=null,this._currentFrameNo=0,this._clippingMaskBufferSize=256,this._clippingContextListForMask=[],this._clippingContextListForDraw=[],this._channelColors=[],this._tmpBoundsOnModel=new Es,this._tmpMatrix=new oi,this._tmpMatrixForMask=new oi,this._tmpMatrixForDraw=new oi;let e=new ui;e.R=1,e.G=0,e.B=0,e.A=0,this._channelColors.push(e),e=new ui,e.R=0,e.G=1,e.B=0,e.A=0,this._channelColors.push(e),e=new ui,e.R=0,e.G=0,e.B=1,e.A=0,this._channelColors.push(e),e=new ui,e.R=0,e.G=0,e.B=0,e.A=1,this._channelColors.push(e)}release(){var e,t,r;const i=this;for(let s=0;s<this._clippingContextListForMask.length;s++)this._clippingContextListForMask[s]&&(null==(e=this._clippingContextListForMask[s])||e.release());i._clippingContextListForMask=void 0,i._clippingContextListForDraw=void 0,this._maskTexture&&(null==(t=this.gl)||t.deleteFramebuffer(this._maskTexture.texture),i._maskTexture=void 0),i._channelColors=void 0,null==(r=this.gl)||r.deleteTexture(this._colorBuffer),this._colorBuffer=null}initialize(e,t,r,i){for(let s=0;s<t;s++){if(i[s]<=0){this._clippingContextListForDraw.push(null);continue}let e=this.findSameClip(r[s],i[s]);null==e&&(e=new xs(this,r[s],i[s]),this._clippingContextListForMask.push(e)),e.addClippedDrawable(s),this._clippingContextListForDraw.push(e)}}setupClippingContext(e,t){this._currentFrameNo++;let r=0;for(let i=0;i<this._clippingContextListForMask.length;i++){const t=this._clippingContextListForMask[i];this.calcClippedDrawTotalBounds(e,t),t._isUsing&&r++}if(r>0){this.gl.viewport(0,0,this._clippingMaskBufferSize,this._clippingMaskBufferSize),this._maskRenderTexture=this.getMaskRenderTexture(),t.getMvpMatrix(),t.preDraw(),this.setupLayoutBounds(r),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._maskRenderTexture),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(let r=0;r<this._clippingContextListForMask.length;r++){const i=this._clippingContextListForMask[r],s=i._allClippedDrawRect,n=i._layoutBounds,o=.05;this._tmpBoundsOnModel.setRect(s),this._tmpBoundsOnModel.expand(s.width*o,s.height*o);const a=n.width/this._tmpBoundsOnModel.width,l=n.height/this._tmpBoundsOnModel.height;this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(n.x,n.y),this._tmpMatrix.scaleRelative(a,l),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(n.x,n.y),this._tmpMatrix.scaleRelative(a,l),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray()),i._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),i._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());const u=i._clippingIdCount;for(let r=0;r<u;r++){const s=i._clippingIdList[r];e.getDrawableDynamicFlagVertexPositionsDidChange(s)&&(t.setIsCulling(0!=e.getDrawableCulling(s)),t.setClippingContextBufferForMask(i),t.drawMesh(e.getDrawableTextureIndices(s),e.getDrawableVertexIndexCount(s),e.getDrawableVertexCount(s),e.getDrawableVertexIndices(s),e.getDrawableVertices(s),e.getDrawableVertexUvs(s),e.getDrawableOpacity(s),li.CubismBlendMode_Normal,!1))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,Cs),t.setClippingContextBufferForMask(null),this.gl.viewport(ys[0],ys[1],ys[2],ys[3])}}findSameClip(e,t){for(let r=0;r<this._clippingContextListForMask.length;r++){const i=this._clippingContextListForMask[r],s=i._clippingIdCount;if(s!=t)continue;let n=0;for(let t=0;t<s;t++){const r=i._clippingIdList[t];for(let t=0;t<s;t++)if(e[t]==r){n++;break}}if(n==s)return i}return null}setupLayoutBounds(e){let t=e/4,r=e%4;t=~~t,r=~~r;let i=0;for(let s=0;s<4;s++){const e=t+(s<r?1:0);if(0==e);else if(1==e){const e=this._clippingContextListForMask[i++];e._layoutChannelNo=s,e._layoutBounds.x=0,e._layoutBounds.y=0,e._layoutBounds.width=1,e._layoutBounds.height=1}else if(2==e)for(let t=0;t<e;t++){let e=t%2;e=~~e;const r=this._clippingContextListForMask[i++];r._layoutChannelNo=s,r._layoutBounds.x=.5*e,r._layoutBounds.y=0,r._layoutBounds.width=.5,r._layoutBounds.height=1}else if(e<=4)for(let t=0;t<e;t++){let e=t%2,r=t/2;e=~~e,r=~~r;const n=this._clippingContextListForMask[i++];n._layoutChannelNo=s,n._layoutBounds.x=.5*e,n._layoutBounds.y=.5*r,n._layoutBounds.width=.5,n._layoutBounds.height=.5}else if(e<=9)for(let t=0;t<e;t++){let e=t%3,r=t/3;e=~~e,r=~~r;const n=this._clippingContextListForMask[i++];n._layoutChannelNo=s,n._layoutBounds.x=e/3,n._layoutBounds.y=r/3,n._layoutBounds.width=1/3,n._layoutBounds.height=1/3}else if(wi.supportMoreMaskDivisions&&e<=16)for(let t=0;t<e;t++){let e=t%4,r=t/4;e=~~e,r=~~r;const n=this._clippingContextListForMask[i++];n._layoutChannelNo=s,n._layoutBounds.x=e/4,n._layoutBounds.y=r/4,n._layoutBounds.width=1/4,n._layoutBounds.height=1/4}else Ti("not supported mask count : {0}",e)}}getColorBuffer(){return this._colorBuffer}getClippingContextListForDraw(){return this._clippingContextListForDraw}setClippingMaskBufferSize(e){this._clippingMaskBufferSize=e}getClippingMaskBufferSize(){return this._clippingMaskBufferSize}}class Ss{constructor(e,t){this.frameNo=e,this.texture=t}}class xs{constructor(e,t,r){this._isUsing=!1,this._owner=e,this._clippingIdList=t,this._clippingIdCount=r,this._allClippedDrawRect=new Es,this._layoutBounds=new Es,this._clippedDrawableIndexList=[],this._matrixForMask=new oi,this._matrixForDraw=new oi}release(){const e=this;e._layoutBounds=void 0,e._allClippedDrawRect=void 0,e._clippedDrawableIndexList=void 0}addClippedDrawable(e){this._clippedDrawableIndexList.push(e)}getClippingManager(){return this._owner}setGl(e){this._owner.setGL(e)}}class ws{static getInstance(){return null==Ts?(Ts=new ws,Ts):Ts}static deleteInstance(){Ts&&(Ts.release(),Ts=void 0)}constructor(){this._shaderSets=[]}release(){this.releaseShaderProgram()}setupShaderProgram(e,t,r,i,s,n,o,a,l,u,h,c,d){let g,p,m,A;h||Ti("NoPremultipliedAlpha is not allowed"),0==this._shaderSets.length&&this.generateShaders();const f=e.getClippingContextBufferForMask();if(null!=f){const e=this._shaderSets[bs.ShaderNames_SetupMask];this.gl.useProgram(e.shaderProgram),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.uniform1i(e.samplerTexture0Location,0),null==o.vertex&&(o.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(e.attributePositionLocation),this.gl.vertexAttribPointer(e.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),null==o.uv&&(o.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,n,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(e.attributeTexCoordLocation),this.gl.vertexAttribPointer(e.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0);const r=f._layoutChannelNo,s=f.getClippingManager().getChannelFlagAsColor(r);this.gl.uniform4f(e.uniformChannelFlagLocation,s.R,s.G,s.B,s.A),this.gl.uniformMatrix4fv(e.uniformClipMatrixLocation,!1,f._matrixForMask.getArray());const a=f._layoutBounds;this.gl.uniform4f(e.uniformBaseColorLocation,2*a.x-1,2*a.y-1,2*a.getRight()-1,2*a.getBottom()-1),g=this.gl.ZERO,p=this.gl.ONE_MINUS_SRC_COLOR,m=this.gl.ZERO,A=this.gl.ONE_MINUS_SRC_ALPHA}else{const r=e.getClippingContextBufferForDraw(),s=null!=r?d?2:1:0;let a;switch(l){case li.CubismBlendMode_Normal:default:a=this._shaderSets[bs.ShaderNames_NormalPremultipliedAlpha+s],g=this.gl.ONE,p=this.gl.ONE_MINUS_SRC_ALPHA,m=this.gl.ONE,A=this.gl.ONE_MINUS_SRC_ALPHA;break;case li.CubismBlendMode_Additive:a=this._shaderSets[bs.ShaderNames_AddPremultipliedAlpha+s],g=this.gl.ONE,p=this.gl.ONE,m=this.gl.ZERO,A=this.gl.ONE;break;case li.CubismBlendMode_Multiplicative:a=this._shaderSets[bs.ShaderNames_MultPremultipliedAlpha+s],g=this.gl.DST_COLOR,p=this.gl.ONE_MINUS_SRC_ALPHA,m=this.gl.ZERO,A=this.gl.ONE}if(this.gl.useProgram(a.shaderProgram),null==o.vertex&&(o.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(a.attributePositionLocation),this.gl.vertexAttribPointer(a.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),null==o.uv&&(o.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,n,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(a.attributeTexCoordLocation),this.gl.vertexAttribPointer(a.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),null!=r){this.gl.activeTexture(this.gl.TEXTURE1);const e=r.getClippingManager().getColorBuffer();this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.uniform1i(a.samplerTexture1Location,1),this.gl.uniformMatrix4fv(a.uniformClipMatrixLocation,!1,r._matrixForDraw.getArray());const t=r._layoutChannelNo,i=r.getClippingManager().getChannelFlagAsColor(t);this.gl.uniform4f(a.uniformChannelFlagLocation,i.R,i.G,i.B,i.A)}this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.uniform1i(a.samplerTexture0Location,0),this.gl.uniformMatrix4fv(a.uniformMatrixLocation,!1,c.getArray()),this.gl.uniform4f(a.uniformBaseColorLocation,u.R,u.G,u.B,u.A)}null==o.index&&(o.index=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,o.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,s,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(g,p,m,A)}releaseShaderProgram(){for(let e=0;e<this._shaderSets.length;e++)this.gl.deleteProgram(this._shaderSets[e].shaderProgram),this._shaderSets[e].shaderProgram=0;this._shaderSets=[]}generateShaders(){for(let e=0;e<10;e++)this._shaderSets.push({});this._shaderSets[0].shaderProgram=this.loadShaderProgram(Ms,Ps),this._shaderSets[1].shaderProgram=this.loadShaderProgram(Rs,Is),this._shaderSets[2].shaderProgram=this.loadShaderProgram(Os,Ls),this._shaderSets[3].shaderProgram=this.loadShaderProgram(Os,Bs),this._shaderSets[4].shaderProgram=this._shaderSets[1].shaderProgram,this._shaderSets[5].shaderProgram=this._shaderSets[2].shaderProgram,this._shaderSets[6].shaderProgram=this._shaderSets[3].shaderProgram,this._shaderSets[7].shaderProgram=this._shaderSets[1].shaderProgram,this._shaderSets[8].shaderProgram=this._shaderSets[2].shaderProgram,this._shaderSets[9].shaderProgram=this._shaderSets[3].shaderProgram,this._shaderSets[0].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[0].shaderProgram,"a_position"),this._shaderSets[0].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[0].shaderProgram,"a_texCoord"),this._shaderSets[0].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"s_texture0"),this._shaderSets[0].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_clipMatrix"),this._shaderSets[0].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_channelFlag"),this._shaderSets[0].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_baseColor"),this._shaderSets[1].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[1].shaderProgram,"a_position"),this._shaderSets[1].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[1].shaderProgram,"a_texCoord"),this._shaderSets[1].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"s_texture0"),this._shaderSets[1].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_matrix"),this._shaderSets[1].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_baseColor"),this._shaderSets[2].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[2].shaderProgram,"a_position"),this._shaderSets[2].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[2].shaderProgram,"a_texCoord"),this._shaderSets[2].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"s_texture0"),this._shaderSets[2].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"s_texture1"),this._shaderSets[2].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_matrix"),this._shaderSets[2].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_clipMatrix"),this._shaderSets[2].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_channelFlag"),this._shaderSets[2].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_baseColor"),this._shaderSets[3].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[3].shaderProgram,"a_position"),this._shaderSets[3].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[3].shaderProgram,"a_texCoord"),this._shaderSets[3].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"s_texture0"),this._shaderSets[3].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"s_texture1"),this._shaderSets[3].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_matrix"),this._shaderSets[3].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_clipMatrix"),this._shaderSets[3].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_channelFlag"),this._shaderSets[3].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_baseColor"),this._shaderSets[4].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[4].shaderProgram,"a_position"),this._shaderSets[4].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[4].shaderProgram,"a_texCoord"),this._shaderSets[4].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"s_texture0"),this._shaderSets[4].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_matrix"),this._shaderSets[4].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_baseColor"),this._shaderSets[5].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[5].shaderProgram,"a_position"),this._shaderSets[5].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[5].shaderProgram,"a_texCoord"),this._shaderSets[5].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"s_texture0"),this._shaderSets[5].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"s_texture1"),this._shaderSets[5].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_matrix"),this._shaderSets[5].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_clipMatrix"),this._shaderSets[5].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_channelFlag"),this._shaderSets[5].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_baseColor"),this._shaderSets[6].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[6].shaderProgram,"a_position"),this._shaderSets[6].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[6].shaderProgram,"a_texCoord"),this._shaderSets[6].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"s_texture0"),this._shaderSets[6].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"s_texture1"),this._shaderSets[6].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_matrix"),this._shaderSets[6].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_clipMatrix"),this._shaderSets[6].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_channelFlag"),this._shaderSets[6].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_baseColor"),this._shaderSets[7].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[7].shaderProgram,"a_position"),this._shaderSets[7].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[7].shaderProgram,"a_texCoord"),this._shaderSets[7].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"s_texture0"),this._shaderSets[7].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_matrix"),this._shaderSets[7].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_baseColor"),this._shaderSets[8].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[8].shaderProgram,"a_position"),this._shaderSets[8].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[8].shaderProgram,"a_texCoord"),this._shaderSets[8].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"s_texture0"),this._shaderSets[8].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"s_texture1"),this._shaderSets[8].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_matrix"),this._shaderSets[8].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_clipMatrix"),this._shaderSets[8].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_channelFlag"),this._shaderSets[8].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_baseColor"),this._shaderSets[9].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[9].shaderProgram,"a_position"),this._shaderSets[9].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[9].shaderProgram,"a_texCoord"),this._shaderSets[9].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"s_texture0"),this._shaderSets[9].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"s_texture1"),this._shaderSets[9].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_matrix"),this._shaderSets[9].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_clipMatrix"),this._shaderSets[9].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_channelFlag"),this._shaderSets[9].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_baseColor")}loadShaderProgram(e,t){let r=this.gl.createProgram(),i=this.compileShaderSource(this.gl.VERTEX_SHADER,e);if(!i)return Ti("Vertex shader compile error!"),0;let s=this.compileShaderSource(this.gl.FRAGMENT_SHADER,t);if(!s)return Ti("Vertex shader compile error!"),0;this.gl.attachShader(r,i),this.gl.attachShader(r,s),this.gl.linkProgram(r);return this.gl.getProgramParameter(r,this.gl.LINK_STATUS)?(this.gl.deleteShader(i),this.gl.deleteShader(s),r):(Ti("Failed to link program: {0}",r),this.gl.deleteShader(i),this.gl.deleteShader(s),r&&this.gl.deleteProgram(r),0)}compileShaderSource(e,t){const r=t,i=this.gl.createShader(e);if(this.gl.shaderSource(i,r),this.gl.compileShader(i),!i){Ti("Shader compile log: {0} ",this.gl.getShaderInfoLog(i))}return this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(this.gl.deleteShader(i),null)}setGl(e){this.gl=e}}var bs=(e=>(e[e.ShaderNames_SetupMask=0]="ShaderNames_SetupMask",e[e.ShaderNames_NormalPremultipliedAlpha=1]="ShaderNames_NormalPremultipliedAlpha",e[e.ShaderNames_NormalMaskedPremultipliedAlpha=2]="ShaderNames_NormalMaskedPremultipliedAlpha",e[e.ShaderNames_NomralMaskedInvertedPremultipliedAlpha=3]="ShaderNames_NomralMaskedInvertedPremultipliedAlpha",e[e.ShaderNames_AddPremultipliedAlpha=4]="ShaderNames_AddPremultipliedAlpha",e[e.ShaderNames_AddMaskedPremultipliedAlpha=5]="ShaderNames_AddMaskedPremultipliedAlpha",e[e.ShaderNames_AddMaskedPremultipliedAlphaInverted=6]="ShaderNames_AddMaskedPremultipliedAlphaInverted",e[e.ShaderNames_MultPremultipliedAlpha=7]="ShaderNames_MultPremultipliedAlpha",e[e.ShaderNames_MultMaskedPremultipliedAlpha=8]="ShaderNames_MultMaskedPremultipliedAlpha",e[e.ShaderNames_MultMaskedPremultipliedAlphaInverted=9]="ShaderNames_MultMaskedPremultipliedAlphaInverted",e))(bs||{});const Ms="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_myPos;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_clipMatrix * a_position;   v_myPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",Ps="precision mediump float;varying vec2       v_texCoord;varying vec4       v_myPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;void main(){   float isInside =        step(u_baseColor.x, v_myPos.x/v_myPos.w)       * step(u_baseColor.y, v_myPos.y/v_myPos.w)       * step(v_myPos.x/v_myPos.w, u_baseColor.z)       * step(v_myPos.y/v_myPos.w, u_baseColor.w);   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;}",Rs="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;uniform mat4       u_matrix;void main(){   gl_Position = u_matrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",Os="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform mat4       u_matrix;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_matrix * a_position;   v_clipPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",Is="precision mediump float;varying vec2       v_texCoord;uniform vec4       u_baseColor;uniform sampler2D  s_texture0;void main(){   gl_FragColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;}",Ls="precision mediump float;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;void main(){   vec4 col_formask = texture2D(s_texture0 , v_texCoord) * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * maskVal;   gl_FragColor = col_formask;}",Bs="precision mediump float;varying vec2 v_texCoord;varying vec4 v_clipPos;uniform sampler2D s_texture0;uniform sampler2D s_texture1;uniform vec4 u_channelFlag;uniform vec4 u_baseColor;void main(){vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;col_formask = col_formask * (1.0 - maskVal);gl_FragColor = col_formask;}";class Ds extends ai{constructor(){super(),this._clippingContextBufferForMask=null,this._clippingContextBufferForDraw=null,this._clippingManager=new vs,this.firstDraw=!0,this._textures={},this._sortedDrawableIndexList=[],this._bufferData={vertex:null,uv:null,index:null}}initialize(e){e.isUsingMasking()&&(this._clippingManager=new vs,this._clippingManager.initialize(e,e.getDrawableCount(),e.getDrawableMasks(),e.getDrawableMaskCounts()));for(let t=e.getDrawableCount()-1;t>=0;t--)this._sortedDrawableIndexList[t]=0;super.initialize(e)}bindTexture(e,t){this._textures[e]=t}getBindedTextures(){return this._textures}setClippingMaskBufferSize(e){this._clippingManager.release(),this._clippingManager=new vs,this._clippingManager.setClippingMaskBufferSize(e),this._clippingManager.initialize(this.getModel(),this.getModel().getDrawableCount(),this.getModel().getDrawableMasks(),this.getModel().getDrawableMaskCounts())}getClippingMaskBufferSize(){return this._clippingManager.getClippingMaskBufferSize()}release(){var e,t,r;const i=this;this._clippingManager.release(),i._clippingManager=void 0,null==(e=this.gl)||e.deleteBuffer(this._bufferData.vertex),this._bufferData.vertex=null,null==(t=this.gl)||t.deleteBuffer(this._bufferData.uv),this._bufferData.uv=null,null==(r=this.gl)||r.deleteBuffer(this._bufferData.index),this._bufferData.index=null,i._bufferData=void 0,i._textures=void 0}doDrawModel(){this.preDraw(),null!=this._clippingManager&&this._clippingManager.setupClippingContext(this.getModel(),this);const e=this.getModel().getDrawableCount(),t=this.getModel().getDrawableRenderOrders();for(let r=0;r<e;++r){const e=t[r];this._sortedDrawableIndexList[e]=r}for(let r=0;r<e;++r){const e=this._sortedDrawableIndexList[r];this.getModel().getDrawableDynamicFlagIsVisible(e)&&(this.setClippingContextBufferForDraw(null!=this._clippingManager?this._clippingManager.getClippingContextListForDraw()[e]:null),this.setIsCulling(this.getModel().getDrawableCulling(e)),this.drawMesh(this.getModel().getDrawableTextureIndices(e),this.getModel().getDrawableVertexIndexCount(e),this.getModel().getDrawableVertexCount(e),this.getModel().getDrawableVertexIndices(e),this.getModel().getDrawableVertices(e),this.getModel().getDrawableVertexUvs(e),this.getModel().getDrawableOpacity(e),this.getModel().getDrawableBlendMode(e),this.getModel().getDrawableInvertedMaskBit(e)))}}drawMesh(e,t,r,i,s,n,o,a,l){this.isCulling()?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.gl.frontFace(this.gl.CCW);const u=this.getModelColor();null==this.getClippingContextBufferForMask()&&(u.A*=o,this.isPremultipliedAlpha()&&(u.R*=u.A,u.G*=u.A,u.B*=u.A));let h=null;null!=this._textures[e]&&(h=this._textures[e]),ws.getInstance().setupShaderProgram(this,h,r,s,i,n,this._bufferData,o,a,u,this.isPremultipliedAlpha(),this.getMvpMatrix(),l),this.gl.drawElements(this.gl.TRIANGLES,t,this.gl.UNSIGNED_SHORT,0),this.gl.useProgram(null),this.setClippingContextBufferForDraw(null),this.setClippingContextBufferForMask(null)}static doStaticRelease(){ws.deleteInstance()}setRenderState(e,t){Cs=e,ys=t}preDraw(){this.firstDraw&&(this.firstDraw=!1,this._anisortopy=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")),this.gl.disable(this.gl.SCISSOR_TEST),this.gl.disable(this.gl.STENCIL_TEST),this.gl.disable(this.gl.DEPTH_TEST),this.gl.frontFace(this.gl.CW),this.gl.enable(this.gl.BLEND),this.gl.colorMask(!0,!0,!0,!0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null)}setClippingContextBufferForMask(e){this._clippingContextBufferForMask=e}getClippingContextBufferForMask(){return this._clippingContextBufferForMask}setClippingContextBufferForDraw(e){this._clippingContextBufferForDraw=e}getClippingContextBufferForDraw(){return this._clippingContextBufferForDraw}startUp(e){this.gl=e,this._clippingManager.setGL(e),ws.getInstance().setGl(e)}}ai.staticRelease=()=>{Ds.doStaticRelease()};class Fs{constructor(e){this.groups=e.Groups,this.hitAreas=e.HitAreas,this.layout=e.Layout,this.moc=e.FileReferences.Moc,this.expressions=e.FileReferences.Expressions,this.motions=e.FileReferences.Motions,this.textures=e.FileReferences.Textures,this.physics=e.FileReferences.Physics,this.pose=e.FileReferences.Pose}getEyeBlinkParameters(){var e,t;return null==(t=null==(e=this.groups)?void 0:e.find((e=>"EyeBlink"===e.Name)))?void 0:t.Ids}getLipSyncParameters(){var e,t;return null==(t=null==(e=this.groups)?void 0:e.find((e=>"LipSync"===e.Name)))?void 0:t.Ids}}var Ns,Us;(Us=Ns||(Ns={})).LOG_LEVEL_VERBOSE=0,Us.LOG_LEVEL_WARNING=1,Us.LOG_LEVEL_ERROR=2,Us.LOG_LEVEL_NONE=999,Us.logLevel=Us.LOG_LEVEL_WARNING,Us.sound=!0,Us.motionSync=!0,Us.motionFadingDuration=500,Us.idleMotionFadingDuration=2e3,Us.expressionFadingDuration=500,Us.preserveExpressionOnMotion=!0,Us.cubism4=wi;const ks={log(e,...t){Ns.logLevel,Ns.LOG_LEVEL_VERBOSE},warn(e,...t){Ns.logLevel,Ns.LOG_LEVEL_WARNING},error(e,...t){Ns.logLevel,Ns.LOG_LEVEL_ERROR}};function Vs(e,t,r){return e<t?t:e>r?r:e}function js(e,t){t.forEach((t=>{Object.getOwnPropertyNames(t.prototype).forEach((r=>{"constructor"!==r&&Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r))}))}))}class Gs extends S{constructor(e,t){super(),this.expressions=[],this.reserveExpressionIndex=-1,this.destroyed=!1,this.settings=e,this.tag=`ExpressionManager(${e.name})`}init(){this.defaultExpression=this.createExpression({},void 0),this.currentExpression=this.defaultExpression,this.stopAllExpressions()}loadExpression(e){return Xr(this,null,(function*(){if(!this.definitions[e])return void ks.warn(this.tag,`Undefined expression at [${e}]`);if(null===this.expressions[e])return void ks.warn(this.tag,`Cannot set expression at [${e}] because it's already failed in loading.`);if(this.expressions[e])return this.expressions[e];const t=yield this._loadExpression(e);return this.expressions[e]=t,t}))}_loadExpression(e){throw new Error("Not implemented.")}setRandomExpression(){return Xr(this,null,(function*(){if(this.definitions.length){const e=[];for(let t=0;t<this.definitions.length;t++)null!==this.expressions[t]&&this.expressions[t]!==this.currentExpression&&t!==this.reserveExpressionIndex&&e.push(t);if(e.length){const t=Math.floor(Math.random()*e.length);return this.setExpression(t)}}return!1}))}resetExpression(){this._setExpression(this.defaultExpression)}restoreExpression(){this._setExpression(this.currentExpression)}setExpression(e){return Xr(this,null,(function*(){if("number"!=typeof e&&(e=this.getExpressionIndex(e)),!(e>-1&&e<this.definitions.length))return!1;if(e===this.expressions.indexOf(this.currentExpression))return!1;this.reserveExpressionIndex=e;const t=yield this.loadExpression(e);return!(!t||this.reserveExpressionIndex!==e)&&(this.reserveExpressionIndex=-1,this.currentExpression=t,this._setExpression(t),!0)}))}update(e,t){return!this.isFinished()&&this.updateParameters(e,t)}destroy(){this.destroyed=!0,this.emit("destroy");this.definitions=void 0,this.expressions=void 0}}const Ks=40/7.5,Qs=1/150;class zs{constructor(){this.targetX=0,this.targetY=0,this.x=0,this.y=0,this.vx=0,this.vy=0}focus(e,t,r=!1){this.targetX=Vs(e,-1,1),this.targetY=Vs(t,-1,1),r&&(this.x=this.targetX,this.y=this.targetY)}update(e){const t=this.targetX-this.x,r=this.targetY-this.y;if(Math.abs(t)<.01&&Math.abs(r)<.01)return;const i=Math.sqrt(Jr(t,2)+Jr(r,2)),s=Ks/(1e3/e);let n=s*(t/i)-this.vx,o=s*(r/i)-this.vy;const a=Math.sqrt(Jr(n,2)+Jr(o,2)),l=s*Qs*e;a>l&&(n*=l/a,o*=l/a),this.vx+=n,this.vy+=o;const u=Math.sqrt(Jr(this.vx,2)+Jr(this.vy,2)),h=.5*(Math.sqrt(Jr(l,2)+8*l*i)-l);u>h&&(this.vx*=h/u,this.vy*=h/u),this.x+=this.vx,this.y+=this.vy}}class Hs{constructor(e){this.json=e;let t=e.url;if("string"!=typeof t)throw new TypeError("The `url` field in settings JSON must be defined as a string.");this.url=t,this.name=function(e){let t=e.lastIndexOf("/");return-1!=t&&(e=e.slice(0,t)),t=e.lastIndexOf("/"),-1!==t&&(e=e.slice(t+1)),e}(this.url)}resolveURL(e){return v.resolve(this.url,e)}replaceFiles(e){this.moc=e(this.moc,"moc"),void 0!==this.pose&&(this.pose=e(this.pose,"pose")),void 0!==this.physics&&(this.physics=e(this.physics,"physics"));for(let t=0;t<this.textures.length;t++)this.textures[t]=e(this.textures[t],`textures[${t}]`)}getDefinedFiles(){const e=[];return this.replaceFiles((t=>(e.push(t),t))),e}validateFiles(e){const t=(t,r)=>{const i=this.resolveURL(t);if(!e.includes(i)){if(r)throw new Error(`File "${t}" is defined in settings, but doesn't exist in given files`);return!1}return!0};[this.moc,...this.textures].forEach((e=>t(e,!0)));return this.getDefinedFiles().filter((e=>t(e,!1)))}}var Ws=(e=>(e[e.NONE=0]="NONE",e[e.IDLE=1]="IDLE",e[e.NORMAL=2]="NORMAL",e[e.FORCE=3]="FORCE",e))(Ws||{});class Js{constructor(){this.debug=!1,this.currentPriority=0,this.reservePriority=0}reserve(e,t,r){if(r<=0)return ks.log(this.tag,"Cannot start a motion with MotionPriority.NONE."),!1;if(e===this.currentGroup&&t===this.currentIndex)return ks.log(this.tag,"Motion is already playing.",this.dump(e,t)),!1;if(e===this.reservedGroup&&t===this.reservedIndex||e===this.reservedIdleGroup&&t===this.reservedIdleIndex)return ks.log(this.tag,"Motion is already reserved.",this.dump(e,t)),!1;if(1===r){if(0!==this.currentPriority)return ks.log(this.tag,"Cannot start idle motion because another motion is playing.",this.dump(e,t)),!1;if(void 0!==this.reservedIdleGroup)return ks.log(this.tag,"Cannot start idle motion because another idle motion has reserved.",this.dump(e,t)),!1;this.setReservedIdle(e,t)}else{if(r<3){if(r<=this.currentPriority)return ks.log(this.tag,"Cannot start motion because another motion is playing as an equivalent or higher priority.",this.dump(e,t)),!1;if(r<=this.reservePriority)return ks.log(this.tag,"Cannot start motion because another motion has reserved as an equivalent or higher priority.",this.dump(e,t)),!1}this.setReserved(e,t,r)}return!0}start(e,t,r,i){if(1===i){if(this.setReservedIdle(void 0,void 0),0!==this.currentPriority)return ks.log(this.tag,"Cannot start idle motion because another motion is playing.",this.dump(t,r)),!1}else{if(t!==this.reservedGroup||r!==this.reservedIndex)return ks.log(this.tag,"Cannot start motion because another motion has taken the place.",this.dump(t,r)),!1;this.setReserved(void 0,void 0,0)}return!!e&&(this.setCurrent(t,r,i),!0)}complete(){this.setCurrent(void 0,void 0,0)}setCurrent(e,t,r){this.currentPriority=r,this.currentGroup=e,this.currentIndex=t}setReserved(e,t,r){this.reservePriority=r,this.reservedGroup=e,this.reservedIndex=t}setReservedIdle(e,t){this.reservedIdleGroup=e,this.reservedIdleIndex=t}isActive(e,t){return e===this.currentGroup&&t===this.currentIndex||e===this.reservedGroup&&t===this.reservedIndex||e===this.reservedIdleGroup&&t===this.reservedIdleIndex}reset(){this.setCurrent(void 0,void 0,0),this.setReserved(void 0,void 0,0),this.setReservedIdle(void 0,void 0)}shouldRequestIdleMotion(){return void 0===this.currentGroup&&void 0===this.reservedIdleGroup}shouldOverrideExpression(){return!Ns.preserveExpressionOnMotion&&this.currentPriority>1}dump(e,t){if(this.debug){return`\n<Requested> group = "${e}", index = ${t}\n`+["currentPriority","reservePriority","currentGroup","currentIndex","reservedGroup","reservedIndex","reservedIdleGroup","reservedIdleIndex"].map((e=>"["+e+"] "+this[e])).join("\n")}return""}}class Xs{static get volume(){return this._volume}static set volume(e){this._volume=(e>1?1:e<0?0:e)||0,this.audios.forEach((e=>e.volume=this._volume))}static add(e,t,r){const i=new Audio(e);return i.volume=this._volume,i.preload="auto",i.addEventListener("ended",(()=>{this.dispose(i),null==t||t()})),i.addEventListener("error",(t=>{this.dispose(i),ks.warn("SoundManager",`Error occurred on "${e}"`,t.error),null==r||r(t.error)})),this.audios.push(i),i}static play(e){return new Promise(((t,r)=>{var i;null==(i=e.play())||i.catch((t=>{e.dispatchEvent(new ErrorEvent("error",{error:t})),r(t)})),e.readyState===e.HAVE_ENOUGH_DATA?t():e.addEventListener("canplaythrough",t)}))}static dispose(e){e.pause(),e.removeAttribute("src"),function(e,t){const r=e.indexOf(t);-1!==r&&e.splice(r,1)}(this.audios,e)}static destroy(){for(let e=this.audios.length-1;e>=0;e--)this.dispose(this.audios[e])}}Xs.audios=[],Xs._volume=.5;class Ys extends S{constructor(e,t){super(),this.motionGroups={},this.state=new Js,this.playing=!1,this.destroyed=!1,this.settings=e,this.tag=`MotionManager(${e.name})`,this.state.tag=this.tag}init(e){(null==e?void 0:e.idleMotionGroup)&&(this.groups.idle=e.idleMotionGroup),this.setupMotions(e),this.stopAllMotions()}setupMotions(e){for(const r of Object.keys(this.definitions))this.motionGroups[r]=[];let t;switch(null==e?void 0:e.motionPreload){case"NONE":return;case"ALL":t=Object.keys(this.definitions);break;default:t=[this.groups.idle]}for(const r of t)if(this.definitions[r])for(let e=0;e<this.definitions[r].length;e++)this.loadMotion(r,e).then()}loadMotion(e,t){return Xr(this,null,(function*(){var r;if(!(null==(r=this.definitions[e])?void 0:r[t]))return void ks.warn(this.tag,`Undefined motion at "${e}"[${t}]`);if(null===this.motionGroups[e][t])return void ks.warn(this.tag,`Cannot start motion at "${e}"[${t}] because it's already failed in loading.`);if(this.motionGroups[e][t])return this.motionGroups[e][t];const i=yield this._loadMotion(e,t);return this.destroyed?void 0:(this.motionGroups[e][t]=null!=i?i:null,i)}))}_loadMotion(e,t){throw new Error("Not implemented.")}startMotion(e,t){return Xr(this,arguments,(function*(e,t,r=Ws.NORMAL){var i;if(!this.state.reserve(e,t,r))return!1;const s=null==(i=this.definitions[e])?void 0:i[t];if(!s)return!1;let n;if(this.currentAudio&&Xs.dispose(this.currentAudio),Ns.sound){const e=this.getSoundFile(s);if(e)try{n=Xs.add(this.settings.resolveURL(e),(()=>this.currentAudio=void 0),(()=>this.currentAudio=void 0)),this.currentAudio=n}catch(a){ks.warn(this.tag,"Failed to create audio",e,a)}}const o=yield this.loadMotion(e,t);if(n){const e=Xs.play(n).catch((e=>ks.warn(this.tag,"Failed to play audio",n.src,e)));Ns.motionSync&&(yield e)}return this.state.start(o,e,t,r)?(ks.log(this.tag,"Start motion:",this.getMotionName(s)),this.emit("motionStart",e,t,n),this.state.shouldOverrideExpression()&&this.expressionManager&&this.expressionManager.resetExpression(),this.playing=!0,this._startMotion(o),!0):(n&&(Xs.dispose(n),this.currentAudio=void 0),!1)}))}startRandomMotion(e,t){return Xr(this,null,(function*(){const r=this.definitions[e];if(null==r?void 0:r.length){const i=[];for(let t=0;t<r.length;t++)null===this.motionGroups[e][t]||this.state.isActive(e,t)||i.push(t);if(i.length){const r=Math.floor(Math.random()*i.length);return this.startMotion(e,i[r],t)}}return!1}))}stopAllMotions(){this._stopAllMotions(),this.state.reset(),this.currentAudio&&(Xs.dispose(this.currentAudio),this.currentAudio=void 0)}update(e,t){var r;return this.isFinished()&&(this.playing&&(this.playing=!1,this.emit("motionFinish")),this.state.shouldOverrideExpression()&&(null==(r=this.expressionManager)||r.restoreExpression()),this.state.complete(),this.state.shouldRequestIdleMotion()&&this.startRandomMotion(this.groups.idle,Ws.IDLE)),this.updateParameters(e,t)}destroy(){var e;this.destroyed=!0,this.emit("destroy"),this.stopAllMotions(),null==(e=this.expressionManager)||e.destroy();this.definitions=void 0,this.motionGroups=void 0}}const qs={x:0,y:0,width:0,height:0};class Zs extends S{constructor(){super(...arguments),this.focusController=new zs,this.originalWidth=0,this.originalHeight=0,this.width=0,this.height=0,this.localTransform=new C,this.drawingMatrix=new C,this.hitAreas={},this.textureFlipY=!1,this.viewport=[0,0,0,0],this.destroyed=!1}init(){this.setupLayout(),this.setupHitAreas()}setupLayout(){const e=this,t=this.getSize();e.originalWidth=t[0],e.originalHeight=t[1];const r=Object.assign({width:2,height:2},this.getLayout());this.localTransform.scale(r.width/2,r.height/2),e.width=this.originalWidth*this.localTransform.a,e.height=this.originalHeight*this.localTransform.d;const i=void 0!==r.x&&r.x-r.width/2||void 0!==r.centerX&&r.centerX||void 0!==r.left&&r.left-r.width/2||void 0!==r.right&&r.right+r.width/2||0,s=void 0!==r.y&&r.y-r.height/2||void 0!==r.centerY&&r.centerY||void 0!==r.top&&r.top-r.height/2||void 0!==r.bottom&&r.bottom+r.height/2||0;this.localTransform.translate(this.width*i,-this.height*s)}setupHitAreas(){const e=this.getHitAreaDefs().filter((e=>e.index>=0));for(const t of e)this.hitAreas[t.name]=t}hitTest(e,t){return Object.keys(this.hitAreas).filter((r=>this.isHit(r,e,t)))}isHit(e,t,r){if(!this.hitAreas[e])return!1;const i=this.hitAreas[e].index,s=this.getDrawableBounds(i,qs);return s.x<=t&&t<=s.x+s.width&&s.y<=r&&r<=s.y+s.height}getDrawableBounds(e,t){const r=this.getDrawableVertices(e);let i=r[0],s=r[0],n=r[1],o=r[1];for(let a=0;a<r.length;a+=2){const e=r[a],t=r[a+1];i=Math.min(e,i),s=Math.max(e,s),n=Math.min(t,n),o=Math.max(t,o)}return null!=t||(t={}),t.x=i,t.y=n,t.width=s-i,t.height=o-n,t}updateTransform(e){this.drawingMatrix.copyFrom(e).append(this.localTransform)}update(e,t){this.focusController.update(e)}destroy(){this.destroyed=!0,this.emit("destroy"),this.motionManager.destroy(),this.motionManager=void 0}}class $s extends Error{constructor(e,t,r,i=!1){super(e),this.url=t,this.status=r,this.aborted=i}}const en=class{static createXHR(e,t,r,i,s){const n=new XMLHttpRequest;if(en.allXhrSet.add(n),e){let t=en.xhrMap.get(e);t?t.add(n):(t=new Set([n]),en.xhrMap.set(e,t)),e.listeners("destroy").includes(en.cancelXHRs)||e.once("destroy",en.cancelXHRs)}return n.open("GET",t),n.responseType=r,n.onload=()=>{200!==n.status&&0!==n.status||!n.response?n.onerror():i(n.response)},n.onerror=()=>{ks.warn("XHRLoader",`Failed to load resource as ${n.responseType} (Status ${n.status}): ${t}`),s(new $s("Network error.",t,n.status))},n.onabort=()=>s(new $s("Aborted.",t,n.status,!0)),n.onloadend=()=>{var t;en.allXhrSet.delete(n),e&&(null==(t=en.xhrMap.get(e))||t.delete(n))},n}static cancelXHRs(){var e;null==(e=en.xhrMap.get(this))||e.forEach((e=>{e.abort(),en.allXhrSet.delete(e)})),en.xhrMap.delete(this)}static release(){en.allXhrSet.forEach((e=>e.abort())),en.allXhrSet.clear(),en.xhrMap=new WeakMap}};let tn=en;function rn(e,t){let r=-1;return function i(s,n){if(n)return Promise.reject(n);if(s<=r)return Promise.reject(new Error("next() called multiple times"));r=s;const o=e[s];if(!o)return Promise.resolve();try{return Promise.resolve(o(t,i.bind(null,s+1)))}catch(a){return Promise.reject(a)}}(0)}tn.xhrMap=new WeakMap,tn.allXhrSet=new Set,tn.loader=(e,t)=>new Promise(((t,r)=>{en.createXHR(e.target,e.settings?e.settings.resolveURL(e.url):e.url,e.type,(r=>{e.result=r,t()}),r).send()}));class sn{static load(e){return rn(this.middlewares,e).then((()=>e.result))}}sn.middlewares=[tn.loader];const nn="Live2DFactory",on=(e,t)=>Xr(void 0,null,(function*(){if("string"==typeof e.source){const t=yield sn.load({url:e.source,type:"json",target:e.live2dModel});t.url=e.source,e.source=t,e.live2dModel.emit("settingsJSONLoaded",t)}return t()})),an=(e,t)=>Xr(void 0,null,(function*(){if(e.source instanceof Hs)return e.settings=e.source,t();if("object"==typeof e.source){const r=gn.findRuntime(e.source);if(r){const i=r.createModelSettings(e.source);return e.settings=i,e.live2dModel.emit("settingsLoaded",i),t()}}throw new TypeError("Unknown settings format.")})),ln=(e,t)=>{if(e.settings){const r=gn.findRuntime(e.settings);if(r)return r.ready().then(t)}return t()},un=(e,t)=>Xr(void 0,null,(function*(){yield t();const r=e.internalModel;if(r){const t=e.settings,i=gn.findRuntime(t);if(i){const s=[];t.pose&&s.push(sn.load({settings:t,url:t.pose,type:"json",target:r}).then((t=>{r.pose=i.createPose(r.coreModel,t),e.live2dModel.emit("poseLoaded",r.pose)})).catch((t=>{e.live2dModel.emit("poseLoadError",t),ks.warn(nn,"Failed to load pose.",t)}))),t.physics&&s.push(sn.load({settings:t,url:t.physics,type:"json",target:r}).then((t=>{r.physics=i.createPhysics(r.coreModel,t),e.live2dModel.emit("physicsLoaded",r.physics)})).catch((t=>{e.live2dModel.emit("physicsLoadError",t),ks.warn(nn,"Failed to load physics.",t)}))),s.length&&(yield Promise.all(s))}}})),hn=(e,t)=>Xr(void 0,null,(function*(){if(!e.settings)throw new TypeError("Missing settings.");{const r=e.live2dModel,i=e.settings.textures.map((t=>function(e,t={}){const r={resourceOptions:{crossorigin:t.crossOrigin}};if(M.fromURL)return M.fromURL(e,r).catch((e=>{if(e instanceof Error)throw e;const t=new Error("Texture loading error");throw t.event=e,t}));r.resourceOptions.autoLoad=!1;const i=M.from(e,r);if(i.baseTexture.valid)return Promise.resolve(i);const s=i.baseTexture.resource;return null!=s._live2d_load||(s._live2d_load=new Promise(((e,t)=>{const r=e=>{s.source.removeEventListener("error",r);const i=new Error("Texture loading error");i.event=e,t(i)};s.source.addEventListener("error",r),s.load().then((()=>e(i))).catch(r)}))),s._live2d_load}(e.settings.resolveURL(t),{crossOrigin:e.options.crossOrigin})));if(yield t(),!e.internalModel)throw new TypeError("Missing internal model.");r.internalModel=e.internalModel,r.emit("modelLoaded",e.internalModel),r.textures=yield Promise.all(i),r.emit("textureLoaded",r.textures)}})),cn=(e,t)=>Xr(void 0,null,(function*(){const r=e.settings;if(r instanceof Hs){const i=gn.findRuntime(r);if(!i)throw new TypeError("Unknown model settings.");const s=yield sn.load({settings:r,url:r.moc,type:"arraybuffer",target:e.live2dModel});if(!i.isValidMoc(s))throw new Error("Invalid moc data");const n=i.createCoreModel(s);return e.internalModel=i.createInternalModel(n,r,e.options),t()}throw new TypeError("Missing settings.")})),dn=class{static registerRuntime(e){dn.runtimes.push(e),dn.runtimes.sort(((e,t)=>t.version-e.version))}static findRuntime(e){for(const t of dn.runtimes)if(t.test(e))return t}static setupLive2DModel(e,t,r){return Xr(this,null,(function*(){const i=new Promise((t=>e.once("textureLoaded",t))),s=new Promise((t=>e.once("modelLoaded",t))),n=Promise.all([i,s]).then((()=>e.emit("ready")));yield rn(dn.live2DModelMiddlewares,{live2dModel:e,source:t,options:r||{}}),yield n,e.emit("load")}))}static loadMotion(e,t,r){var i;const s=i=>e.emit("motionLoadError",t,r,i);try{const n=null==(i=e.definitions[t])?void 0:i[r];if(!n)return Promise.resolve(void 0);e.listeners("destroy").includes(dn.releaseTasks)||e.once("destroy",dn.releaseTasks);let o=dn.motionTasksMap.get(e);o||(o={},dn.motionTasksMap.set(e,o));let a=o[t];a||(a=[],o[t]=a);const l=e.getMotionFile(n);return null!=a[r]||(a[r]=sn.load({url:l,settings:e.settings,type:e.motionDataType,target:e}).then((i=>{var s;const o=null==(s=dn.motionTasksMap.get(e))?void 0:s[t];o&&delete o[r];const a=e.createMotion(i,t,n);return e.emit("motionLoaded",t,r,a),a})).catch((t=>{ks.warn(e.tag,`Failed to load motion: ${l}\n`,t),s(t)}))),a[r]}catch(n){ks.warn(e.tag,`Failed to load motion at "${t}"[${r}]\n`,n),s(n)}return Promise.resolve(void 0)}static loadExpression(e,t){const r=r=>e.emit("expressionLoadError",t,r);try{const i=e.definitions[t];if(!i)return Promise.resolve(void 0);e.listeners("destroy").includes(dn.releaseTasks)||e.once("destroy",dn.releaseTasks);let s=dn.expressionTasksMap.get(e);s||(s=[],dn.expressionTasksMap.set(e,s));const n=e.getExpressionFile(i);return null!=s[t]||(s[t]=sn.load({url:n,settings:e.settings,type:"json",target:e}).then((r=>{const s=dn.expressionTasksMap.get(e);s&&delete s[t];const n=e.createExpression(r,i);return e.emit("expressionLoaded",t,n),n})).catch((t=>{ks.warn(e.tag,`Failed to load expression: ${n}\n`,t),r(t)}))),s[t]}catch(i){ks.warn(e.tag,`Failed to load expression at [${t}]\n`,i),r(i)}return Promise.resolve(void 0)}static releaseTasks(){this instanceof Ys?dn.motionTasksMap.delete(this):dn.expressionTasksMap.delete(this)}};let gn=dn;gn.runtimes=[],gn.urlToJSON=on,gn.jsonToSettings=an,gn.waitUntilReady=ln,gn.setupOptionals=un,gn.setupEssentials=hn,gn.createInternalModel=cn,gn.live2DModelMiddlewares=[on,an,ln,un,hn,cn],gn.motionTasksMap=new WeakMap,gn.expressionTasksMap=new WeakMap,Ys.prototype._loadMotion=function(e,t){return gn.loadMotion(this,e,t)},Gs.prototype._loadExpression=function(e){return gn.loadExpression(this,e)};function pn(e){this.tap(e.data.global.x,e.data.global.y)}function mn(e){this.focus(e.data.global.x,e.data.global.y)}class An extends P{}const fn=new x,_n=new C;let En;class Tn extends w{constructor(e){super(),this.tag="Live2DModel(uninitialized)",this.textures=[],this.transform=new An,this.anchor=new b(this.onAnchorChange,this,0,0),this.glContextID=-1,this.elapsedTime=performance.now(),this.deltaTime=0,this._autoUpdate=!1,this.once("modelLoaded",(()=>this.init(e)))}static from(e,t){const r=new this(t);return gn.setupLive2DModel(r,e,t).then((()=>r))}static fromSync(e,t){const r=new this(t);return gn.setupLive2DModel(r,e,t).then(null==t?void 0:t.onLoad).catch(null==t?void 0:t.onError),r}static registerTicker(e){En=e}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){var t;En||(En=null==(t=window.PIXI)?void 0:t.Ticker),e?this._destroyed||(En?(En.shared.add(this.onTickerUpdate,this),this._autoUpdate=!0):ks.warn(this.tag,"No Ticker registered, please call Live2DModel.registerTicker(Ticker).")):(null==En||En.shared.remove(this.onTickerUpdate,this),this._autoUpdate=!1)}init(e){this.tag=`Live2DModel(${this.internalModel.settings.name})`;const t=Object.assign({autoUpdate:!0,autoInteract:!0},e);t.autoInteract&&(this.interactive=!0),this.autoInteract=t.autoInteract,this.autoUpdate=t.autoUpdate}onAnchorChange(){this.pivot.set(this.anchor.x*this.internalModel.width,this.anchor.y*this.internalModel.height)}motion(e,t,r){return void 0===t?this.internalModel.motionManager.startRandomMotion(e,r):this.internalModel.motionManager.startMotion(e,t,r)}expression(e){return this.internalModel.motionManager.expressionManager?void 0===e?this.internalModel.motionManager.expressionManager.setRandomExpression():this.internalModel.motionManager.expressionManager.setExpression(e):Promise.resolve(!1)}focus(e,t,r=!1){fn.x=e,fn.y=t,this.toModelPosition(fn,fn,!0);let i=fn.x/this.internalModel.originalWidth*2-1,s=fn.y/this.internalModel.originalHeight*2-1,n=Math.atan2(s,i);this.internalModel.focusController.focus(Math.cos(n),-Math.sin(n),r)}tap(e,t){const r=this.hitTest(e,t);r.length&&(ks.log(this.tag,"Hit",r),this.emit("hit",r))}hitTest(e,t){return fn.x=e,fn.y=t,this.toModelPosition(fn,fn),this.internalModel.hitTest(fn.x,fn.y)}toModelPosition(e,t=e.clone(),r){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.transform.worldTransform.applyInverse(e,t),this.internalModel.localTransform.applyInverse(t,t),t}containsPoint(e){return this.getBounds(!0).contains(e.x,e.y)}_calculateBounds(){this._bounds.addFrame(this.transform,0,0,this.internalModel.width,this.internalModel.height)}onTickerUpdate(){this.update(En.shared.deltaMS)}update(e){this.deltaTime+=e,this.elapsedTime+=e}_render(e){this.registerInteraction(e.plugins.interaction),e.batch.reset(),e.geometry.reset(),e.shader.reset(),e.state.reset();let t=!1;this.glContextID!==e.CONTEXT_UID&&(this.glContextID=e.CONTEXT_UID,this.internalModel.updateWebGLContext(e.gl,this.glContextID),t=!0);for(let s=0;s<this.textures.length;s++){const r=this.textures[s];r.valid&&(!t&&r.baseTexture._glTextures[this.glContextID]||(e.gl.pixelStorei(WebGLRenderingContext.UNPACK_FLIP_Y_WEBGL,this.internalModel.textureFlipY),e.texture.bind(r.baseTexture,0)),this.internalModel.bindTexture(s,r.baseTexture._glTextures[this.glContextID].texture),r.baseTexture.touched=e.textureGC.count)}const r=e.framebuffer.viewport;this.internalModel.viewport=[r.x,r.y,r.width,r.height],this.deltaTime&&(this.internalModel.update(this.deltaTime,this.elapsedTime),this.deltaTime=0);const i=_n.copyFrom(e.globalUniforms.uniforms.projectionMatrix).append(this.worldTransform);this.internalModel.updateTransform(i),this.internalModel.draw(e.gl),e.state.reset(),e.texture.reset()}destroy(e){this.emit("destroy"),this.autoUpdate=!1,this.unregisterInteraction(),(null==e?void 0:e.texture)&&this.textures.forEach((t=>t.destroy(e.baseTexture))),this.internalModel.destroy(),super.destroy(e)}}js(Tn,[class{constructor(){this._autoInteract=!1}get autoInteract(){return this._autoInteract}set autoInteract(e){e!==this._autoInteract&&(e?this.on("pointertap",pn,this):this.off("pointertap",pn,this),this._autoInteract=e)}registerInteraction(e){e!==this.interactionManager&&(this.unregisterInteraction(),this._autoInteract&&e&&(this.interactionManager=e,e.on("pointermove",mn,this)))}unregisterInteraction(){var e;this.interactionManager&&(null==(e=this.interactionManager)||e.off("pointermove",mn,this),this.interactionManager=void 0)}}]);const yn=class{static resolveURL(e,t){var r;const i=null==(r=yn.filesMap[e])?void 0:r[t];if(void 0===i)throw new Error("Cannot find this file from uploaded files: "+t);return i}static upload(e,t){return Xr(this,null,(function*(){const r={};for(const i of t.getDefinedFiles()){const s=decodeURI(v.resolve(t.url,i)),n=e.find((e=>e.webkitRelativePath===s));n&&(r[i]=URL.createObjectURL(n))}yn.filesMap[t._objectURL]=r}))}static createSettings(e){return Xr(this,null,(function*(){const t=e.find((e=>e.name.endsWith("model.json")||e.name.endsWith("model3.json")));if(!t)throw new TypeError("Settings file not found");const r=yield yn.readText(t),i=JSON.parse(r);i.url=t.webkitRelativePath;const s=gn.findRuntime(i);if(!s)throw new Error("Unknown settings JSON");const n=s.createModelSettings(i);return n._objectURL=URL.createObjectURL(t),n}))}static readText(e){return Xr(this,null,(function*(){return new Promise(((t,r)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=r,i.readAsText(e,"utf8")}))}))}};let Cn=yn;Cn.filesMap={},Cn.factory=(e,t)=>Xr(void 0,null,(function*(){if(Array.isArray(e.source)&&e.source[0]instanceof File){const t=e.source;let r=t.settings;if(r){if(!r._objectURL)throw new Error('"_objectURL" must be specified in ModelSettings')}else r=yield yn.createSettings(t);r.validateFiles(t.map((e=>encodeURI(e.webkitRelativePath)))),yield yn.upload(t,r),r.resolveURL=function(e){return yn.resolveURL(this._objectURL,e)},e.source=r,e.live2dModel.once("modelLoaded",(e=>{e.once("destroy",(function(){const e=this.settings._objectURL;if(URL.revokeObjectURL(e),yn.filesMap[e])for(const t of Object.values(yn.filesMap[e]))URL.revokeObjectURL(t);delete yn.filesMap[e]}))}))}return t()})),gn.live2DModelMiddlewares.unshift(Cn.factory);const vn=class{static unzip(e,t){return Xr(this,null,(function*(){const r=yield vn.getFilePaths(e),i=[];for(const e of t.getDefinedFiles()){const s=decodeURI(v.resolve(t.url,e));r.includes(s)&&i.push(s)}const s=yield vn.getFiles(e,i);for(let e=0;e<s.length;e++){const t=i[e],r=s[e];Object.defineProperty(r,"webkitRelativePath",{value:t})}return s}))}static createSettings(e){return Xr(this,null,(function*(){const t=(yield vn.getFilePaths(e)).find((e=>e.endsWith("model.json")||e.endsWith("model3.json")));if(!t)throw new Error("Settings file not found");const r=yield vn.readText(e,t);if(!r)throw new Error("Empty settings file: "+t);const i=JSON.parse(r);i.url=t;const s=gn.findRuntime(i);if(!s)throw new Error("Unknown settings JSON");return s.createModelSettings(i)}))}static zipReader(e,t){return Xr(this,null,(function*(){throw new Error("Not implemented")}))}static getFilePaths(e){return Xr(this,null,(function*(){throw new Error("Not implemented")}))}static getFiles(e,t){return Xr(this,null,(function*(){throw new Error("Not implemented")}))}static readText(e,t){return Xr(this,null,(function*(){throw new Error("Not implemented")}))}static releaseReader(e){}};let Sn=vn;if(Sn.ZIP_PROTOCOL="zip://",Sn.uid=0,Sn.factory=(e,t)=>Xr(void 0,null,(function*(){const r=e.source;let i,s,n;if("string"==typeof r&&(r.endsWith(".zip")||r.startsWith(vn.ZIP_PROTOCOL))?(i=r.startsWith(vn.ZIP_PROTOCOL)?r.slice(vn.ZIP_PROTOCOL.length):r,s=yield sn.load({url:i,type:"blob",target:e.live2dModel})):Array.isArray(r)&&1===r.length&&r[0]instanceof File&&r[0].name.endsWith(".zip")&&(s=r[0],i=URL.createObjectURL(s),n=r.settings),s){if(!s.size)throw new Error("Empty zip file");const t=yield vn.zipReader(s,i);n||(n=yield vn.createSettings(t)),n._objectURL=vn.ZIP_PROTOCOL+vn.uid+"/"+n.url;const r=yield vn.unzip(t,n);r.settings=n,e.source=r,i.startsWith("blob:")&&e.live2dModel.once("modelLoaded",(e=>{e.once("destroy",(function(){URL.revokeObjectURL(i)}))})),vn.releaseReader(t)}return t()})),gn.live2DModelMiddlewares.unshift(Sn.factory),!window.Live2DCubismCore)throw new Error("Could not find Cubism 4 runtime. This plugin requires live2dcubismcore.js to be loaded.");class xn extends Gs{constructor(e,t){var r;super(e,t),this.queueManager=new Wi,this.definitions=null!=(r=e.expressions)?r:[],this.init()}isFinished(){return this.queueManager.isFinished()}getExpressionIndex(e){return this.definitions.findIndex((t=>t.Name===e))}getExpressionFile(e){return e.File}createExpression(e,t){return xi.create(e)}_setExpression(e){return this.queueManager.startMotion(e,!1,performance.now())}stopAllExpressions(){this.queueManager.stopAllMotions()}updateParameters(e,t){return this.queueManager.doUpdateMotion(e,t)}}class wn extends Hs{constructor(e){if(super(e),!wn.isValidJSON(e))throw new TypeError("Invalid JSON.");Object.assign(this,new Fs(e))}static isValidJSON(e){var t;return!!(null==e?void 0:e.FileReferences)&&"string"==typeof e.FileReferences.Moc&&(null==(t=e.FileReferences.Textures)?void 0:t.length)>0&&e.FileReferences.Textures.every((e=>"string"==typeof e))}replaceFiles(e){if(super.replaceFiles(e),this.motions)for(const[t,r]of Object.entries(this.motions))for(let i=0;i<r.length;i++)r[i].File=e(r[i].File,`motions.${t}[${i}].File`),void 0!==r[i].Sound&&(r[i].Sound=e(r[i].Sound,`motions.${t}[${i}].Sound`));if(this.expressions)for(let t=0;t<this.expressions.length;t++)this.expressions[t].File=e(this.expressions[t].File,`expressions[${t}].File`)}}js(wn,[Fs]);class bn extends Ys{constructor(e,t){var r;super(e,t),this.groups={idle:"Idle"},this.motionDataType="json",this.queueManager=new Wi,this.definitions=null!=(r=e.motions)?r:{},this.eyeBlinkIds=e.getEyeBlinkParameters()||[],this.lipSyncIds=e.getLipSyncParameters()||[],this.init(t)}init(e){super.init(e),this.settings.expressions&&(this.expressionManager=new xn(this.settings,e)),this.queueManager.setEventCallback(((e,t,r)=>{this.emit("motion:"+t)}))}isFinished(){return this.queueManager.isFinished()}_startMotion(e,t){return e.setFinishedMotionHandler(t),this.queueManager.stopAllMotions(),this.queueManager.startMotion(e,!1,performance.now())}_stopAllMotions(){this.queueManager.stopAllMotions()}createMotion(e,t,r){const i=zi.create(e),s=new Fi(e),n=(t===this.groups.idle?Ns.idleMotionFadingDuration:Ns.motionFadingDuration)/1e3;return void 0===s.getMotionFadeInTime()&&i.setFadeInTime(r.FadeInTime>0?r.FadeInTime:n),void 0===s.getMotionFadeOutTime()&&i.setFadeOutTime(r.FadeOutTime>0?r.FadeOutTime:n),i.setEffectIds(this.eyeBlinkIds,this.lipSyncIds),i}getMotionFile(e){return e.File}getMotionName(e){return e.File}getSoundFile(e){return e.Sound}updateParameters(e,t){return this.queueManager.doUpdateMotion(e,t)}destroy(){super.destroy(),this.queueManager.release(),this.queueManager=void 0}}const Mn=new oi;class Pn extends Zs{constructor(e,t,r){super(),this.lipSync=!0,this.breath=Yr.create(),this.renderer=new Ds,this.idParamAngleX="ParamAngleX",this.idParamAngleY="ParamAngleY",this.idParamAngleZ="ParamAngleZ",this.idParamEyeBallX="ParamEyeBallX",this.idParamEyeBallY="ParamEyeBallY",this.idParamBodyAngleX="ParamBodyAngleX",this.idParamBreath="ParamBreath",this.pixelsPerUnit=1,this.centeringTransform=new C,this.coreModel=e,this.settings=t,this.motionManager=new bn(t,r),this.init()}init(){var e;super.init(),(null==(e=this.settings.getEyeBlinkParameters())?void 0:e.length)>0&&(this.eyeBlink=$r.create(this.settings)),this.breath.setParameters([new qr(this.idParamAngleX,0,15,6.5345,.5),new qr(this.idParamAngleY,0,8,3.5345,.5),new qr(this.idParamAngleZ,0,10,5.5345,.5),new qr(this.idParamBodyAngleX,0,4,15.5345,.5),new qr(this.idParamBreath,0,.5,3.2345,.5)]),this.renderer.initialize(this.coreModel),this.renderer.setIsPremultipliedAlpha(!0)}getSize(){return[this.coreModel.getModel().canvasinfo.CanvasWidth,this.coreModel.getModel().canvasinfo.CanvasHeight]}getLayout(){const e={};if(this.settings.layout)for(const t of Object.keys(this.settings.layout)){e[t.charAt(0).toLowerCase()+t.slice(1)]=this.settings.layout[t]}return e}setupLayout(){super.setupLayout(),this.pixelsPerUnit=this.coreModel.getModel().canvasinfo.PixelsPerUnit,this.centeringTransform.scale(this.pixelsPerUnit,this.pixelsPerUnit).translate(this.originalWidth/2,this.originalHeight/2)}updateWebGLContext(e,t){this.renderer.firstDraw=!0,this.renderer._bufferData={vertex:null,uv:null,index:null},this.renderer.startUp(e),this.renderer._clippingManager._currentFrameNo=t,this.renderer._clippingManager._maskTexture=void 0,ws.getInstance()._shaderSets=[]}bindTexture(e,t){this.renderer.bindTexture(e,t)}getHitAreaDefs(){var e,t;return null!=(t=null==(e=this.settings.hitAreas)?void 0:e.map((e=>({id:e.Id,name:e.Name,index:this.coreModel.getDrawableIndex(e.Id)}))))?t:[]}getDrawableIDs(){return this.coreModel.getDrawableIds()}getDrawableIndex(e){return this.coreModel.getDrawableIndex(e)}getDrawableVertices(e){if("string"==typeof e&&-1===(e=this.coreModel.getDrawableIndex(e)))throw new TypeError("Unable to find drawable ID: "+e);const t=this.coreModel.getDrawableVertices(e).slice();for(let r=0;r<t.length;r+=2)t[r]=t[r]*this.pixelsPerUnit+this.originalWidth/2,t[r+1]=-t[r+1]*this.pixelsPerUnit+this.originalHeight/2;return t}updateTransform(e){this.drawingMatrix.copyFrom(this.centeringTransform).prepend(this.localTransform).prepend(e)}update(e,t){var r,i,s,n;super.update(e,t),e/=1e3,t/=1e3;const o=this.coreModel;this.emit("beforeMotionUpdate");const a=this.motionManager.update(this.coreModel,t);this.emit("afterMotionUpdate"),o.saveParameters(),null==(r=this.motionManager.expressionManager)||r.update(o,t),a||null==(i=this.eyeBlink)||i.updateParameters(o,e),this.updateFocus(),this.updateNaturalMovements(1e3*e,1e3*t),null==(s=this.physics)||s.evaluate(o,e),null==(n=this.pose)||n.updateParameters(o,e),this.emit("beforeModelUpdate"),o.update(),o.loadParameters()}updateFocus(){this.coreModel.addParameterValueById(this.idParamEyeBallX,this.focusController.x),this.coreModel.addParameterValueById(this.idParamEyeBallY,this.focusController.y),this.coreModel.addParameterValueById(this.idParamAngleX,30*this.focusController.x),this.coreModel.addParameterValueById(this.idParamAngleY,30*this.focusController.y),this.coreModel.addParameterValueById(this.idParamAngleZ,this.focusController.x*this.focusController.y*-30),this.coreModel.addParameterValueById(this.idParamBodyAngleX,10*this.focusController.x)}updateNaturalMovements(e,t){var r;null==(r=this.breath)||r.updateParameters(this.coreModel,e/1e3)}draw(e){const t=this.drawingMatrix,r=Mn.getArray();r[0]=t.a,r[1]=t.b,r[4]=-t.c,r[5]=-t.d,r[12]=t.tx,r[13]=t.ty,this.renderer.setMvpMatrix(Mn),this.renderer.setRenderState(e.getParameter(e.FRAMEBUFFER_BINDING),this.viewport),this.renderer.drawModel()}destroy(){super.destroy(),this.renderer.release(),this.coreModel.release(),this.renderer=void 0,this.coreModel=void 0}}let Rn,On=20;function In(){var e;null==(e=this.__moc)||e.release()}gn.registerRuntime({version:4,ready:function(){return mi.isStarted()?Promise.resolve():(null!=Rn||(Rn=new Promise(((e,t)=>{!function r(){try{i=Object.assign({logFunction:console.log,loggingLevel:Ai.LogLevel_Verbose},i),mi.startUp(i),mi.initialize(),e()}catch(s){if(On--,On<0){const e=new Error("Failed to start up Cubism 4 framework.");return e.cause=s,void t(e)}ks.log("Cubism4","Startup failed, retrying 10ms later..."),setTimeout(r,10)}var i}()}))),Rn)},test:e=>e instanceof wn||wn.isValidJSON(e),isValidMoc(e){if(e.byteLength<4)return!1;const t=new Int8Array(e,0,4);return"MOC3"===String.fromCharCode(...t)},createModelSettings:e=>new wn(e),createCoreModel(e){const t=vi.create(e);try{const e=t.createModel();return e.__moc=t,e}catch(r){try{t.release()}catch(i){}throw r}},createInternalModel(e,t,r){const i=new Pn(e,t,r),s=e;return s.__moc&&(i.__moc=s.__moc,delete s.__moc,i.once("destroy",In)),i},createPhysics:(e,t)=>ss.create(t),createPose:(e,t)=>ti.create(t)});const Ln={class:"feihua-container"},Bn={class:"body"},Dn={class:"rules"},Fn={class:"imagery-choose"},Nn={class:"imagery-container"},Un=["src","alt"],kn={class:"chat-comp"},Vn=t({__name:"FeihuaView",setup(e){let t,r;window.PIXI=R;const u=be(),h=i(0),c=i(0),d=i(0),p=i([{name:"船",path:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAAAAXNSR0IArs4c6QAADN5JREFUeF7tnQfoPUcRx7+xYe/YGypYQbD33rFgiQU1sWI3qNg7FtSoGJPYew2Cihp7icauiAV77EYsUbHXWO4De7gMe7+3t3fv7bu9WQjh93+3u/dmP293Z3Zm9hB5cQlUlMAhFfv2rl0CcgAdgqoScACrit87dwCdgaoScACrit87dwCdgaoScACrit87dwCdgaoScACrit87dwCdgaoScACrit87dwCdgaoScACrit87dwCdgaoScACrit87dwCdgaoScACrit87dwCdgaoScACrit87dwCdgaoScACrit87dwCdgaoScACrit87dwCdgaoScACrit87dwCdgaoScACrit87dwCdgaoScACrit87dwCdgaoScACrit87XzuAp5P0aEn3kfQaSS+V9BfHYncSWDuAV5F0oqQzB5F/RNIdJf15d0Ow7p7WDuADJb08QuA/km4i6RPrxmJ3337tAD5b0hMjcf9c0jUlnby7IVh3T2sH8A2SDosQOEXSdSSdtG4sdvft1wzgWSUdL+kGRty3k/Te3Q3BuntaM4AXkfR5SReOEPirpJtK+ty6sdjdt18rgKeXdKykBxhRA+CNJX1hi0Nwnm6GRftmqb+EpGuEvujzD5I+G34YP5H03y2+x140vUYAz93Neq8K5pbUILD/u1lnGwSAucppJd1J0nMkXSqzUfajR0h6u6R/Z9ZZ3GNrA5D93ps6o/NFN4zUHyU9aKbBv4CkNwfzTgkgmIkeIelfJZX3vc5aAGTJfZykZ44ckBdKesKEwT+HpHdMgI/XZRm+s6R3jnz3RTy+BgCB7yVhRisZFMA9snA/djdJb0t0ymz2fkkf7ma330m6sqRzdkeB55N0a0m8c1xeL+m+he9Q8p13Vqd1AIeUjVjAwAAIKARXSEie05FbdkoDx3RjCrJ9raR7m0pPl/SCA86czx9OYi4b1ftWMBf9ZswLLOHZ1gFEmfigpNMkBoN93iPDDPW38DmmGbRjbIFx+ZCkO3TLeP9cztieV9Inu33k5cPDLKX3kHRcxkxmT2j+JOl63Tt8LafjJT3TMoBnCkrEbcyAMOM9VdLRA7MQ9VBU0Fr78s9uVrrhSPvg5Tqb4qe75R+tm4JWjemF475NBVsk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"},{name:"风",path:"data:image/png;base64,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"},{name:"酒",path:"data:image/png;base64,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"},{name:"柳",path:"data:image/png;base64,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"},{name:"梅",path:"data:image/png;base64,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"},{name:"山",path:"data:image/png;base64,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"},{name:"水",path:"data:image/png;base64,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"},{name:"雁",path:"data:image/png;base64,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"},{name:"月",path:"data:image/png;base64,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"}]),m=i(p.value[0]),A=i();let f,C=0;const v=()=>{h.value=1,d.value=Math.floor(Math.random()*p.value.length),S(d.value)},S=e=>{c.value=0,f=window.setInterval((()=>{C++,C>=p.value.length&&(C=0),m.value=p.value[C],c.value++,c.value>=20&&(window.clearInterval(f),m.value=p.value[e])}),100)};return s(c,(()=>{20===c.value&&window.setTimeout((async()=>{u.messages.push({role:"user",content:`意象抽取结果为【${p.value[d.value].name}】`});try{const e=new Promise(((e,t)=>{setTimeout((()=>{t(new Error("Timeout Error"))}),5e3)})),t=await Promise.race([Fr(u.messages),e]);u.messages=t.data.data,h.value=2}catch(e){h.value=0,I.error("请求失败，请稍后重试！"),u.messages=[]}}),200)})),s(h,(()=>{localStorage.setItem("compId",h.value.toString())})),n((async()=>{const e=localStorage.getItem("compId");e&&(h.value=parseInt(e)),t=new O({view:A.value,autoStart:!0,resizeTo:window,backgroundAlpha:0});r=await Tn.from("/Poetry_Visualization/live2d/model/poet.model3.json"),t.stage.addChild(r),r.scale.set(.2)})),_((()=>{f&&window.clearInterval(f),null==r||r.destroy(),null==t||t.destroy()})),(e,t)=>(o(),a("div",Ln,[l("div",Bn,[t[1]||(t[1]=l("h1",{class:"title center-align"},"飞花擂台",-1)),g(l("div",Dn,[t[0]||(t[0]=T('<h3 class="subtitle center-align" data-v-a5b39881>欢迎来到飞花擂台！</h3><h3 class="subtitle center-align" data-v-a5b39881>与诗词达人小柿子姑娘来一场酣畅淋漓的飞花令挑战吧！</h3><ol class="icon-rule-list" data-v-a5b39881><li class="icon-rule-item" data-v-a5b39881>请你与小柿子轮流回答包含/描述某个意象（如山、水等）的一句诗词，意象在诗词的位置不作限制。</li><li class="icon-rule-item" data-v-a5b39881>双方均禁止在一局中重复回答出现过的诗词。</li><li class="icon-rule-item" data-v-a5b39881> 如若需要小柿子的帮助，可以输入<span style="color:brown;" data-v-a5b39881>[提示]</span>，小柿子会给出一个包含指定意象的诗词作品名。<strong data-v-a5b39881>注意：一局中有且仅有<span style="color:brown;" data-v-a5b39881>3</span>次提示机会。</strong></li><li class="icon-rule-item" data-v-a5b39881>如若无法继续挑战，请输入<span style="color:brown;" data-v-a5b39881>[我认输]</span>，本局游戏将结束；若你的回答违反规则，本局游戏也将结束。</li></ol><h3 class="subtitle center-align" data-v-a5b39881>若准备完毕，请点击下方按钮，抽取本局意象并开启挑战吧！</h3>',4)),l("button",{class:"start-button",onClick:v},"开始游戏")],512),[[E,0===h.value]]),g(l("div",Fn,[l("div",Nn,[l("img",{src:m.value.path,alt:m.value.name,class:"imagery-image"},null,8,Un)])],512),[[E,1===h.value]]),g(l("div",kn,[y(Wr)],512),[[E,2===h.value]])]),l("canvas",{ref_key:"liveCanvas",ref:A,class:"live-canvas"},null,512)]))}}),jn=f(Vn,[["__scopeId","data-v-a5b39881"]]);export{jn as default};
