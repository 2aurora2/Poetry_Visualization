import{d as e,y as s,a as t,c as o,D as n,i as a,l,f as r,g as u,m as i,u as d,j as p,C as c,t as f,v as m,T as g,E as y,r as v,o as b,w as C,p as h,k as x,G as w,F as S,H as T,I as B,J as N,K as _,L as k}from"./index-CNMcy5qX.js";import{b as L,d as $,u as I,i as M,a as E,_ as z,w as H,c as j,e as D,f as A,T as U,g as Z,h as F,E as O,j as R,k as q,l as G,m as J,n as K,o as P}from"./cubism4.es-BfOUfOZM.js";const Q=L({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:$([String,Object,Array])},offset:{type:$(Array),default:[0,0]},badgeClass:{type:String}}),V=e({name:"ElBadge"});const W=H(z(e({...V,props:Q,setup(e,{expose:y}){const v=e,b=I("badge"),C=s((()=>v.isDot?"":M(v.value)&&M(v.max)&&v.max<v.value?`${v.max}+`:`${v.value}`)),h=s((()=>{var e,s,t,o,n;return[{backgroundColor:v.color,marginRight:E(-(null!=(s=null==(e=v.offset)?void 0:e[0])?s:0)),marginTop:E(null!=(o=null==(t=v.offset)?void 0:t[1])?o:0)},null!=(n=v.badgeStyle)?n:{}]}));return y({content:C}),(e,s)=>(t(),o("div",{class:i(d(b).b())},[n(e.$slots,"default"),a(g,{name:`${d(b).namespace.value}-zoom-in-center`,persisted:""},{default:l((()=>[r(u("sup",{class:i([d(b).e("content"),d(b).em("content",e.type),d(b).is("fixed",!!e.$slots.default),d(b).is("dot",e.isDot),d(b).is("hide-zero",!e.showZero&&0===v.value),e.badgeClass]),style:p(d(h))},[n(e.$slots,"content",{value:d(C)},(()=>[c(f(d(C)),1)]))],6),[[m,!e.hidden&&(d(C)||e.isDot||e.$slots.content)]])])),_:3},8,["name"])],2))}}),[["__file","badge.vue"]])),X={},Y=["success","info","warning","error"],ee={customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:D?document.body:void 0},se=L({customClass:{type:String,default:ee.customClass},center:{type:Boolean,default:ee.center},dangerouslyUseHTMLString:{type:Boolean,default:ee.dangerouslyUseHTMLString},duration:{type:Number,default:ee.duration},icon:{type:j,default:ee.icon},id:{type:String,default:ee.id},message:{type:$([String,Object,Function]),default:ee.message},onClose:{type:$(Function),default:ee.onClose},showClose:{type:Boolean,default:ee.showClose},type:{type:String,values:Y,default:ee.type},plain:{type:Boolean,default:ee.plain},offset:{type:Number,default:ee.offset},zIndex:{type:Number,default:ee.zIndex},grouping:{type:Boolean,default:ee.grouping},repeatNum:{type:Number,default:ee.repeatNum}}),te=y([]),oe=e=>{const{prev:s}=(e=>{const s=te.findIndex((s=>s.id===e)),t=te[s];let o;return s>0&&(o=te[s-1]),{current:t,prev:o}})(e);return s?s.vm.exposed.bottom.value:0},ne=e({name:"ElMessage"});var ae=z(e({...ne,props:se,emits:{destroy:()=>!0},setup(e,{expose:c}){const y=e,{Close:B}=R,{ns:N,zIndex:_}=A("message"),{currentZIndex:k,nextZIndex:L}=_,$=v(),I=v(!1),M=v(0);let E;const z=s((()=>y.type?"error"===y.type?"danger":y.type:"info")),H=s((()=>{const e=y.type;return{[N.bm("icon",e)]:e&&U[e]}})),j=s((()=>y.icon||U[y.type]||"")),D=s((()=>oe(y.id))),J=s((()=>((e,s)=>te.findIndex((s=>s.id===e))>0?16:s)(y.id,y.offset)+D.value)),K=s((()=>M.value+J.value)),P=s((()=>({top:`${J.value}px`,zIndex:k.value})));function Q(){0!==y.duration&&({stop:E}=q((()=>{X()}),y.duration))}function V(){null==E||E()}function X(){I.value=!1}return b((()=>{Q(),L(),I.value=!0})),C((()=>y.repeatNum),(()=>{V(),Q()})),Z(document,"keydown",(function({code:e}){e===G.esc&&X()})),F($,(()=>{M.value=$.value.getBoundingClientRect().height})),c({visible:I,bottom:K,close:X}),(e,s)=>(t(),h(g,{name:d(N).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:s=>e.$emit("destroy"),persisted:""},{default:l((()=>[r(u("div",{id:e.id,ref_key:"messageRef",ref:$,class:i([d(N).b(),{[d(N).m(e.type)]:e.type},d(N).is("center",e.center),d(N).is("closable",e.showClose),d(N).is("plain",e.plain),e.customClass]),style:p(d(P)),role:"alert",onMouseenter:V,onMouseleave:Q},[e.repeatNum>1?(t(),h(d(W),{key:0,value:e.repeatNum,type:d(z),class:i(d(N).e("badge"))},null,8,["value","type","class"])):x("v-if",!0),d(j)?(t(),h(d(O),{key:1,class:i([d(N).e("icon"),d(H)])},{default:l((()=>[(t(),h(w(d(j))))])),_:1},8,["class"])):x("v-if",!0),n(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(t(),o(S,{key:1},[x(" Caution here, message could've been compromised, never use user's input as message "),u("p",{class:i(d(N).e("content")),innerHTML:e.message},null,10,["innerHTML"])],2112)):(t(),o("p",{key:0,class:i(d(N).e("content"))},f(e.message),3))])),e.showClose?(t(),h(d(O),{key:2,class:i(d(N).e("closeBtn")),onClick:T(X,["stop"])},{default:l((()=>[a(d(B))])),_:1},8,["class","onClick"])):x("v-if",!0)],46,["id"]),[[m,I.value]])])),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}}),[["__file","message.vue"]]);let le=1;const re=e=>{const s=!e||B(e)||N(e)||_(e)?{message:e}:e,t={...ee,...s};if(t.appendTo){if(B(t.appendTo)){let e=document.querySelector(t.appendTo);K(e)||(e=document.body),t.appendTo=e}}else t.appendTo=document.body;return J(X.grouping)&&!t.grouping&&(t.grouping=X.grouping),M(X.duration)&&3e3===t.duration&&(t.duration=X.duration),M(X.offset)&&16===t.offset&&(t.offset=X.offset),J(X.showClose)&&!t.showClose&&(t.showClose=X.showClose),t},ue=({appendTo:e,...s},t)=>{const o="message_"+le++,n=s.onClose,l=document.createElement("div"),r={...s,id:o,onClose:()=>{null==n||n(),(e=>{const s=te.indexOf(e);if(-1===s)return;te.splice(s,1);const{handler:t}=e;t.close()})(p)},onDestroy:()=>{k(null,l)}},u=a(ae,r,_(r.message)||N(r.message)?{default:_(r.message)?r.message:()=>r.message}:null);u.appContext=t||ie._context,k(u,l),e.appendChild(l.firstElementChild);const i=u.component,d={close:()=>{i.exposed.visible.value=!1}},p={id:o,vnode:u,vm:i,handler:d,props:u.component.props};return p},ie=(e={},s)=>{if(!D)return{close:()=>{}};const t=re(e);if(t.grouping&&te.length){const e=te.find((({vnode:e})=>{var s;return(null==(s=e.props)?void 0:s.message)===t.message}));if(e)return e.props.repeatNum+=1,e.props.type=t.type,e.handler}if(M(X.max)&&te.length>=X.max)return{close:()=>{}};const o=ue(t,s);return te.push(o),o.handler};Y.forEach((e=>{ie[e]=(s={},t)=>{const o=re(s);return ie({...o,type:e},t)}})),ie.closeAll=function(e){for(const s of te)e&&e!==s.props.type||s.handler.close()},ie._context=null;const de=P(ie,"$message");export{de as E};
